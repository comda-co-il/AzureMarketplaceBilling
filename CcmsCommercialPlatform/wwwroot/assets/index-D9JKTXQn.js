(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))s(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function i(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(c){if(c.ep)return;c.ep=!0;const u=i(c);fetch(c.href,u)}})();function MA(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var vh={exports:{}},to={};var Cv;function DA(){if(Cv)return to;Cv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,c,u){var h=null;if(u!==void 0&&(h=""+u),c.key!==void 0&&(h=""+c.key),"key"in c){u={};for(var m in c)m!=="key"&&(u[m]=c[m])}else u=c;return c=u.ref,{$$typeof:r,type:s,key:h,ref:c!==void 0?c:null,props:u}}return to.Fragment=t,to.jsx=i,to.jsxs=i,to}var bv;function UA(){return bv||(bv=1,vh.exports=DA()),vh.exports}var l=UA(),Ch={exports:{}},he={};var Sv;function LA(){if(Sv)return he;Sv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),S=Symbol.iterator;function x(A){return A===null||typeof A!="object"?null:(A=S&&A[S]||A["@@iterator"],typeof A=="function"?A:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,j={};function F(A,B,X){this.props=A,this.context=B,this.refs=j,this.updater=X||T}F.prototype.isReactComponent={},F.prototype.setState=function(A,B){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,B,"setState")},F.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function H(){}H.prototype=F.prototype;function M(A,B,X){this.props=A,this.context=B,this.refs=j,this.updater=X||T}var $=M.prototype=new H;$.constructor=M,N($,F.prototype),$.isPureReactComponent=!0;var Q=Array.isArray;function ue(){}var q={H:null,A:null,T:null,S:null},ye=Object.prototype.hasOwnProperty;function Re(A,B,X){var W=X.ref;return{$$typeof:r,type:A,key:B,ref:W!==void 0?W:null,props:X}}function at(A,B){return Re(A.type,B,A.props)}function lt(A){return typeof A=="object"&&A!==null&&A.$$typeof===r}function te(A){var B={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(X){return B[X]})}var Xe=/\/+/g;function We(A,B){return typeof A=="object"&&A!==null&&A.key!=null?te(""+A.key):B.toString(36)}function St(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(ue,ue):(A.status="pending",A.then(function(B){A.status==="pending"&&(A.status="fulfilled",A.value=B)},function(B){A.status==="pending"&&(A.status="rejected",A.reason=B)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function L(A,B,X,W,de){var ve=typeof A;(ve==="undefined"||ve==="boolean")&&(A=null);var fe=!1;if(A===null)fe=!0;else switch(ve){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(A.$$typeof){case r:case t:fe=!0;break;case v:return fe=A._init,L(fe(A._payload),B,X,W,de)}}if(fe)return de=de(A),fe=W===""?"."+We(A,0):W,Q(de)?(X="",fe!=null&&(X=fe.replace(Xe,"$&/")+"/"),L(de,B,X,"",function(wi){return wi})):de!=null&&(lt(de)&&(de=at(de,X+(de.key==null||A&&A.key===de.key?"":(""+de.key).replace(Xe,"$&/")+"/")+fe)),B.push(de)),1;fe=0;var tt=W===""?".":W+":";if(Q(A))for(var Fe=0;Fe<A.length;Fe++)W=A[Fe],ve=tt+We(W,Fe),fe+=L(W,B,X,ve,de);else if(Fe=x(A),typeof Fe=="function")for(A=Fe.call(A),Fe=0;!(W=A.next()).done;)W=W.value,ve=tt+We(W,Fe++),fe+=L(W,B,X,ve,de);else if(ve==="object"){if(typeof A.then=="function")return L(St(A),B,X,W,de);throw B=String(A),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return fe}function J(A,B,X){if(A==null)return A;var W=[],de=0;return L(A,W,"","",function(ve){return B.call(X,ve,de++)}),W}function ae(A){if(A._status===-1){var B=A._result;B=B(),B.then(function(X){(A._status===0||A._status===-1)&&(A._status=1,A._result=X)},function(X){(A._status===0||A._status===-1)&&(A._status=2,A._result=X)}),A._status===-1&&(A._status=0,A._result=B)}if(A._status===1)return A._result.default;throw A._result}var Te=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},Ne={map:J,forEach:function(A,B,X){J(A,function(){B.apply(this,arguments)},X)},count:function(A){var B=0;return J(A,function(){B++}),B},toArray:function(A){return J(A,function(B){return B})||[]},only:function(A){if(!lt(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return he.Activity=C,he.Children=Ne,he.Component=F,he.Fragment=i,he.Profiler=c,he.PureComponent=M,he.StrictMode=s,he.Suspense=g,he.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,he.__COMPILER_RUNTIME={__proto__:null,c:function(A){return q.H.useMemoCache(A)}},he.cache=function(A){return function(){return A.apply(null,arguments)}},he.cacheSignal=function(){return null},he.cloneElement=function(A,B,X){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var W=N({},A.props),de=A.key;if(B!=null)for(ve in B.key!==void 0&&(de=""+B.key),B)!ye.call(B,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&B.ref===void 0||(W[ve]=B[ve]);var ve=arguments.length-2;if(ve===1)W.children=X;else if(1<ve){for(var fe=Array(ve),tt=0;tt<ve;tt++)fe[tt]=arguments[tt+2];W.children=fe}return Re(A.type,de,W)},he.createContext=function(A){return A={$$typeof:h,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:u,_context:A},A},he.createElement=function(A,B,X){var W,de={},ve=null;if(B!=null)for(W in B.key!==void 0&&(ve=""+B.key),B)ye.call(B,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(de[W]=B[W]);var fe=arguments.length-2;if(fe===1)de.children=X;else if(1<fe){for(var tt=Array(fe),Fe=0;Fe<fe;Fe++)tt[Fe]=arguments[Fe+2];de.children=tt}if(A&&A.defaultProps)for(W in fe=A.defaultProps,fe)de[W]===void 0&&(de[W]=fe[W]);return Re(A,ve,de)},he.createRef=function(){return{current:null}},he.forwardRef=function(A){return{$$typeof:m,render:A}},he.isValidElement=lt,he.lazy=function(A){return{$$typeof:v,_payload:{_status:-1,_result:A},_init:ae}},he.memo=function(A,B){return{$$typeof:p,type:A,compare:B===void 0?null:B}},he.startTransition=function(A){var B=q.T,X={};q.T=X;try{var W=A(),de=q.S;de!==null&&de(X,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(ue,Te)}catch(ve){Te(ve)}finally{B!==null&&X.types!==null&&(B.types=X.types),q.T=B}},he.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},he.use=function(A){return q.H.use(A)},he.useActionState=function(A,B,X){return q.H.useActionState(A,B,X)},he.useCallback=function(A,B){return q.H.useCallback(A,B)},he.useContext=function(A){return q.H.useContext(A)},he.useDebugValue=function(){},he.useDeferredValue=function(A,B){return q.H.useDeferredValue(A,B)},he.useEffect=function(A,B){return q.H.useEffect(A,B)},he.useEffectEvent=function(A){return q.H.useEffectEvent(A)},he.useId=function(){return q.H.useId()},he.useImperativeHandle=function(A,B,X){return q.H.useImperativeHandle(A,B,X)},he.useInsertionEffect=function(A,B){return q.H.useInsertionEffect(A,B)},he.useLayoutEffect=function(A,B){return q.H.useLayoutEffect(A,B)},he.useMemo=function(A,B){return q.H.useMemo(A,B)},he.useOptimistic=function(A,B){return q.H.useOptimistic(A,B)},he.useReducer=function(A,B,X){return q.H.useReducer(A,B,X)},he.useRef=function(A){return q.H.useRef(A)},he.useState=function(A){return q.H.useState(A)},he.useSyncExternalStore=function(A,B,X){return q.H.useSyncExternalStore(A,B,X)},he.useTransition=function(){return q.H.useTransition()},he.version="19.2.3",he}var _v;function df(){return _v||(_v=1,Ch.exports=LA()),Ch.exports}var _=df();const PA=MA(_);var bh={exports:{}},no={},Sh={exports:{}},_h={};var Ev;function zA(){return Ev||(Ev=1,(function(r){function t(L,J){var ae=L.length;L.push(J);e:for(;0<ae;){var Te=ae-1>>>1,Ne=L[Te];if(0<c(Ne,J))L[Te]=J,L[ae]=Ne,ae=Te;else break e}}function i(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var J=L[0],ae=L.pop();if(ae!==J){L[0]=ae;e:for(var Te=0,Ne=L.length,A=Ne>>>1;Te<A;){var B=2*(Te+1)-1,X=L[B],W=B+1,de=L[W];if(0>c(X,ae))W<Ne&&0>c(de,X)?(L[Te]=de,L[W]=ae,Te=W):(L[Te]=X,L[B]=ae,Te=B);else if(W<Ne&&0>c(de,ae))L[Te]=de,L[W]=ae,Te=W;else break e}}return J}function c(L,J){var ae=L.sortIndex-J.sortIndex;return ae!==0?ae:L.id-J.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var g=[],p=[],v=1,C=null,S=3,x=!1,T=!1,N=!1,j=!1,F=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function $(L){for(var J=i(p);J!==null;){if(J.callback===null)s(p);else if(J.startTime<=L)s(p),J.sortIndex=J.expirationTime,t(g,J);else break;J=i(p)}}function Q(L){if(N=!1,$(L),!T)if(i(g)!==null)T=!0,ue||(ue=!0,te());else{var J=i(p);J!==null&&St(Q,J.startTime-L)}}var ue=!1,q=-1,ye=5,Re=-1;function at(){return j?!0:!(r.unstable_now()-Re<ye)}function lt(){if(j=!1,ue){var L=r.unstable_now();Re=L;var J=!0;try{e:{T=!1,N&&(N=!1,H(q),q=-1),x=!0;var ae=S;try{t:{for($(L),C=i(g);C!==null&&!(C.expirationTime>L&&at());){var Te=C.callback;if(typeof Te=="function"){C.callback=null,S=C.priorityLevel;var Ne=Te(C.expirationTime<=L);if(L=r.unstable_now(),typeof Ne=="function"){C.callback=Ne,$(L),J=!0;break t}C===i(g)&&s(g),$(L)}else s(g);C=i(g)}if(C!==null)J=!0;else{var A=i(p);A!==null&&St(Q,A.startTime-L),J=!1}}break e}finally{C=null,S=ae,x=!1}J=void 0}}finally{J?te():ue=!1}}}var te;if(typeof M=="function")te=function(){M(lt)};else if(typeof MessageChannel<"u"){var Xe=new MessageChannel,We=Xe.port2;Xe.port1.onmessage=lt,te=function(){We.postMessage(null)}}else te=function(){F(lt,0)};function St(L,J){q=F(function(){L(r.unstable_now())},J)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(L){L.callback=null},r.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ye=0<L?Math.floor(1e3/L):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(L){switch(S){case 1:case 2:case 3:var J=3;break;default:J=S}var ae=S;S=J;try{return L()}finally{S=ae}},r.unstable_requestPaint=function(){j=!0},r.unstable_runWithPriority=function(L,J){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var ae=S;S=L;try{return J()}finally{S=ae}},r.unstable_scheduleCallback=function(L,J,ae){var Te=r.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?Te+ae:Te):ae=Te,L){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=ae+Ne,L={id:v++,callback:J,priorityLevel:L,startTime:ae,expirationTime:Ne,sortIndex:-1},ae>Te?(L.sortIndex=ae,t(p,L),i(g)===null&&L===i(p)&&(N?(H(q),q=-1):N=!0,St(Q,ae-Te))):(L.sortIndex=Ne,t(g,L),T||x||(T=!0,ue||(ue=!0,te()))),L},r.unstable_shouldYield=at,r.unstable_wrapCallback=function(L){var J=S;return function(){var ae=S;S=J;try{return L.apply(this,arguments)}finally{S=ae}}}})(_h)),_h}var Av;function HA(){return Av||(Av=1,Sh.exports=zA()),Sh.exports}var Eh={exports:{}},jt={};var Tv;function BA(){if(Tv)return jt;Tv=1;var r=df();function t(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},c=Symbol.for("react.portal");function u(g,p,v){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:C==null?null:""+C,children:g,containerInfo:p,implementation:v}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,jt.createPortal=function(g,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return u(g,p,null,v)},jt.flushSync=function(g){var p=h.T,v=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=p,s.p=v,s.d.f()}},jt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},jt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},jt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var v=p.as,C=m(v,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:C,integrity:S,fetchPriority:x}):v==="script"&&s.d.X(g,{crossOrigin:C,integrity:S,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},jt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=m(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},jt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,C=m(v,p.crossOrigin);s.d.L(g,v,{crossOrigin:C,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},jt.preloadModule=function(g,p){if(typeof g=="string")if(p){var v=m(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},jt.requestFormReset=function(g){s.d.r(g)},jt.unstable_batchedUpdates=function(g,p){return g(p)},jt.useFormState=function(g,p,v){return h.H.useFormState(g,p,v)},jt.useFormStatus=function(){return h.H.useHostTransitionStatus()},jt.version="19.2.3",jt}var wv;function KA(){if(wv)return Eh.exports;wv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Eh.exports=BA(),Eh.exports}var xv;function FA(){if(xv)return no;xv=1;var r=HA(),t=df(),i=KA();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function h(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(s(188))}function p(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,o=n;;){var d=a.return;if(d===null)break;var f=d.alternate;if(f===null){if(o=d.return,o!==null){a=o;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===a)return g(d),e;if(f===o)return g(d),n;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=d,o=f;else{for(var y=!1,b=d.child;b;){if(b===a){y=!0,a=d,o=f;break}if(b===o){y=!0,o=d,a=f;break}b=b.sibling}if(!y){for(b=f.child;b;){if(b===a){y=!0,a=f,o=d;break}if(b===o){y=!0,o=f,a=d;break}b=b.sibling}if(!y)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var C=Object.assign,S=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),M=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),Re=Symbol.for("react.activity"),at=Symbol.for("react.memo_cache_sentinel"),lt=Symbol.iterator;function te(e){return e===null||typeof e!="object"?null:(e=lt&&e[lt]||e["@@iterator"],typeof e=="function"?e:null)}var Xe=Symbol.for("react.client.reference");function We(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Xe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case N:return"Fragment";case F:return"Profiler";case j:return"StrictMode";case Q:return"Suspense";case ue:return"SuspenseList";case Re:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case T:return"Portal";case M:return e.displayName||"Context";case H:return(e._context.displayName||"Context")+".Consumer";case $:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case q:return n=e.displayName||null,n!==null?n:We(e.type)||"Memo";case ye:n=e._payload,e=e._init;try{return We(e(n))}catch{}}return null}var St=Array.isArray,L=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},Te=[],Ne=-1;function A(e){return{current:e}}function B(e){0>Ne||(e.current=Te[Ne],Te[Ne]=null,Ne--)}function X(e,n){Ne++,Te[Ne]=e.current,e.current=n}var W=A(null),de=A(null),ve=A(null),fe=A(null);function tt(e,n){switch(X(ve,n),X(de,e),X(W,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Ky(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Ky(n),e=Fy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(W),X(W,e)}function Fe(){B(W),B(de),B(ve)}function wi(e){e.memoizedState!==null&&X(fe,e);var n=W.current,a=Fy(n,e.type);n!==a&&(X(de,e),X(W,a))}function ei(e){de.current===e&&(B(W),B(de)),fe.current===e&&(B(fe),$s._currentValue=ae)}var Va,ss;function Kn(e){if(Va===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Va=n&&n[1]||"",ss=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Va+e+ss}var xi=!1;function Ya(e,n){if(!e||xi)return"";xi=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(U){var k=U}Reflect.construct(e,[],G)}else{try{G.call()}catch(U){k=U}e.call(G.prototype)}}else{try{throw Error()}catch(U){k=U}(G=e())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(U){if(U&&k&&typeof U.stack=="string")return[U.stack,k.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],b=f[1];if(y&&b){var E=y.split(`
`),I=b.split(`
`);for(d=o=0;o<E.length&&!E[o].includes("DetermineComponentFrameRoot");)o++;for(;d<I.length&&!I[d].includes("DetermineComponentFrameRoot");)d++;if(o===E.length||d===I.length)for(o=E.length-1,d=I.length-1;1<=o&&0<=d&&E[o]!==I[d];)d--;for(;1<=o&&0<=d;o--,d--)if(E[o]!==I[d]){if(o!==1||d!==1)do if(o--,d--,0>d||E[o]!==I[d]){var P=`
`+E[o].replace(" at new "," at ");return e.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",e.displayName)),P}while(1<=o&&0<=d);break}}}finally{xi=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Kn(a):""}function Bt(e,n){switch(e.tag){case 26:case 27:case 5:return Kn(e.type);case 16:return Kn("Lazy");case 13:return e.child!==n&&n!==null?Kn("Suspense Fallback"):Kn("Suspense");case 19:return Kn("SuspenseList");case 0:case 15:return Ya(e.type,!1);case 11:return Ya(e.type.render,!1);case 1:return Ya(e.type,!0);case 31:return Kn("Activity");default:return""}}function ti(e){try{var n="",a=null;do n+=Bt(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Rn=Object.prototype.hasOwnProperty,ua=r.unstable_scheduleCallback,Qa=r.unstable_cancelCallback,Io=r.unstable_shouldYield,os=r.unstable_requestPaint,ut=r.unstable_now,nu=r.unstable_getCurrentPriorityLevel,cs=r.unstable_ImmediatePriority,ko=r.unstable_UserBlockingPriority,Ja=r.unstable_NormalPriority,iu=r.unstable_LowPriority,Mo=r.unstable_IdlePriority,ls=r.log,au=r.unstable_setDisableYieldValue,da=null,Dt=null;function Fn(e){if(typeof ls=="function"&&au(e),Dt&&typeof Dt.setStrictMode=="function")try{Dt.setStrictMode(da,e)}catch{}}var Rt=Math.clz32?Math.clz32:ou,ru=Math.log,su=Math.LN2;function ou(e){return e>>>=0,e===0?32:31-(ru(e)/su|0)|0}var Xa=256,$a=262144,Za=4194304;function V(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ee(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var d=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var b=o&134217727;return b!==0?(o=b&~f,o!==0?d=V(o):(y&=b,y!==0?d=V(y):a||(a=b&~e,a!==0&&(d=V(a))))):(b=o&~f,b!==0?d=V(b):y!==0?d=V(y):a||(a=o&~e,a!==0&&(d=V(a)))),d===0?0:n!==0&&n!==d&&(n&f)===0&&(f=d&-d,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:d}function ie(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function xe(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ni(){var e=Za;return Za<<=1,(Za&62914560)===0&&(Za=4194304),e}function Ut(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function Gn(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function us(e,n,a,o,d,f){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var b=e.entanglements,E=e.expirationTimes,I=e.hiddenUpdates;for(a=y&~a;0<a;){var P=31-Rt(a),G=1<<P;b[P]=0,E[P]=-1;var k=I[P];if(k!==null)for(I[P]=null,P=0;P<k.length;P++){var U=k[P];U!==null&&(U.lane&=-536870913)}a&=~G}o!==0&&ha(e,o,0),f!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~n))}function ha(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Rt(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function ds(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-Rt(a),d=1<<o;d&n|e[o]&n&&(e[o]|=n),a&=~d}}function Do(e,n){var a=n&-n;return a=(a&42)!==0?1:Wa(a),(a&(e.suspendedLanes|n))!==0?0:a}function Wa(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function cu(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function xm(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:hv(e.type))}function Nm(e,n){var a=J.p;try{return J.p=e,n()}finally{J.p=a}}var Ni=Math.random().toString(36).slice(2),_t="__reactFiber$"+Ni,Kt="__reactProps$"+Ni,er="__reactContainer$"+Ni,lu="__reactEvents$"+Ni,E_="__reactListeners$"+Ni,A_="__reactHandles$"+Ni,Rm="__reactResources$"+Ni,hs="__reactMarker$"+Ni;function uu(e){delete e[_t],delete e[Kt],delete e[lu],delete e[E_],delete e[A_]}function tr(e){var n=e[_t];if(n)return n;for(var a=e.parentNode;a;){if(n=a[er]||a[_t]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=Xy(e);e!==null;){if(a=e[_t])return a;e=Xy(e)}return n}e=a,a=e.parentNode}return null}function nr(e){if(e=e[_t]||e[er]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function fs(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function ir(e){var n=e[Rm];return n||(n=e[Rm]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function yt(e){e[hs]=!0}var jm=new Set,Om={};function fa(e,n){ar(e,n),ar(e+"Capture",n)}function ar(e,n){for(Om[e]=n,e=0;e<n.length;e++)jm.add(n[e])}var T_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Im={},km={};function w_(e){return Rn.call(km,e)?!0:Rn.call(Im,e)?!1:T_.test(e)?km[e]=!0:(Im[e]=!0,!1)}function Uo(e,n,a){if(w_(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Lo(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function ii(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function dn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Mm(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function x_(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(y){a=""+y,f.call(this,y)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function du(e){if(!e._valueTracker){var n=Mm(e)?"checked":"value";e._valueTracker=x_(e,n,""+e[n])}}function Dm(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=Mm(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function Po(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var N_=/[\n"\\]/g;function hn(e){return e.replace(N_,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function hu(e,n,a,o,d,f,y,b){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),n!=null?y==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+dn(n)):e.value!==""+dn(n)&&(e.value=""+dn(n)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),n!=null?fu(e,y,dn(n)):a!=null?fu(e,y,dn(a)):o!=null&&e.removeAttribute("value"),d==null&&f!=null&&(e.defaultChecked=!!f),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+dn(b):e.removeAttribute("name")}function Um(e,n,a,o,d,f,y,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){du(e);return}a=a!=null?""+dn(a):"",n=n!=null?""+dn(n):a,b||n===e.value||(e.value=n),e.defaultValue=n}o=o??d,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=b?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),du(e)}function fu(e,n,a){n==="number"&&Po(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function rr(e,n,a,o){if(e=e.options,n){n={};for(var d=0;d<a.length;d++)n["$"+a[d]]=!0;for(a=0;a<e.length;a++)d=n.hasOwnProperty("$"+e[a].value),e[a].selected!==d&&(e[a].selected=d),d&&o&&(e[a].defaultSelected=!0)}else{for(a=""+dn(a),n=null,d=0;d<e.length;d++){if(e[d].value===a){e[d].selected=!0,o&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function Lm(e,n,a){if(n!=null&&(n=""+dn(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+dn(a):""}function Pm(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(St(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=dn(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),du(e)}function sr(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var R_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zm(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||R_.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Hm(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var d in n)o=n[d],n.hasOwnProperty(d)&&a[d]!==o&&zm(e,d,o)}else for(var f in n)n.hasOwnProperty(f)&&zm(e,f,n[f])}function mu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var j_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),O_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zo(e){return O_.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ai(){}var gu=null;function pu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var or=null,cr=null;function Bm(e){var n=nr(e);if(n&&(e=n.stateNode)){var a=e[Kt]||null;e:switch(e=n.stateNode,n.type){case"input":if(hu(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+hn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var d=o[Kt]||null;if(!d)throw Error(s(90));hu(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&Dm(o)}break e;case"textarea":Lm(e,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&rr(e,!!a.multiple,n,!1)}}}var yu=!1;function Km(e,n,a){if(yu)return e(n,a);yu=!0;try{var o=e(n);return o}finally{if(yu=!1,(or!==null||cr!==null)&&(wc(),or&&(n=or,e=cr,cr=or=null,Bm(n),e)))for(n=0;n<e.length;n++)Bm(e[n])}}function ms(e,n){var a=e.stateNode;if(a===null)return null;var o=a[Kt]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vu=!1;if(ri)try{var gs={};Object.defineProperty(gs,"passive",{get:function(){vu=!0}}),window.addEventListener("test",gs,gs),window.removeEventListener("test",gs,gs)}catch{vu=!1}var Ri=null,Cu=null,Ho=null;function Fm(){if(Ho)return Ho;var e,n=Cu,a=n.length,o,d="value"in Ri?Ri.value:Ri.textContent,f=d.length;for(e=0;e<a&&n[e]===d[e];e++);var y=a-e;for(o=1;o<=y&&n[a-o]===d[f-o];o++);return Ho=d.slice(e,1<o?1-o:void 0)}function Bo(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ko(){return!0}function Gm(){return!1}function Ft(e){function n(a,o,d,f,y){this._reactName=a,this._targetInst=d,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(a=e[b],this[b]=a?a(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ko:Gm,this.isPropagationStopped=Gm,this}return C(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ko)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ko)},persist:function(){},isPersistent:Ko}),n}var ma={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fo=Ft(ma),ps=C({},ma,{view:0,detail:0}),I_=Ft(ps),bu,Su,ys,Go=C({},ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Eu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ys&&(ys&&e.type==="mousemove"?(bu=e.screenX-ys.screenX,Su=e.screenY-ys.screenY):Su=bu=0,ys=e),bu)},movementY:function(e){return"movementY"in e?e.movementY:Su}}),qm=Ft(Go),k_=C({},Go,{dataTransfer:0}),M_=Ft(k_),D_=C({},ps,{relatedTarget:0}),_u=Ft(D_),U_=C({},ma,{animationName:0,elapsedTime:0,pseudoElement:0}),L_=Ft(U_),P_=C({},ma,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),z_=Ft(P_),H_=C({},ma,{data:0}),Vm=Ft(H_),B_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},K_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},F_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function G_(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=F_[e])?!!n[e]:!1}function Eu(){return G_}var q_=C({},ps,{key:function(e){if(e.key){var n=B_[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Bo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?K_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Eu,charCode:function(e){return e.type==="keypress"?Bo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),V_=Ft(q_),Y_=C({},Go,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ym=Ft(Y_),Q_=C({},ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Eu}),J_=Ft(Q_),X_=C({},ma,{propertyName:0,elapsedTime:0,pseudoElement:0}),$_=Ft(X_),Z_=C({},Go,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),W_=Ft(Z_),eE=C({},ma,{newState:0,oldState:0}),tE=Ft(eE),nE=[9,13,27,32],Au=ri&&"CompositionEvent"in window,vs=null;ri&&"documentMode"in document&&(vs=document.documentMode);var iE=ri&&"TextEvent"in window&&!vs,Qm=ri&&(!Au||vs&&8<vs&&11>=vs),Jm=" ",Xm=!1;function $m(e,n){switch(e){case"keyup":return nE.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var lr=!1;function aE(e,n){switch(e){case"compositionend":return Zm(n);case"keypress":return n.which!==32?null:(Xm=!0,Jm);case"textInput":return e=n.data,e===Jm&&Xm?null:e;default:return null}}function rE(e,n){if(lr)return e==="compositionend"||!Au&&$m(e,n)?(e=Fm(),Ho=Cu=Ri=null,lr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Qm&&n.locale!=="ko"?null:n.data;default:return null}}var sE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wm(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!sE[e.type]:n==="textarea"}function eg(e,n,a,o){or?cr?cr.push(o):cr=[o]:or=o,n=kc(n,"onChange"),0<n.length&&(a=new Fo("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var Cs=null,bs=null;function oE(e){Uy(e,0)}function qo(e){var n=fs(e);if(Dm(n))return e}function tg(e,n){if(e==="change")return n}var ng=!1;if(ri){var Tu;if(ri){var wu="oninput"in document;if(!wu){var ig=document.createElement("div");ig.setAttribute("oninput","return;"),wu=typeof ig.oninput=="function"}Tu=wu}else Tu=!1;ng=Tu&&(!document.documentMode||9<document.documentMode)}function ag(){Cs&&(Cs.detachEvent("onpropertychange",rg),bs=Cs=null)}function rg(e){if(e.propertyName==="value"&&qo(bs)){var n=[];eg(n,bs,e,pu(e)),Km(oE,n)}}function cE(e,n,a){e==="focusin"?(ag(),Cs=n,bs=a,Cs.attachEvent("onpropertychange",rg)):e==="focusout"&&ag()}function lE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qo(bs)}function uE(e,n){if(e==="click")return qo(n)}function dE(e,n){if(e==="input"||e==="change")return qo(n)}function hE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var nn=typeof Object.is=="function"?Object.is:hE;function Ss(e,n){if(nn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var d=a[o];if(!Rn.call(n,d)||!nn(e[d],n[d]))return!1}return!0}function sg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function og(e,n){var a=sg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=sg(a)}}function cg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?cg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function lg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Po(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Po(e.document)}return n}function xu(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var fE=ri&&"documentMode"in document&&11>=document.documentMode,ur=null,Nu=null,_s=null,Ru=!1;function ug(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ru||ur==null||ur!==Po(o)||(o=ur,"selectionStart"in o&&xu(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),_s&&Ss(_s,o)||(_s=o,o=kc(Nu,"onSelect"),0<o.length&&(n=new Fo("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=ur)))}function ga(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var dr={animationend:ga("Animation","AnimationEnd"),animationiteration:ga("Animation","AnimationIteration"),animationstart:ga("Animation","AnimationStart"),transitionrun:ga("Transition","TransitionRun"),transitionstart:ga("Transition","TransitionStart"),transitioncancel:ga("Transition","TransitionCancel"),transitionend:ga("Transition","TransitionEnd")},ju={},dg={};ri&&(dg=document.createElement("div").style,"AnimationEvent"in window||(delete dr.animationend.animation,delete dr.animationiteration.animation,delete dr.animationstart.animation),"TransitionEvent"in window||delete dr.transitionend.transition);function pa(e){if(ju[e])return ju[e];if(!dr[e])return e;var n=dr[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in dg)return ju[e]=n[a];return e}var hg=pa("animationend"),fg=pa("animationiteration"),mg=pa("animationstart"),mE=pa("transitionrun"),gE=pa("transitionstart"),pE=pa("transitioncancel"),gg=pa("transitionend"),pg=new Map,Ou="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ou.push("scrollEnd");function jn(e,n){pg.set(e,n),fa(n,[e])}var Vo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},fn=[],hr=0,Iu=0;function Yo(){for(var e=hr,n=Iu=hr=0;n<e;){var a=fn[n];fn[n++]=null;var o=fn[n];fn[n++]=null;var d=fn[n];fn[n++]=null;var f=fn[n];if(fn[n++]=null,o!==null&&d!==null){var y=o.pending;y===null?d.next=d:(d.next=y.next,y.next=d),o.pending=d}f!==0&&yg(a,d,f)}}function Qo(e,n,a,o){fn[hr++]=e,fn[hr++]=n,fn[hr++]=a,fn[hr++]=o,Iu|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function ku(e,n,a,o){return Qo(e,n,a,o),Jo(e)}function ya(e,n){return Qo(e,null,null,n),Jo(e)}function yg(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var d=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(d=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,d&&n!==null&&(d=31-Rt(a),e=f.hiddenUpdates,o=e[d],o===null?e[d]=[n]:o.push(n),n.lane=a|536870912),f):null}function Jo(e){if(50<Gs)throw Gs=0,Kd=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var fr={};function yE(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(e,n,a,o){return new yE(e,n,a,o)}function Mu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function si(e,n){var a=e.alternate;return a===null?(a=an(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function vg(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Xo(e,n,a,o,d,f){var y=0;if(o=e,typeof e=="function")Mu(e)&&(y=1);else if(typeof e=="string")y=_A(e,a,W.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Re:return e=an(31,a,n,d),e.elementType=Re,e.lanes=f,e;case N:return va(a.children,d,f,n);case j:y=8,d|=24;break;case F:return e=an(12,a,n,d|2),e.elementType=F,e.lanes=f,e;case Q:return e=an(13,a,n,d),e.elementType=Q,e.lanes=f,e;case ue:return e=an(19,a,n,d),e.elementType=ue,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case M:y=10;break e;case H:y=9;break e;case $:y=11;break e;case q:y=14;break e;case ye:y=16,o=null;break e}y=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=an(y,a,n,d),n.elementType=e,n.type=o,n.lanes=f,n}function va(e,n,a,o){return e=an(7,e,o,n),e.lanes=a,e}function Du(e,n,a){return e=an(6,e,null,n),e.lanes=a,e}function Cg(e){var n=an(18,null,null,0);return n.stateNode=e,n}function Uu(e,n,a){return n=an(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var bg=new WeakMap;function mn(e,n){if(typeof e=="object"&&e!==null){var a=bg.get(e);return a!==void 0?a:(n={value:e,source:n,stack:ti(n)},bg.set(e,n),n)}return{value:e,source:n,stack:ti(n)}}var mr=[],gr=0,$o=null,Es=0,gn=[],pn=0,ji=null,qn=1,Vn="";function oi(e,n){mr[gr++]=Es,mr[gr++]=$o,$o=e,Es=n}function Sg(e,n,a){gn[pn++]=qn,gn[pn++]=Vn,gn[pn++]=ji,ji=e;var o=qn;e=Vn;var d=32-Rt(o)-1;o&=~(1<<d),a+=1;var f=32-Rt(n)+d;if(30<f){var y=d-d%5;f=(o&(1<<y)-1).toString(32),o>>=y,d-=y,qn=1<<32-Rt(n)+d|a<<d|o,Vn=f+e}else qn=1<<f|a<<d|o,Vn=e}function Lu(e){e.return!==null&&(oi(e,1),Sg(e,1,0))}function Pu(e){for(;e===$o;)$o=mr[--gr],mr[gr]=null,Es=mr[--gr],mr[gr]=null;for(;e===ji;)ji=gn[--pn],gn[pn]=null,Vn=gn[--pn],gn[pn]=null,qn=gn[--pn],gn[pn]=null}function _g(e,n){gn[pn++]=qn,gn[pn++]=Vn,gn[pn++]=ji,qn=n.id,Vn=n.overflow,ji=e}var Et=null,qe=null,we=!1,Oi=null,yn=!1,zu=Error(s(519));function Ii(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw As(mn(n,e)),zu}function Eg(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[_t]=e,n[Kt]=o,a){case"dialog":Se("cancel",n),Se("close",n);break;case"iframe":case"object":case"embed":Se("load",n);break;case"video":case"audio":for(a=0;a<Vs.length;a++)Se(Vs[a],n);break;case"source":Se("error",n);break;case"img":case"image":case"link":Se("error",n),Se("load",n);break;case"details":Se("toggle",n);break;case"input":Se("invalid",n),Um(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Se("invalid",n);break;case"textarea":Se("invalid",n),Pm(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||Hy(n.textContent,a)?(o.popover!=null&&(Se("beforetoggle",n),Se("toggle",n)),o.onScroll!=null&&Se("scroll",n),o.onScrollEnd!=null&&Se("scrollend",n),o.onClick!=null&&(n.onclick=ai),n=!0):n=!1,n||Ii(e,!0)}function Ag(e){for(Et=e.return;Et;)switch(Et.tag){case 5:case 31:case 13:yn=!1;return;case 27:case 3:yn=!0;return;default:Et=Et.return}}function pr(e){if(e!==Et)return!1;if(!we)return Ag(e),we=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||ih(e.type,e.memoizedProps)),a=!a),a&&qe&&Ii(e),Ag(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));qe=Jy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));qe=Jy(e)}else n===27?(n=qe,Vi(e.type)?(e=ch,ch=null,qe=e):qe=n):qe=Et?Cn(e.stateNode.nextSibling):null;return!0}function Ca(){qe=Et=null,we=!1}function Hu(){var e=Oi;return e!==null&&(Yt===null?Yt=e:Yt.push.apply(Yt,e),Oi=null),e}function As(e){Oi===null?Oi=[e]:Oi.push(e)}var Bu=A(null),ba=null,ci=null;function ki(e,n,a){X(Bu,n._currentValue),n._currentValue=a}function li(e){e._currentValue=Bu.current,B(Bu)}function Ku(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function Fu(e,n,a,o){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var f=d.dependencies;if(f!==null){var y=d.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=d;for(var E=0;E<n.length;E++)if(b.context===n[E]){f.lanes|=a,b=f.alternate,b!==null&&(b.lanes|=a),Ku(f.return,a,e),o||(y=null);break e}f=b.next}}else if(d.tag===18){if(y=d.return,y===null)throw Error(s(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),Ku(y,a,e),y=null}else y=d.child;if(y!==null)y.return=d;else for(y=d;y!==null;){if(y===e){y=null;break}if(d=y.sibling,d!==null){d.return=y.return,y=d;break}y=y.return}d=y}}function yr(e,n,a,o){e=null;for(var d=n,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var y=d.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var b=d.type;nn(d.pendingProps.value,y.value)||(e!==null?e.push(b):e=[b])}}else if(d===fe.current){if(y=d.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push($s):e=[$s])}d=d.return}e!==null&&Fu(n,e,a,o),n.flags|=262144}function Zo(e){for(e=e.firstContext;e!==null;){if(!nn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Sa(e){ba=e,ci=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function At(e){return Tg(ba,e)}function Wo(e,n){return ba===null&&Sa(e),Tg(e,n)}function Tg(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},ci===null){if(e===null)throw Error(s(308));ci=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ci=ci.next=n;return a}var vE=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},CE=r.unstable_scheduleCallback,bE=r.unstable_NormalPriority,dt={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gu(){return{controller:new vE,data:new Map,refCount:0}}function Ts(e){e.refCount--,e.refCount===0&&CE(bE,function(){e.controller.abort()})}var ws=null,qu=0,vr=0,Cr=null;function SE(e,n){if(ws===null){var a=ws=[];qu=0,vr=Qd(),Cr={status:"pending",value:void 0,then:function(o){a.push(o)}}}return qu++,n.then(wg,wg),n}function wg(){if(--qu===0&&ws!==null){Cr!==null&&(Cr.status="fulfilled");var e=ws;ws=null,vr=0,Cr=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function _E(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var d=0;d<a.length;d++)(0,a[d])(n)},function(d){for(o.status="rejected",o.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),o}var xg=L.S;L.S=function(e,n){uy=ut(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&SE(e,n),xg!==null&&xg(e,n)};var _a=A(null);function Vu(){var e=_a.current;return e!==null?e:Be.pooledCache}function ec(e,n){n===null?X(_a,_a.current):X(_a,n.pool)}function Ng(){var e=Vu();return e===null?null:{parent:dt._currentValue,pool:e}}var br=Error(s(460)),Yu=Error(s(474)),tc=Error(s(542)),nc={then:function(){}};function Rg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function jg(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(ai,ai),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ig(e),e;default:if(typeof n.status=="string")n.then(ai,ai);else{if(e=Be,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=o}},function(o){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ig(e),e}throw Aa=n,br}}function Ea(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Aa=a,br):a}}var Aa=null;function Og(){if(Aa===null)throw Error(s(459));var e=Aa;return Aa=null,e}function Ig(e){if(e===br||e===tc)throw Error(s(483))}var Sr=null,xs=0;function ic(e){var n=xs;return xs+=1,Sr===null&&(Sr=[]),jg(Sr,e,n)}function Ns(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ac(e,n){throw n.$$typeof===S?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function kg(e){function n(R,w){if(e){var O=R.deletions;O===null?(R.deletions=[w],R.flags|=16):O.push(w)}}function a(R,w){if(!e)return null;for(;w!==null;)n(R,w),w=w.sibling;return null}function o(R){for(var w=new Map;R!==null;)R.key!==null?w.set(R.key,R):w.set(R.index,R),R=R.sibling;return w}function d(R,w){return R=si(R,w),R.index=0,R.sibling=null,R}function f(R,w,O){return R.index=O,e?(O=R.alternate,O!==null?(O=O.index,O<w?(R.flags|=67108866,w):O):(R.flags|=67108866,w)):(R.flags|=1048576,w)}function y(R){return e&&R.alternate===null&&(R.flags|=67108866),R}function b(R,w,O,K){return w===null||w.tag!==6?(w=Du(O,R.mode,K),w.return=R,w):(w=d(w,O),w.return=R,w)}function E(R,w,O,K){var se=O.type;return se===N?P(R,w,O.props.children,K,O.key):w!==null&&(w.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===ye&&Ea(se)===w.type)?(w=d(w,O.props),Ns(w,O),w.return=R,w):(w=Xo(O.type,O.key,O.props,null,R.mode,K),Ns(w,O),w.return=R,w)}function I(R,w,O,K){return w===null||w.tag!==4||w.stateNode.containerInfo!==O.containerInfo||w.stateNode.implementation!==O.implementation?(w=Uu(O,R.mode,K),w.return=R,w):(w=d(w,O.children||[]),w.return=R,w)}function P(R,w,O,K,se){return w===null||w.tag!==7?(w=va(O,R.mode,K,se),w.return=R,w):(w=d(w,O),w.return=R,w)}function G(R,w,O){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=Du(""+w,R.mode,O),w.return=R,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case x:return O=Xo(w.type,w.key,w.props,null,R.mode,O),Ns(O,w),O.return=R,O;case T:return w=Uu(w,R.mode,O),w.return=R,w;case ye:return w=Ea(w),G(R,w,O)}if(St(w)||te(w))return w=va(w,R.mode,O,null),w.return=R,w;if(typeof w.then=="function")return G(R,ic(w),O);if(w.$$typeof===M)return G(R,Wo(R,w),O);ac(R,w)}return null}function k(R,w,O,K){var se=w!==null?w.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return se!==null?null:b(R,w,""+O,K);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case x:return O.key===se?E(R,w,O,K):null;case T:return O.key===se?I(R,w,O,K):null;case ye:return O=Ea(O),k(R,w,O,K)}if(St(O)||te(O))return se!==null?null:P(R,w,O,K,null);if(typeof O.then=="function")return k(R,w,ic(O),K);if(O.$$typeof===M)return k(R,w,Wo(R,O),K);ac(R,O)}return null}function U(R,w,O,K,se){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return R=R.get(O)||null,b(w,R,""+K,se);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case x:return R=R.get(K.key===null?O:K.key)||null,E(w,R,K,se);case T:return R=R.get(K.key===null?O:K.key)||null,I(w,R,K,se);case ye:return K=Ea(K),U(R,w,O,K,se)}if(St(K)||te(K))return R=R.get(O)||null,P(w,R,K,se,null);if(typeof K.then=="function")return U(R,w,O,ic(K),se);if(K.$$typeof===M)return U(R,w,O,Wo(w,K),se);ac(w,K)}return null}function ne(R,w,O,K){for(var se=null,je=null,re=w,pe=w=0,Ee=null;re!==null&&pe<O.length;pe++){re.index>pe?(Ee=re,re=null):Ee=re.sibling;var Oe=k(R,re,O[pe],K);if(Oe===null){re===null&&(re=Ee);break}e&&re&&Oe.alternate===null&&n(R,re),w=f(Oe,w,pe),je===null?se=Oe:je.sibling=Oe,je=Oe,re=Ee}if(pe===O.length)return a(R,re),we&&oi(R,pe),se;if(re===null){for(;pe<O.length;pe++)re=G(R,O[pe],K),re!==null&&(w=f(re,w,pe),je===null?se=re:je.sibling=re,je=re);return we&&oi(R,pe),se}for(re=o(re);pe<O.length;pe++)Ee=U(re,R,pe,O[pe],K),Ee!==null&&(e&&Ee.alternate!==null&&re.delete(Ee.key===null?pe:Ee.key),w=f(Ee,w,pe),je===null?se=Ee:je.sibling=Ee,je=Ee);return e&&re.forEach(function($i){return n(R,$i)}),we&&oi(R,pe),se}function ce(R,w,O,K){if(O==null)throw Error(s(151));for(var se=null,je=null,re=w,pe=w=0,Ee=null,Oe=O.next();re!==null&&!Oe.done;pe++,Oe=O.next()){re.index>pe?(Ee=re,re=null):Ee=re.sibling;var $i=k(R,re,Oe.value,K);if($i===null){re===null&&(re=Ee);break}e&&re&&$i.alternate===null&&n(R,re),w=f($i,w,pe),je===null?se=$i:je.sibling=$i,je=$i,re=Ee}if(Oe.done)return a(R,re),we&&oi(R,pe),se;if(re===null){for(;!Oe.done;pe++,Oe=O.next())Oe=G(R,Oe.value,K),Oe!==null&&(w=f(Oe,w,pe),je===null?se=Oe:je.sibling=Oe,je=Oe);return we&&oi(R,pe),se}for(re=o(re);!Oe.done;pe++,Oe=O.next())Oe=U(re,R,pe,Oe.value,K),Oe!==null&&(e&&Oe.alternate!==null&&re.delete(Oe.key===null?pe:Oe.key),w=f(Oe,w,pe),je===null?se=Oe:je.sibling=Oe,je=Oe);return e&&re.forEach(function(kA){return n(R,kA)}),we&&oi(R,pe),se}function He(R,w,O,K){if(typeof O=="object"&&O!==null&&O.type===N&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case x:e:{for(var se=O.key;w!==null;){if(w.key===se){if(se=O.type,se===N){if(w.tag===7){a(R,w.sibling),K=d(w,O.props.children),K.return=R,R=K;break e}}else if(w.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===ye&&Ea(se)===w.type){a(R,w.sibling),K=d(w,O.props),Ns(K,O),K.return=R,R=K;break e}a(R,w);break}else n(R,w);w=w.sibling}O.type===N?(K=va(O.props.children,R.mode,K,O.key),K.return=R,R=K):(K=Xo(O.type,O.key,O.props,null,R.mode,K),Ns(K,O),K.return=R,R=K)}return y(R);case T:e:{for(se=O.key;w!==null;){if(w.key===se)if(w.tag===4&&w.stateNode.containerInfo===O.containerInfo&&w.stateNode.implementation===O.implementation){a(R,w.sibling),K=d(w,O.children||[]),K.return=R,R=K;break e}else{a(R,w);break}else n(R,w);w=w.sibling}K=Uu(O,R.mode,K),K.return=R,R=K}return y(R);case ye:return O=Ea(O),He(R,w,O,K)}if(St(O))return ne(R,w,O,K);if(te(O)){if(se=te(O),typeof se!="function")throw Error(s(150));return O=se.call(O),ce(R,w,O,K)}if(typeof O.then=="function")return He(R,w,ic(O),K);if(O.$$typeof===M)return He(R,w,Wo(R,O),K);ac(R,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,w!==null&&w.tag===6?(a(R,w.sibling),K=d(w,O),K.return=R,R=K):(a(R,w),K=Du(O,R.mode,K),K.return=R,R=K),y(R)):a(R,w)}return function(R,w,O,K){try{xs=0;var se=He(R,w,O,K);return Sr=null,se}catch(re){if(re===br||re===tc)throw re;var je=an(29,re,null,R.mode);return je.lanes=K,je.return=R,je}}}var Ta=kg(!0),Mg=kg(!1),Mi=!1;function Qu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ju(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Di(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ui(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ie&2)!==0){var d=o.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),o.pending=n,n=Jo(e),yg(e,null,a),n}return Qo(e,o,n,a),Jo(e)}function Rs(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,ds(e,a)}}function Xu(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var d=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?d=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?d=f=n:f=f.next=n}else d=f=n;a={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var $u=!1;function js(){if($u){var e=Cr;if(e!==null)throw e}}function Os(e,n,a,o){$u=!1;var d=e.updateQueue;Mi=!1;var f=d.firstBaseUpdate,y=d.lastBaseUpdate,b=d.shared.pending;if(b!==null){d.shared.pending=null;var E=b,I=E.next;E.next=null,y===null?f=I:y.next=I,y=E;var P=e.alternate;P!==null&&(P=P.updateQueue,b=P.lastBaseUpdate,b!==y&&(b===null?P.firstBaseUpdate=I:b.next=I,P.lastBaseUpdate=E))}if(f!==null){var G=d.baseState;y=0,P=I=E=null,b=f;do{var k=b.lane&-536870913,U=k!==b.lane;if(U?(_e&k)===k:(o&k)===k){k!==0&&k===vr&&($u=!0),P!==null&&(P=P.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ne=e,ce=b;k=n;var He=a;switch(ce.tag){case 1:if(ne=ce.payload,typeof ne=="function"){G=ne.call(He,G,k);break e}G=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=ce.payload,k=typeof ne=="function"?ne.call(He,G,k):ne,k==null)break e;G=C({},G,k);break e;case 2:Mi=!0}}k=b.callback,k!==null&&(e.flags|=64,U&&(e.flags|=8192),U=d.callbacks,U===null?d.callbacks=[k]:U.push(k))}else U={lane:k,tag:b.tag,payload:b.payload,callback:b.callback,next:null},P===null?(I=P=U,E=G):P=P.next=U,y|=k;if(b=b.next,b===null){if(b=d.shared.pending,b===null)break;U=b,b=U.next,U.next=null,d.lastBaseUpdate=U,d.shared.pending=null}}while(!0);P===null&&(E=G),d.baseState=E,d.firstBaseUpdate=I,d.lastBaseUpdate=P,f===null&&(d.shared.lanes=0),Bi|=y,e.lanes=y,e.memoizedState=G}}function Dg(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function Ug(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Dg(a[e],n)}var _r=A(null),rc=A(0);function Lg(e,n){e=vi,X(rc,e),X(_r,n),vi=e|n.baseLanes}function Zu(){X(rc,vi),X(_r,_r.current)}function Wu(){vi=rc.current,B(_r),B(rc)}var rn=A(null),vn=null;function Li(e){var n=e.alternate;X(rt,rt.current&1),X(rn,e),vn===null&&(n===null||_r.current!==null||n.memoizedState!==null)&&(vn=e)}function ed(e){X(rt,rt.current),X(rn,e),vn===null&&(vn=e)}function Pg(e){e.tag===22?(X(rt,rt.current),X(rn,e),vn===null&&(vn=e)):Pi()}function Pi(){X(rt,rt.current),X(rn,rn.current)}function sn(e){B(rn),vn===e&&(vn=null),B(rt)}var rt=A(0);function sc(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||sh(a)||oh(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ui=0,me=null,Pe=null,ht=null,oc=!1,Er=!1,wa=!1,cc=0,Is=0,Ar=null,EE=0;function nt(){throw Error(s(321))}function td(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!nn(e[a],n[a]))return!1;return!0}function nd(e,n,a,o,d,f){return ui=f,me=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,L.H=e===null||e.memoizedState===null?Sp:yd,wa=!1,f=a(o,d),wa=!1,Er&&(f=Hg(n,a,o,d)),zg(e),f}function zg(e){L.H=Ds;var n=Pe!==null&&Pe.next!==null;if(ui=0,ht=Pe=me=null,oc=!1,Is=0,Ar=null,n)throw Error(s(300));e===null||ft||(e=e.dependencies,e!==null&&Zo(e)&&(ft=!0))}function Hg(e,n,a,o){me=e;var d=0;do{if(Er&&(Ar=null),Is=0,Er=!1,25<=d)throw Error(s(301));if(d+=1,ht=Pe=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}L.H=_p,f=n(a,o)}while(Er);return f}function AE(){var e=L.H,n=e.useState()[0];return n=typeof n.then=="function"?ks(n):n,e=e.useState()[0],(Pe!==null?Pe.memoizedState:null)!==e&&(me.flags|=1024),n}function id(){var e=cc!==0;return cc=0,e}function ad(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function rd(e){if(oc){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}oc=!1}ui=0,ht=Pe=me=null,Er=!1,Is=cc=0,Ar=null}function Lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?me.memoizedState=ht=e:ht=ht.next=e,ht}function st(){if(Pe===null){var e=me.alternate;e=e!==null?e.memoizedState:null}else e=Pe.next;var n=ht===null?me.memoizedState:ht.next;if(n!==null)ht=n,Pe=e;else{if(e===null)throw me.alternate===null?Error(s(467)):Error(s(310));Pe=e,e={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},ht===null?me.memoizedState=ht=e:ht=ht.next=e}return ht}function lc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ks(e){var n=Is;return Is+=1,Ar===null&&(Ar=[]),e=jg(Ar,e,n),n=me,(ht===null?n.memoizedState:ht.next)===null&&(n=n.alternate,L.H=n===null||n.memoizedState===null?Sp:yd),e}function uc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ks(e);if(e.$$typeof===M)return At(e)}throw Error(s(438,String(e)))}function sd(e){var n=null,a=me.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=me.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=lc(),me.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=at;return n.index++,a}function di(e,n){return typeof n=="function"?n(e):n}function dc(e){var n=st();return od(n,Pe,e)}function od(e,n,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var d=e.baseQueue,f=o.pending;if(f!==null){if(d!==null){var y=d.next;d.next=f.next,f.next=y}n.baseQueue=d=f,o.pending=null}if(f=e.baseState,d===null)e.memoizedState=f;else{n=d.next;var b=y=null,E=null,I=n,P=!1;do{var G=I.lane&-536870913;if(G!==I.lane?(_e&G)===G:(ui&G)===G){var k=I.revertLane;if(k===0)E!==null&&(E=E.next={lane:0,revertLane:0,gesture:null,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),G===vr&&(P=!0);else if((ui&k)===k){I=I.next,k===vr&&(P=!0);continue}else G={lane:0,revertLane:I.revertLane,gesture:null,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},E===null?(b=E=G,y=f):E=E.next=G,me.lanes|=k,Bi|=k;G=I.action,wa&&a(f,G),f=I.hasEagerState?I.eagerState:a(f,G)}else k={lane:G,revertLane:I.revertLane,gesture:I.gesture,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},E===null?(b=E=k,y=f):E=E.next=k,me.lanes|=G,Bi|=G;I=I.next}while(I!==null&&I!==n);if(E===null?y=f:E.next=b,!nn(f,e.memoizedState)&&(ft=!0,P&&(a=Cr,a!==null)))throw a;e.memoizedState=f,e.baseState=y,e.baseQueue=E,o.lastRenderedState=f}return d===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function cd(e){var n=st(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,d=a.pending,f=n.memoizedState;if(d!==null){a.pending=null;var y=d=d.next;do f=e(f,y.action),y=y.next;while(y!==d);nn(f,n.memoizedState)||(ft=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function Bg(e,n,a){var o=me,d=st(),f=we;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var y=!nn((Pe||d).memoizedState,a);if(y&&(d.memoizedState=a,ft=!0),d=d.queue,dd(Gg.bind(null,o,d,e),[e]),d.getSnapshot!==n||y||ht!==null&&ht.memoizedState.tag&1){if(o.flags|=2048,Tr(9,{destroy:void 0},Fg.bind(null,o,d,a,n),null),Be===null)throw Error(s(349));f||(ui&127)!==0||Kg(o,n,a)}return a}function Kg(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=me.updateQueue,n===null?(n=lc(),me.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Fg(e,n,a,o){n.value=a,n.getSnapshot=o,qg(n)&&Vg(e)}function Gg(e,n,a){return a(function(){qg(n)&&Vg(e)})}function qg(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!nn(e,a)}catch{return!0}}function Vg(e){var n=ya(e,2);n!==null&&Qt(n,e,2)}function ld(e){var n=Lt();if(typeof e=="function"){var a=e;if(e=a(),wa){Fn(!0);try{a()}finally{Fn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:e},n}function Yg(e,n,a,o){return e.baseState=a,od(e,Pe,typeof o=="function"?o:di)}function TE(e,n,a,o,d){if(mc(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};L.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,Qg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Qg(e,n){var a=n.action,o=n.payload,d=e.state;if(n.isTransition){var f=L.T,y={};L.T=y;try{var b=a(d,o),E=L.S;E!==null&&E(y,b),Jg(e,n,b)}catch(I){ud(e,n,I)}finally{f!==null&&y.types!==null&&(f.types=y.types),L.T=f}}else try{f=a(d,o),Jg(e,n,f)}catch(I){ud(e,n,I)}}function Jg(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Xg(e,n,o)},function(o){return ud(e,n,o)}):Xg(e,n,a)}function Xg(e,n,a){n.status="fulfilled",n.value=a,$g(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Qg(e,a)))}function ud(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,$g(n),n=n.next;while(n!==o)}e.action=null}function $g(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Zg(e,n){return n}function Wg(e,n){if(we){var a=Be.formState;if(a!==null){e:{var o=me;if(we){if(qe){t:{for(var d=qe,f=yn;d.nodeType!==8;){if(!f){d=null;break t}if(d=Cn(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){qe=Cn(d.nextSibling),o=d.data==="F!";break e}}Ii(o)}o=!1}o&&(n=a[0])}}return a=Lt(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zg,lastRenderedState:n},a.queue=o,a=vp.bind(null,me,o),o.dispatch=a,o=ld(!1),f=pd.bind(null,me,!1,o.queue),o=Lt(),d={state:n,dispatch:null,action:e,pending:null},o.queue=d,a=TE.bind(null,me,d,f,a),d.dispatch=a,o.memoizedState=e,[n,a,!1]}function ep(e){var n=st();return tp(n,Pe,e)}function tp(e,n,a){if(n=od(e,n,Zg)[0],e=dc(di)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=ks(n)}catch(y){throw y===br?tc:y}else o=n;n=st();var d=n.queue,f=d.dispatch;return a!==n.memoizedState&&(me.flags|=2048,Tr(9,{destroy:void 0},wE.bind(null,d,a),null)),[o,f,e]}function wE(e,n){e.action=n}function np(e){var n=st(),a=Pe;if(a!==null)return tp(n,a,e);st(),n=n.memoizedState,a=st();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function Tr(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=me.updateQueue,n===null&&(n=lc(),me.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function ip(){return st().memoizedState}function hc(e,n,a,o){var d=Lt();me.flags|=e,d.memoizedState=Tr(1|n,{destroy:void 0},a,o===void 0?null:o)}function fc(e,n,a,o){var d=st();o=o===void 0?null:o;var f=d.memoizedState.inst;Pe!==null&&o!==null&&td(o,Pe.memoizedState.deps)?d.memoizedState=Tr(n,f,a,o):(me.flags|=e,d.memoizedState=Tr(1|n,f,a,o))}function ap(e,n){hc(8390656,8,e,n)}function dd(e,n){fc(2048,8,e,n)}function xE(e){me.flags|=4;var n=me.updateQueue;if(n===null)n=lc(),me.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function rp(e){var n=st().memoizedState;return xE({ref:n,nextImpl:e}),function(){if((Ie&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function sp(e,n){return fc(4,2,e,n)}function op(e,n){return fc(4,4,e,n)}function cp(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function lp(e,n,a){a=a!=null?a.concat([e]):null,fc(4,4,cp.bind(null,n,e),a)}function hd(){}function up(e,n){var a=st();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&td(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function dp(e,n){var a=st();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&td(n,o[1]))return o[0];if(o=e(),wa){Fn(!0);try{e()}finally{Fn(!1)}}return a.memoizedState=[o,n],o}function fd(e,n,a){return a===void 0||(ui&1073741824)!==0&&(_e&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=hy(),me.lanes|=e,Bi|=e,a)}function hp(e,n,a,o){return nn(a,n)?a:_r.current!==null?(e=fd(e,a,o),nn(e,n)||(ft=!0),e):(ui&42)===0||(ui&1073741824)!==0&&(_e&261930)===0?(ft=!0,e.memoizedState=a):(e=hy(),me.lanes|=e,Bi|=e,n)}function fp(e,n,a,o,d){var f=J.p;J.p=f!==0&&8>f?f:8;var y=L.T,b={};L.T=b,pd(e,!1,n,a);try{var E=d(),I=L.S;if(I!==null&&I(b,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var P=_E(E,o);Ms(e,n,P,ln(e))}else Ms(e,n,o,ln(e))}catch(G){Ms(e,n,{then:function(){},status:"rejected",reason:G},ln())}finally{J.p=f,y!==null&&b.types!==null&&(y.types=b.types),L.T=y}}function NE(){}function md(e,n,a,o){if(e.tag!==5)throw Error(s(476));var d=mp(e).queue;fp(e,d,n,ae,a===null?NE:function(){return gp(e),a(o)})}function mp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:ae},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function gp(e){var n=mp(e);n.next===null&&(n=e.alternate.memoizedState),Ms(e,n.next.queue,{},ln())}function gd(){return At($s)}function pp(){return st().memoizedState}function yp(){return st().memoizedState}function RE(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=ln();e=Di(a);var o=Ui(n,e,a);o!==null&&(Qt(o,n,a),Rs(o,n,a)),n={cache:Gu()},e.payload=n;return}n=n.return}}function jE(e,n,a){var o=ln();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},mc(e)?Cp(n,a):(a=ku(e,n,a,o),a!==null&&(Qt(a,e,o),bp(a,n,o)))}function vp(e,n,a){var o=ln();Ms(e,n,a,o)}function Ms(e,n,a,o){var d={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(mc(e))Cp(n,d);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,b=f(y,a);if(d.hasEagerState=!0,d.eagerState=b,nn(b,y))return Qo(e,n,d,0),Be===null&&Yo(),!1}catch{}if(a=ku(e,n,d,o),a!==null)return Qt(a,e,o),bp(a,n,o),!0}return!1}function pd(e,n,a,o){if(o={lane:2,revertLane:Qd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},mc(e)){if(n)throw Error(s(479))}else n=ku(e,a,o,2),n!==null&&Qt(n,e,2)}function mc(e){var n=e.alternate;return e===me||n!==null&&n===me}function Cp(e,n){Er=oc=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function bp(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,ds(e,a)}}var Ds={readContext:At,use:uc,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useLayoutEffect:nt,useInsertionEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useSyncExternalStore:nt,useId:nt,useHostTransitionStatus:nt,useFormState:nt,useActionState:nt,useOptimistic:nt,useMemoCache:nt,useCacheRefresh:nt};Ds.useEffectEvent=nt;var Sp={readContext:At,use:uc,useCallback:function(e,n){return Lt().memoizedState=[e,n===void 0?null:n],e},useContext:At,useEffect:ap,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,hc(4194308,4,cp.bind(null,n,e),a)},useLayoutEffect:function(e,n){return hc(4194308,4,e,n)},useInsertionEffect:function(e,n){hc(4,2,e,n)},useMemo:function(e,n){var a=Lt();n=n===void 0?null:n;var o=e();if(wa){Fn(!0);try{e()}finally{Fn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=Lt();if(a!==void 0){var d=a(n);if(wa){Fn(!0);try{a(n)}finally{Fn(!1)}}}else d=n;return o.memoizedState=o.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},o.queue=e,e=e.dispatch=jE.bind(null,me,e),[o.memoizedState,e]},useRef:function(e){var n=Lt();return e={current:e},n.memoizedState=e},useState:function(e){e=ld(e);var n=e.queue,a=vp.bind(null,me,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:hd,useDeferredValue:function(e,n){var a=Lt();return fd(a,e,n)},useTransition:function(){var e=ld(!1);return e=fp.bind(null,me,e.queue,!0,!1),Lt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=me,d=Lt();if(we){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Be===null)throw Error(s(349));(_e&127)!==0||Kg(o,n,a)}d.memoizedState=a;var f={value:a,getSnapshot:n};return d.queue=f,ap(Gg.bind(null,o,f,e),[e]),o.flags|=2048,Tr(9,{destroy:void 0},Fg.bind(null,o,f,a,n),null),a},useId:function(){var e=Lt(),n=Be.identifierPrefix;if(we){var a=Vn,o=qn;a=(o&~(1<<32-Rt(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=cc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=EE++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:gd,useFormState:Wg,useActionState:Wg,useOptimistic:function(e){var n=Lt();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=pd.bind(null,me,!0,a),a.dispatch=n,[e,n]},useMemoCache:sd,useCacheRefresh:function(){return Lt().memoizedState=RE.bind(null,me)},useEffectEvent:function(e){var n=Lt(),a={impl:e};return n.memoizedState=a,function(){if((Ie&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},yd={readContext:At,use:uc,useCallback:up,useContext:At,useEffect:dd,useImperativeHandle:lp,useInsertionEffect:sp,useLayoutEffect:op,useMemo:dp,useReducer:dc,useRef:ip,useState:function(){return dc(di)},useDebugValue:hd,useDeferredValue:function(e,n){var a=st();return hp(a,Pe.memoizedState,e,n)},useTransition:function(){var e=dc(di)[0],n=st().memoizedState;return[typeof e=="boolean"?e:ks(e),n]},useSyncExternalStore:Bg,useId:pp,useHostTransitionStatus:gd,useFormState:ep,useActionState:ep,useOptimistic:function(e,n){var a=st();return Yg(a,Pe,e,n)},useMemoCache:sd,useCacheRefresh:yp};yd.useEffectEvent=rp;var _p={readContext:At,use:uc,useCallback:up,useContext:At,useEffect:dd,useImperativeHandle:lp,useInsertionEffect:sp,useLayoutEffect:op,useMemo:dp,useReducer:cd,useRef:ip,useState:function(){return cd(di)},useDebugValue:hd,useDeferredValue:function(e,n){var a=st();return Pe===null?fd(a,e,n):hp(a,Pe.memoizedState,e,n)},useTransition:function(){var e=cd(di)[0],n=st().memoizedState;return[typeof e=="boolean"?e:ks(e),n]},useSyncExternalStore:Bg,useId:pp,useHostTransitionStatus:gd,useFormState:np,useActionState:np,useOptimistic:function(e,n){var a=st();return Pe!==null?Yg(a,Pe,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:sd,useCacheRefresh:yp};_p.useEffectEvent=rp;function vd(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:C({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Cd={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=ln(),d=Di(o);d.payload=n,a!=null&&(d.callback=a),n=Ui(e,d,o),n!==null&&(Qt(n,e,o),Rs(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=ln(),d=Di(o);d.tag=1,d.payload=n,a!=null&&(d.callback=a),n=Ui(e,d,o),n!==null&&(Qt(n,e,o),Rs(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=ln(),o=Di(a);o.tag=2,n!=null&&(o.callback=n),n=Ui(e,o,a),n!==null&&(Qt(n,e,a),Rs(n,e,a))}};function Ep(e,n,a,o,d,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,y):n.prototype&&n.prototype.isPureReactComponent?!Ss(a,o)||!Ss(d,f):!0}function Ap(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&Cd.enqueueReplaceState(n,n.state,null)}function xa(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=C({},a));for(var d in e)a[d]===void 0&&(a[d]=e[d])}return a}function Tp(e){Vo(e)}function wp(e){console.error(e)}function xp(e){Vo(e)}function gc(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Np(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function bd(e,n,a){return a=Di(a),a.tag=3,a.payload={element:null},a.callback=function(){gc(e,n)},a}function Rp(e){return e=Di(e),e.tag=3,e}function jp(e,n,a,o){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var f=o.value;e.payload=function(){return d(f)},e.callback=function(){Np(n,a,o)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Np(n,a,o),typeof d!="function"&&(Ki===null?Ki=new Set([this]):Ki.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})})}function OE(e,n,a,o,d){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&yr(n,a,d,!0),a=rn.current,a!==null){switch(a.tag){case 31:case 13:return vn===null?xc():a.alternate===null&&it===0&&(it=3),a.flags&=-257,a.flags|=65536,a.lanes=d,o===nc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),qd(e,o,d)),!1;case 22:return a.flags|=65536,o===nc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),qd(e,o,d)),!1}throw Error(s(435,a.tag))}return qd(e,o,d),xc(),!1}if(we)return n=rn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,o!==zu&&(e=Error(s(422),{cause:o}),As(mn(e,a)))):(o!==zu&&(n=Error(s(423),{cause:o}),As(mn(n,a))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,o=mn(o,a),d=bd(e.stateNode,o,d),Xu(e,d),it!==4&&(it=2)),!1;var f=Error(s(520),{cause:o});if(f=mn(f,a),Fs===null?Fs=[f]:Fs.push(f),it!==4&&(it=2),n===null)return!0;o=mn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=d&-d,a.lanes|=e,e=bd(a.stateNode,o,e),Xu(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ki===null||!Ki.has(f))))return a.flags|=65536,d&=-d,a.lanes|=d,d=Rp(d),jp(d,e,a,o),Xu(a,d),!1}a=a.return}while(a!==null);return!1}var Sd=Error(s(461)),ft=!1;function Tt(e,n,a,o){n.child=e===null?Mg(n,null,a,o):Ta(n,e.child,a,o)}function Op(e,n,a,o,d){a=a.render;var f=n.ref;if("ref"in o){var y={};for(var b in o)b!=="ref"&&(y[b]=o[b])}else y=o;return Sa(n),o=nd(e,n,a,y,f,d),b=id(),e!==null&&!ft?(ad(e,n,d),hi(e,n,d)):(we&&b&&Lu(n),n.flags|=1,Tt(e,n,o,d),n.child)}function Ip(e,n,a,o,d){if(e===null){var f=a.type;return typeof f=="function"&&!Mu(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,kp(e,n,f,o,d)):(e=Xo(a.type,null,o,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Rd(e,d)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:Ss,a(y,o)&&e.ref===n.ref)return hi(e,n,d)}return n.flags|=1,e=si(f,o),e.ref=n.ref,e.return=n,n.child=e}function kp(e,n,a,o,d){if(e!==null){var f=e.memoizedProps;if(Ss(f,o)&&e.ref===n.ref)if(ft=!1,n.pendingProps=o=f,Rd(e,d))(e.flags&131072)!==0&&(ft=!0);else return n.lanes=e.lanes,hi(e,n,d)}return _d(e,n,a,o,d)}function Mp(e,n,a,o){var d=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,d=0;o!==null;)d=d|o.lanes|o.childLanes,o=o.sibling;o=d&~f}else o=0,n.child=null;return Dp(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&ec(n,f!==null?f.cachePool:null),f!==null?Lg(n,f):Zu(),Pg(n);else return o=n.lanes=536870912,Dp(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(ec(n,f.cachePool),Lg(n,f),Pi(),n.memoizedState=null):(e!==null&&ec(n,null),Zu(),Pi());return Tt(e,n,d,a),n.child}function Us(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Dp(e,n,a,o,d){var f=Vu();return f=f===null?null:{parent:dt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&ec(n,null),Zu(),Pg(n),e!==null&&yr(e,n,o,!0),n.childLanes=d,null}function pc(e,n){return n=vc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Up(e,n,a){return Ta(n,e.child,null,a),e=pc(n,n.pendingProps),e.flags|=2,sn(n),n.memoizedState=null,e}function IE(e,n,a){var o=n.pendingProps,d=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(we){if(o.mode==="hidden")return e=pc(n,o),n.lanes=536870912,Us(null,e);if(ed(n),(e=qe)?(e=Qy(e,yn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ji!==null?{id:qn,overflow:Vn}:null,retryLane:536870912,hydrationErrors:null},a=Cg(e),a.return=n,n.child=a,Et=n,qe=null)):e=null,e===null)throw Ii(n);return n.lanes=536870912,null}return pc(n,o)}var f=e.memoizedState;if(f!==null){var y=f.dehydrated;if(ed(n),d)if(n.flags&256)n.flags&=-257,n=Up(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(ft||yr(e,n,a,!1),d=(a&e.childLanes)!==0,ft||d){if(o=Be,o!==null&&(y=Do(o,a),y!==0&&y!==f.retryLane))throw f.retryLane=y,ya(e,y),Qt(o,e,y),Sd;xc(),n=Up(e,n,a)}else e=f.treeContext,qe=Cn(y.nextSibling),Et=n,we=!0,Oi=null,yn=!1,e!==null&&_g(n,e),n=pc(n,o),n.flags|=4096;return n}return e=si(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function yc(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function _d(e,n,a,o,d){return Sa(n),a=nd(e,n,a,o,void 0,d),o=id(),e!==null&&!ft?(ad(e,n,d),hi(e,n,d)):(we&&o&&Lu(n),n.flags|=1,Tt(e,n,a,d),n.child)}function Lp(e,n,a,o,d,f){return Sa(n),n.updateQueue=null,a=Hg(n,o,a,d),zg(e),o=id(),e!==null&&!ft?(ad(e,n,f),hi(e,n,f)):(we&&o&&Lu(n),n.flags|=1,Tt(e,n,a,f),n.child)}function Pp(e,n,a,o,d){if(Sa(n),n.stateNode===null){var f=fr,y=a.contextType;typeof y=="object"&&y!==null&&(f=At(y)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Cd,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Qu(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?At(y):fr,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(vd(n,a,y,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Cd.enqueueReplaceState(f,f.state,null),Os(n,o,f,d),js(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var b=n.memoizedProps,E=xa(a,b);f.props=E;var I=f.context,P=a.contextType;y=fr,typeof P=="object"&&P!==null&&(y=At(P));var G=a.getDerivedStateFromProps;P=typeof G=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=n.pendingProps!==b,P||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||I!==y)&&Ap(n,f,o,y),Mi=!1;var k=n.memoizedState;f.state=k,Os(n,o,f,d),js(),I=n.memoizedState,b||k!==I||Mi?(typeof G=="function"&&(vd(n,a,G,o),I=n.memoizedState),(E=Mi||Ep(n,a,E,o,k,I,y))?(P||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=I),f.props=o,f.state=I,f.context=y,o=E):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Ju(e,n),y=n.memoizedProps,P=xa(a,y),f.props=P,G=n.pendingProps,k=f.context,I=a.contextType,E=fr,typeof I=="object"&&I!==null&&(E=At(I)),b=a.getDerivedStateFromProps,(I=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==G||k!==E)&&Ap(n,f,o,E),Mi=!1,k=n.memoizedState,f.state=k,Os(n,o,f,d),js();var U=n.memoizedState;y!==G||k!==U||Mi||e!==null&&e.dependencies!==null&&Zo(e.dependencies)?(typeof b=="function"&&(vd(n,a,b,o),U=n.memoizedState),(P=Mi||Ep(n,a,P,o,k,U,E)||e!==null&&e.dependencies!==null&&Zo(e.dependencies))?(I||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,U,E),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,U,E)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&k===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&k===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=U),f.props=o,f.state=U,f.context=E,o=P):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&k===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&k===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,yc(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Ta(n,e.child,null,d),n.child=Ta(n,null,a,d)):Tt(e,n,a,d),n.memoizedState=f.state,e=n.child):e=hi(e,n,d),e}function zp(e,n,a,o){return Ca(),n.flags|=256,Tt(e,n,a,o),n.child}var Ed={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ad(e){return{baseLanes:e,cachePool:Ng()}}function Td(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=cn),e}function Hp(e,n,a){var o=n.pendingProps,d=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(rt.current&2)!==0),y&&(d=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,e===null){if(we){if(d?Li(n):Pi(),(e=qe)?(e=Qy(e,yn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ji!==null?{id:qn,overflow:Vn}:null,retryLane:536870912,hydrationErrors:null},a=Cg(e),a.return=n,n.child=a,Et=n,qe=null)):e=null,e===null)throw Ii(n);return oh(e)?n.lanes=32:n.lanes=536870912,null}var b=o.children;return o=o.fallback,d?(Pi(),d=n.mode,b=vc({mode:"hidden",children:b},d),o=va(o,d,a,null),b.return=n,o.return=n,b.sibling=o,n.child=b,o=n.child,o.memoizedState=Ad(a),o.childLanes=Td(e,y,a),n.memoizedState=Ed,Us(null,o)):(Li(n),wd(n,b))}var E=e.memoizedState;if(E!==null&&(b=E.dehydrated,b!==null)){if(f)n.flags&256?(Li(n),n.flags&=-257,n=xd(e,n,a)):n.memoizedState!==null?(Pi(),n.child=e.child,n.flags|=128,n=null):(Pi(),b=o.fallback,d=n.mode,o=vc({mode:"visible",children:o.children},d),b=va(b,d,a,null),b.flags|=2,o.return=n,b.return=n,o.sibling=b,n.child=o,Ta(n,e.child,null,a),o=n.child,o.memoizedState=Ad(a),o.childLanes=Td(e,y,a),n.memoizedState=Ed,n=Us(null,o));else if(Li(n),oh(b)){if(y=b.nextSibling&&b.nextSibling.dataset,y)var I=y.dgst;y=I,o=Error(s(419)),o.stack="",o.digest=y,As({value:o,source:null,stack:null}),n=xd(e,n,a)}else if(ft||yr(e,n,a,!1),y=(a&e.childLanes)!==0,ft||y){if(y=Be,y!==null&&(o=Do(y,a),o!==0&&o!==E.retryLane))throw E.retryLane=o,ya(e,o),Qt(y,e,o),Sd;sh(b)||xc(),n=xd(e,n,a)}else sh(b)?(n.flags|=192,n.child=e.child,n=null):(e=E.treeContext,qe=Cn(b.nextSibling),Et=n,we=!0,Oi=null,yn=!1,e!==null&&_g(n,e),n=wd(n,o.children),n.flags|=4096);return n}return d?(Pi(),b=o.fallback,d=n.mode,E=e.child,I=E.sibling,o=si(E,{mode:"hidden",children:o.children}),o.subtreeFlags=E.subtreeFlags&65011712,I!==null?b=si(I,b):(b=va(b,d,a,null),b.flags|=2),b.return=n,o.return=n,o.sibling=b,n.child=o,Us(null,o),o=n.child,b=e.child.memoizedState,b===null?b=Ad(a):(d=b.cachePool,d!==null?(E=dt._currentValue,d=d.parent!==E?{parent:E,pool:E}:d):d=Ng(),b={baseLanes:b.baseLanes|a,cachePool:d}),o.memoizedState=b,o.childLanes=Td(e,y,a),n.memoizedState=Ed,Us(e.child,o)):(Li(n),a=e.child,e=a.sibling,a=si(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(y=n.deletions,y===null?(n.deletions=[e],n.flags|=16):y.push(e)),n.child=a,n.memoizedState=null,a)}function wd(e,n){return n=vc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function vc(e,n){return e=an(22,e,null,n),e.lanes=0,e}function xd(e,n,a){return Ta(n,e.child,null,a),e=wd(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Bp(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Ku(e.return,n,a)}function Nd(e,n,a,o,d,f){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:d,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=a,y.tailMode=d,y.treeForkCount=f)}function Kp(e,n,a){var o=n.pendingProps,d=o.revealOrder,f=o.tail;o=o.children;var y=rt.current,b=(y&2)!==0;if(b?(y=y&1|2,n.flags|=128):y&=1,X(rt,y),Tt(e,n,o,a),o=we?Es:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bp(e,a,n);else if(e.tag===19)Bp(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(a=n.child,d=null;a!==null;)e=a.alternate,e!==null&&sc(e)===null&&(d=a),a=a.sibling;a=d,a===null?(d=n.child,n.child=null):(d=a.sibling,a.sibling=null),Nd(n,!1,d,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&sc(e)===null){n.child=d;break}e=d.sibling,d.sibling=a,a=d,d=e}Nd(n,!0,a,null,f,o);break;case"together":Nd(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function hi(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Bi|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(yr(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=si(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=si(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Rd(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Zo(e)))}function kE(e,n,a){switch(n.tag){case 3:tt(n,n.stateNode.containerInfo),ki(n,dt,e.memoizedState.cache),Ca();break;case 27:case 5:wi(n);break;case 4:tt(n,n.stateNode.containerInfo);break;case 10:ki(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ed(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Li(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Hp(e,n,a):(Li(n),e=hi(e,n,a),e!==null?e.sibling:null);Li(n);break;case 19:var d=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(yr(e,n,a,!1),o=(a&n.childLanes)!==0),d){if(o)return Kp(e,n,a);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),X(rt,rt.current),o)break;return null;case 22:return n.lanes=0,Mp(e,n,a,n.pendingProps);case 24:ki(n,dt,e.memoizedState.cache)}return hi(e,n,a)}function Fp(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)ft=!0;else{if(!Rd(e,a)&&(n.flags&128)===0)return ft=!1,kE(e,n,a);ft=(e.flags&131072)!==0}else ft=!1,we&&(n.flags&1048576)!==0&&Sg(n,Es,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(e=Ea(n.elementType),n.type=e,typeof e=="function")Mu(e)?(o=xa(e,o),n.tag=1,n=Pp(null,n,e,o,a)):(n.tag=0,n=_d(null,n,e,o,a));else{if(e!=null){var d=e.$$typeof;if(d===$){n.tag=11,n=Op(null,n,e,o,a);break e}else if(d===q){n.tag=14,n=Ip(null,n,e,o,a);break e}}throw n=We(e)||e,Error(s(306,n,""))}}return n;case 0:return _d(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,d=xa(o,n.pendingProps),Pp(e,n,o,d,a);case 3:e:{if(tt(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var f=n.memoizedState;d=f.element,Ju(e,n),Os(n,o,null,a);var y=n.memoizedState;if(o=y.cache,ki(n,dt,o),o!==f.cache&&Fu(n,[dt],a,!0),js(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=zp(e,n,o,a);break e}else if(o!==d){d=mn(Error(s(424)),n),As(d),n=zp(e,n,o,a);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,qe=Cn(e.firstChild),Et=n,we=!0,Oi=null,yn=!0,a=Mg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ca(),o===d){n=hi(e,n,a);break e}Tt(e,n,o,a)}n=n.child}return n;case 26:return yc(e,n),e===null?(a=ev(n.type,null,n.pendingProps,null))?n.memoizedState=a:we||(a=n.type,e=n.pendingProps,o=Mc(ve.current).createElement(a),o[_t]=n,o[Kt]=e,wt(o,a,e),yt(o),n.stateNode=o):n.memoizedState=ev(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return wi(n),e===null&&we&&(o=n.stateNode=$y(n.type,n.pendingProps,ve.current),Et=n,yn=!0,d=qe,Vi(n.type)?(ch=d,qe=Cn(o.firstChild)):qe=d),Tt(e,n,n.pendingProps.children,a),yc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&we&&((d=o=qe)&&(o=lA(o,n.type,n.pendingProps,yn),o!==null?(n.stateNode=o,Et=n,qe=Cn(o.firstChild),yn=!1,d=!0):d=!1),d||Ii(n)),wi(n),d=n.type,f=n.pendingProps,y=e!==null?e.memoizedProps:null,o=f.children,ih(d,f)?o=null:y!==null&&ih(d,y)&&(n.flags|=32),n.memoizedState!==null&&(d=nd(e,n,AE,null,null,a),$s._currentValue=d),yc(e,n),Tt(e,n,o,a),n.child;case 6:return e===null&&we&&((e=a=qe)&&(a=uA(a,n.pendingProps,yn),a!==null?(n.stateNode=a,Et=n,qe=null,e=!0):e=!1),e||Ii(n)),null;case 13:return Hp(e,n,a);case 4:return tt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Ta(n,null,o,a):Tt(e,n,o,a),n.child;case 11:return Op(e,n,n.type,n.pendingProps,a);case 7:return Tt(e,n,n.pendingProps,a),n.child;case 8:return Tt(e,n,n.pendingProps.children,a),n.child;case 12:return Tt(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,ki(n,n.type,o.value),Tt(e,n,o.children,a),n.child;case 9:return d=n.type._context,o=n.pendingProps.children,Sa(n),d=At(d),o=o(d),n.flags|=1,Tt(e,n,o,a),n.child;case 14:return Ip(e,n,n.type,n.pendingProps,a);case 15:return kp(e,n,n.type,n.pendingProps,a);case 19:return Kp(e,n,a);case 31:return IE(e,n,a);case 22:return Mp(e,n,a,n.pendingProps);case 24:return Sa(n),o=At(dt),e===null?(d=Vu(),d===null&&(d=Be,f=Gu(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=a),d=f),n.memoizedState={parent:o,cache:d},Qu(n),ki(n,dt,d)):((e.lanes&a)!==0&&(Ju(e,n),Os(n,null,null,a),js()),d=e.memoizedState,f=n.memoizedState,d.parent!==o?(d={parent:o,cache:o},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),ki(n,dt,o)):(o=f.cache,ki(n,dt,o),o!==d.cache&&Fu(n,[dt],a,!0))),Tt(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function fi(e){e.flags|=4}function jd(e,n,a,o,d){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(py())e.flags|=8192;else throw Aa=nc,Yu}else e.flags&=-16777217}function Gp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!rv(n))if(py())e.flags|=8192;else throw Aa=nc,Yu}function Cc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ni():536870912,e.lanes|=n,Rr|=n)}function Ls(e,n){if(!we)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Ve(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var d=e.child;d!==null;)a|=d.lanes|d.childLanes,o|=d.subtreeFlags&65011712,o|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)a|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function ME(e,n,a){var o=n.pendingProps;switch(Pu(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(n),null;case 1:return Ve(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),li(dt),Fe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(pr(n)?fi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Hu())),Ve(n),null;case 26:var d=n.type,f=n.memoizedState;return e===null?(fi(n),f!==null?(Ve(n),Gp(n,f)):(Ve(n),jd(n,d,null,o,a))):f?f!==e.memoizedState?(fi(n),Ve(n),Gp(n,f)):(Ve(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&fi(n),Ve(n),jd(n,d,e,o,a)),null;case 27:if(ei(n),a=ve.current,d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&fi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return Ve(n),null}e=W.current,pr(n)?Eg(n):(e=$y(d,o,a),n.stateNode=e,fi(n))}return Ve(n),null;case 5:if(ei(n),d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&fi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return Ve(n),null}if(f=W.current,pr(n))Eg(n);else{var y=Mc(ve.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?y.createElement(d,{is:o.is}):y.createElement(d)}}f[_t]=n,f[Kt]=o;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;e:switch(wt(f,d,o),d){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&fi(n)}}return Ve(n),jd(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&fi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=ve.current,pr(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,d=Et,d!==null)switch(d.tag){case 27:case 5:o=d.memoizedProps}e[_t]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Hy(e.nodeValue,a)),e||Ii(n,!0)}else e=Mc(e).createTextNode(o),e[_t]=n,n.stateNode=e}return Ve(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=pr(n),a!==null){if(e===null){if(!o)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[_t]=n}else Ca(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ve(n),e=!1}else a=Hu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(sn(n),n):(sn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return Ve(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=pr(n),o!==null&&o.dehydrated!==null){if(e===null){if(!d)throw Error(s(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[_t]=n}else Ca(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ve(n),d=!1}else d=Hu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(sn(n),n):(sn(n),null)}return sn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,d=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(d=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==d&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),Cc(n,n.updateQueue),Ve(n),null);case 4:return Fe(),e===null&&Zd(n.stateNode.containerInfo),Ve(n),null;case 10:return li(n.type),Ve(n),null;case 19:if(B(rt),o=n.memoizedState,o===null)return Ve(n),null;if(d=(n.flags&128)!==0,f=o.rendering,f===null)if(d)Ls(o,!1);else{if(it!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=sc(e),f!==null){for(n.flags|=128,Ls(o,!1),e=f.updateQueue,n.updateQueue=e,Cc(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)vg(a,e),a=a.sibling;return X(rt,rt.current&1|2),we&&oi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&ut()>Ac&&(n.flags|=128,d=!0,Ls(o,!1),n.lanes=4194304)}else{if(!d)if(e=sc(f),e!==null){if(n.flags|=128,d=!0,e=e.updateQueue,n.updateQueue=e,Cc(n,e),Ls(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!we)return Ve(n),null}else 2*ut()-o.renderingStartTime>Ac&&a!==536870912&&(n.flags|=128,d=!0,Ls(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ut(),e.sibling=null,a=rt.current,X(rt,d?a&1|2:a&1),we&&oi(n,o.treeForkCount),e):(Ve(n),null);case 22:case 23:return sn(n),Wu(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(Ve(n),n.subtreeFlags&6&&(n.flags|=8192)):Ve(n),a=n.updateQueue,a!==null&&Cc(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&B(_a),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),li(dt),Ve(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function DE(e,n){switch(Pu(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return li(dt),Fe(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ei(n),null;case 31:if(n.memoizedState!==null){if(sn(n),n.alternate===null)throw Error(s(340));Ca()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(sn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Ca()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return B(rt),null;case 4:return Fe(),null;case 10:return li(n.type),null;case 22:case 23:return sn(n),Wu(),e!==null&&B(_a),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return li(dt),null;case 25:return null;default:return null}}function qp(e,n){switch(Pu(n),n.tag){case 3:li(dt),Fe();break;case 26:case 27:case 5:ei(n);break;case 4:Fe();break;case 31:n.memoizedState!==null&&sn(n);break;case 13:sn(n);break;case 19:B(rt);break;case 10:li(n.type);break;case 22:case 23:sn(n),Wu(),e!==null&&B(_a);break;case 24:li(dt)}}function Ps(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var d=o.next;a=d;do{if((a.tag&e)===e){o=void 0;var f=a.create,y=a.inst;o=f(),y.destroy=o}a=a.next}while(a!==d)}}catch(b){Ue(n,n.return,b)}}function zi(e,n,a){try{var o=n.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var f=d.next;o=f;do{if((o.tag&e)===e){var y=o.inst,b=y.destroy;if(b!==void 0){y.destroy=void 0,d=n;var E=a,I=b;try{I()}catch(P){Ue(d,E,P)}}}o=o.next}while(o!==f)}}catch(P){Ue(n,n.return,P)}}function Vp(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{Ug(n,a)}catch(o){Ue(e,e.return,o)}}}function Yp(e,n,a){a.props=xa(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Ue(e,n,o)}}function zs(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(d){Ue(e,n,d)}}function Yn(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(d){Ue(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){Ue(e,n,d)}else a.current=null}function Qp(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(d){Ue(e,e.return,d)}}function Od(e,n,a){try{var o=e.stateNode;iA(o,e.type,a,n),o[Kt]=n}catch(d){Ue(e,e.return,d)}}function Jp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Vi(e.type)||e.tag===4}function Id(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Jp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Vi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kd(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ai));else if(o!==4&&(o===27&&Vi(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(kd(e,n,a),e=e.sibling;e!==null;)kd(e,n,a),e=e.sibling}function bc(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&Vi(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(bc(e,n,a),e=e.sibling;e!==null;)bc(e,n,a),e=e.sibling}function Xp(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);wt(n,o,a),n[_t]=e,n[Kt]=a}catch(f){Ue(e,e.return,f)}}var mi=!1,mt=!1,Md=!1,$p=typeof WeakSet=="function"?WeakSet:Set,vt=null;function UE(e,n){if(e=e.containerInfo,th=Bc,e=lg(e),xu(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var d=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var y=0,b=-1,E=-1,I=0,P=0,G=e,k=null;t:for(;;){for(var U;G!==a||d!==0&&G.nodeType!==3||(b=y+d),G!==f||o!==0&&G.nodeType!==3||(E=y+o),G.nodeType===3&&(y+=G.nodeValue.length),(U=G.firstChild)!==null;)k=G,G=U;for(;;){if(G===e)break t;if(k===a&&++I===d&&(b=y),k===f&&++P===o&&(E=y),(U=G.nextSibling)!==null)break;G=k,k=G.parentNode}G=U}a=b===-1||E===-1?null:{start:b,end:E}}else a=null}a=a||{start:0,end:0}}else a=null;for(nh={focusedElem:e,selectionRange:a},Bc=!1,vt=n;vt!==null;)if(n=vt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,vt=e;else for(;vt!==null;){switch(n=vt,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)d=e[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,d=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ne=xa(a.type,d);e=o.getSnapshotBeforeUpdate(ne,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ce){Ue(a,a.return,ce)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)rh(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":rh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,vt=e;break}vt=n.return}}function Zp(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:pi(e,a),o&4&&Ps(5,a);break;case 1:if(pi(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(y){Ue(a,a.return,y)}else{var d=xa(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Ue(a,a.return,y)}}o&64&&Vp(a),o&512&&zs(a,a.return);break;case 3:if(pi(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Ug(e,n)}catch(y){Ue(a,a.return,y)}}break;case 27:n===null&&o&4&&Xp(a);case 26:case 5:pi(e,a),n===null&&o&4&&Qp(a),o&512&&zs(a,a.return);break;case 12:pi(e,a);break;case 31:pi(e,a),o&4&&ty(e,a);break;case 13:pi(e,a),o&4&&ny(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=qE.bind(null,a),dA(e,a))));break;case 22:if(o=a.memoizedState!==null||mi,!o){n=n!==null&&n.memoizedState!==null||mt,d=mi;var f=mt;mi=o,(mt=n)&&!f?yi(e,a,(a.subtreeFlags&8772)!==0):pi(e,a),mi=d,mt=f}break;case 30:break;default:pi(e,a)}}function Wp(e){var n=e.alternate;n!==null&&(e.alternate=null,Wp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&uu(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var $e=null,Gt=!1;function gi(e,n,a){for(a=a.child;a!==null;)ey(e,n,a),a=a.sibling}function ey(e,n,a){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(da,a)}catch{}switch(a.tag){case 26:mt||Yn(a,n),gi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:mt||Yn(a,n);var o=$e,d=Gt;Vi(a.type)&&($e=a.stateNode,Gt=!1),gi(e,n,a),Qs(a.stateNode),$e=o,Gt=d;break;case 5:mt||Yn(a,n);case 6:if(o=$e,d=Gt,$e=null,gi(e,n,a),$e=o,Gt=d,$e!==null)if(Gt)try{($e.nodeType===9?$e.body:$e.nodeName==="HTML"?$e.ownerDocument.body:$e).removeChild(a.stateNode)}catch(f){Ue(a,n,f)}else try{$e.removeChild(a.stateNode)}catch(f){Ue(a,n,f)}break;case 18:$e!==null&&(Gt?(e=$e,Vy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Lr(e)):Vy($e,a.stateNode));break;case 4:o=$e,d=Gt,$e=a.stateNode.containerInfo,Gt=!0,gi(e,n,a),$e=o,Gt=d;break;case 0:case 11:case 14:case 15:zi(2,a,n),mt||zi(4,a,n),gi(e,n,a);break;case 1:mt||(Yn(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Yp(a,n,o)),gi(e,n,a);break;case 21:gi(e,n,a);break;case 22:mt=(o=mt)||a.memoizedState!==null,gi(e,n,a),mt=o;break;default:gi(e,n,a)}}function ty(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Lr(e)}catch(a){Ue(n,n.return,a)}}}function ny(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Lr(e)}catch(a){Ue(n,n.return,a)}}function LE(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new $p),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new $p),n;default:throw Error(s(435,e.tag))}}function Sc(e,n){var a=LE(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var d=VE.bind(null,e,o);o.then(d,d)}})}function qt(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var d=a[o],f=e,y=n,b=y;e:for(;b!==null;){switch(b.tag){case 27:if(Vi(b.type)){$e=b.stateNode,Gt=!1;break e}break;case 5:$e=b.stateNode,Gt=!1;break e;case 3:case 4:$e=b.stateNode.containerInfo,Gt=!0;break e}b=b.return}if($e===null)throw Error(s(160));ey(f,y,d),$e=null,Gt=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)iy(n,e),n=n.sibling}var On=null;function iy(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:qt(n,e),Vt(e),o&4&&(zi(3,e,e.return),Ps(3,e),zi(5,e,e.return));break;case 1:qt(n,e),Vt(e),o&512&&(mt||a===null||Yn(a,a.return)),o&64&&mi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var d=On;if(qt(n,e),Vt(e),o&512&&(mt||a===null||Yn(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){e:{o=e.type,a=e.memoizedProps,d=d.ownerDocument||d;t:switch(o){case"title":f=d.getElementsByTagName("title")[0],(!f||f[hs]||f[_t]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(o),d.head.insertBefore(f,d.querySelector("head > title"))),wt(f,o,a),f[_t]=e,yt(f),o=f;break e;case"link":var y=iv("link","href",d).get(o+(a.href||""));if(y){for(var b=0;b<y.length;b++)if(f=y[b],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(b,1);break t}}f=d.createElement(o),wt(f,o,a),d.head.appendChild(f);break;case"meta":if(y=iv("meta","content",d).get(o+(a.content||""))){for(b=0;b<y.length;b++)if(f=y[b],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(b,1);break t}}f=d.createElement(o),wt(f,o,a),d.head.appendChild(f);break;default:throw Error(s(468,o))}f[_t]=e,yt(f),o=f}e.stateNode=o}else av(d,e.type,e.stateNode);else e.stateNode=nv(d,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?av(d,e.type,e.stateNode):nv(d,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Od(e,e.memoizedProps,a.memoizedProps)}break;case 27:qt(n,e),Vt(e),o&512&&(mt||a===null||Yn(a,a.return)),a!==null&&o&4&&Od(e,e.memoizedProps,a.memoizedProps);break;case 5:if(qt(n,e),Vt(e),o&512&&(mt||a===null||Yn(a,a.return)),e.flags&32){d=e.stateNode;try{sr(d,"")}catch(ne){Ue(e,e.return,ne)}}o&4&&e.stateNode!=null&&(d=e.memoizedProps,Od(e,d,a!==null?a.memoizedProps:d)),o&1024&&(Md=!0);break;case 6:if(qt(n,e),Vt(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(ne){Ue(e,e.return,ne)}}break;case 3:if(Lc=null,d=On,On=Dc(n.containerInfo),qt(n,e),On=d,Vt(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Lr(n.containerInfo)}catch(ne){Ue(e,e.return,ne)}Md&&(Md=!1,ay(e));break;case 4:o=On,On=Dc(e.stateNode.containerInfo),qt(n,e),Vt(e),On=o;break;case 12:qt(n,e),Vt(e);break;case 31:qt(n,e),Vt(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Sc(e,o)));break;case 13:qt(n,e),Vt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ec=ut()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Sc(e,o)));break;case 22:d=e.memoizedState!==null;var E=a!==null&&a.memoizedState!==null,I=mi,P=mt;if(mi=I||d,mt=P||E,qt(n,e),mt=P,mi=I,Vt(e),o&8192)e:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(a===null||E||mi||mt||Na(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){E=a=n;try{if(f=E.stateNode,d)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{b=E.stateNode;var G=E.memoizedProps.style,k=G!=null&&G.hasOwnProperty("display")?G.display:null;b.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(ne){Ue(E,E.return,ne)}}}else if(n.tag===6){if(a===null){E=n;try{E.stateNode.nodeValue=d?"":E.memoizedProps}catch(ne){Ue(E,E.return,ne)}}}else if(n.tag===18){if(a===null){E=n;try{var U=E.stateNode;d?Yy(U,!0):Yy(E.stateNode,!1)}catch(ne){Ue(E,E.return,ne)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Sc(e,a))));break;case 19:qt(n,e),Vt(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Sc(e,o)));break;case 30:break;case 21:break;default:qt(n,e),Vt(e)}}function Vt(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(Jp(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var d=a.stateNode,f=Id(e);bc(e,f,d);break;case 5:var y=a.stateNode;a.flags&32&&(sr(y,""),a.flags&=-33);var b=Id(e);bc(e,b,y);break;case 3:case 4:var E=a.stateNode.containerInfo,I=Id(e);kd(e,I,E);break;default:throw Error(s(161))}}catch(P){Ue(e,e.return,P)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ay(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ay(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function pi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Zp(e,n.alternate,n),n=n.sibling}function Na(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:zi(4,n,n.return),Na(n);break;case 1:Yn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Yp(n,n.return,a),Na(n);break;case 27:Qs(n.stateNode);case 26:case 5:Yn(n,n.return),Na(n);break;case 22:n.memoizedState===null&&Na(n);break;case 30:Na(n);break;default:Na(n)}e=e.sibling}}function yi(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,d=e,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:yi(d,f,a),Ps(4,f);break;case 1:if(yi(d,f,a),o=f,d=o.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(I){Ue(o,o.return,I)}if(o=f,d=o.updateQueue,d!==null){var b=o.stateNode;try{var E=d.shared.hiddenCallbacks;if(E!==null)for(d.shared.hiddenCallbacks=null,d=0;d<E.length;d++)Dg(E[d],b)}catch(I){Ue(o,o.return,I)}}a&&y&64&&Vp(f),zs(f,f.return);break;case 27:Xp(f);case 26:case 5:yi(d,f,a),a&&o===null&&y&4&&Qp(f),zs(f,f.return);break;case 12:yi(d,f,a);break;case 31:yi(d,f,a),a&&y&4&&ty(d,f);break;case 13:yi(d,f,a),a&&y&4&&ny(d,f);break;case 22:f.memoizedState===null&&yi(d,f,a),zs(f,f.return);break;case 30:break;default:yi(d,f,a)}n=n.sibling}}function Dd(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ts(a))}function Ud(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ts(e))}function In(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ry(e,n,a,o),n=n.sibling}function ry(e,n,a,o){var d=n.flags;switch(n.tag){case 0:case 11:case 15:In(e,n,a,o),d&2048&&Ps(9,n);break;case 1:In(e,n,a,o);break;case 3:In(e,n,a,o),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ts(e)));break;case 12:if(d&2048){In(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,y=f.id,b=f.onPostCommit;typeof b=="function"&&b(y,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(E){Ue(n,n.return,E)}}else In(e,n,a,o);break;case 31:In(e,n,a,o);break;case 13:In(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?In(e,n,a,o):Hs(e,n):f._visibility&2?In(e,n,a,o):(f._visibility|=2,wr(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),d&2048&&Dd(y,n);break;case 24:In(e,n,a,o),d&2048&&Ud(n.alternate,n);break;default:In(e,n,a,o)}}function wr(e,n,a,o,d){for(d=d&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,y=n,b=a,E=o,I=y.flags;switch(y.tag){case 0:case 11:case 15:wr(f,y,b,E,d),Ps(8,y);break;case 23:break;case 22:var P=y.stateNode;y.memoizedState!==null?P._visibility&2?wr(f,y,b,E,d):Hs(f,y):(P._visibility|=2,wr(f,y,b,E,d)),d&&I&2048&&Dd(y.alternate,y);break;case 24:wr(f,y,b,E,d),d&&I&2048&&Ud(y.alternate,y);break;default:wr(f,y,b,E,d)}n=n.sibling}}function Hs(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,d=o.flags;switch(o.tag){case 22:Hs(a,o),d&2048&&Dd(o.alternate,o);break;case 24:Hs(a,o),d&2048&&Ud(o.alternate,o);break;default:Hs(a,o)}n=n.sibling}}var Bs=8192;function xr(e,n,a){if(e.subtreeFlags&Bs)for(e=e.child;e!==null;)sy(e,n,a),e=e.sibling}function sy(e,n,a){switch(e.tag){case 26:xr(e,n,a),e.flags&Bs&&e.memoizedState!==null&&EA(a,On,e.memoizedState,e.memoizedProps);break;case 5:xr(e,n,a);break;case 3:case 4:var o=On;On=Dc(e.stateNode.containerInfo),xr(e,n,a),On=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Bs,Bs=16777216,xr(e,n,a),Bs=o):xr(e,n,a));break;default:xr(e,n,a)}}function oy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Ks(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];vt=o,ly(o,e)}oy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)cy(e),e=e.sibling}function cy(e){switch(e.tag){case 0:case 11:case 15:Ks(e),e.flags&2048&&zi(9,e,e.return);break;case 3:Ks(e);break;case 12:Ks(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,_c(e)):Ks(e);break;default:Ks(e)}}function _c(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];vt=o,ly(o,e)}oy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:zi(8,n,n.return),_c(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,_c(n));break;default:_c(n)}e=e.sibling}}function ly(e,n){for(;vt!==null;){var a=vt;switch(a.tag){case 0:case 11:case 15:zi(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ts(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,vt=o;else e:for(a=e;vt!==null;){o=vt;var d=o.sibling,f=o.return;if(Wp(o),o===a){vt=null;break e}if(d!==null){d.return=f,vt=d;break e}vt=f}}}var PE={getCacheForType:function(e){var n=At(dt),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return At(dt).controller.signal}},zE=typeof WeakMap=="function"?WeakMap:Map,Ie=0,Be=null,be=null,_e=0,De=0,on=null,Hi=!1,Nr=!1,Ld=!1,vi=0,it=0,Bi=0,Ra=0,Pd=0,cn=0,Rr=0,Fs=null,Yt=null,zd=!1,Ec=0,uy=0,Ac=1/0,Tc=null,Ki=null,pt=0,Fi=null,jr=null,Ci=0,Hd=0,Bd=null,dy=null,Gs=0,Kd=null;function ln(){return(Ie&2)!==0&&_e!==0?_e&-_e:L.T!==null?Qd():xm()}function hy(){if(cn===0)if((_e&536870912)===0||we){var e=$a;$a<<=1,($a&3932160)===0&&($a=262144),cn=e}else cn=536870912;return e=rn.current,e!==null&&(e.flags|=32),cn}function Qt(e,n,a){(e===Be&&(De===2||De===9)||e.cancelPendingCommit!==null)&&(Or(e,0),Gi(e,_e,cn,!1)),Gn(e,a),((Ie&2)===0||e!==Be)&&(e===Be&&((Ie&2)===0&&(Ra|=a),it===4&&Gi(e,_e,cn,!1)),Qn(e))}function fy(e,n,a){if((Ie&6)!==0)throw Error(s(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||ie(e,n),d=o?KE(e,n):Gd(e,n,!0),f=o;do{if(d===0){Nr&&!o&&Gi(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!HE(a)){d=Gd(e,n,!1),f=!1;continue}if(d===2){if(f=n,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var b=e;d=Fs;var E=b.current.memoizedState.isDehydrated;if(E&&(Or(b,y).flags|=256),y=Gd(b,y,!1),y!==2){if(Ld&&!E){b.errorRecoveryDisabledLanes|=f,Ra|=f,d=4;break e}f=Yt,Yt=d,f!==null&&(Yt===null?Yt=f:Yt.push.apply(Yt,f))}d=y}if(f=!1,d!==2)continue}}if(d===1){Or(e,0),Gi(e,n,0,!0);break}e:{switch(o=e,f=d,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Gi(o,n,cn,!Hi);break e;case 2:Yt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(d=Ec+300-ut(),10<d)){if(Gi(o,n,cn,!Hi),ee(o,0,!0)!==0)break e;Ci=n,o.timeoutHandle=Gy(my.bind(null,o,a,Yt,Tc,zd,n,cn,Ra,Rr,Hi,f,"Throttled",-0,0),d);break e}my(o,a,Yt,Tc,zd,n,cn,Ra,Rr,Hi,f,null,-0,0)}}break}while(!0);Qn(e)}function my(e,n,a,o,d,f,y,b,E,I,P,G,k,U){if(e.timeoutHandle=-1,G=n.subtreeFlags,G&8192||(G&16785408)===16785408){G={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ai},sy(n,f,G);var ne=(f&62914560)===f?Ec-ut():(f&4194048)===f?uy-ut():0;if(ne=AA(G,ne),ne!==null){Ci=f,e.cancelPendingCommit=ne(_y.bind(null,e,n,f,a,o,d,y,b,E,P,G,null,k,U)),Gi(e,f,y,!I);return}}_y(e,n,f,a,o,d,y,b,E)}function HE(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var d=a[o],f=d.getSnapshot;d=d.value;try{if(!nn(f(),d))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Gi(e,n,a,o){n&=~Pd,n&=~Ra,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var d=n;0<d;){var f=31-Rt(d),y=1<<f;o[f]=-1,d&=~y}a!==0&&ha(e,a,n)}function wc(){return(Ie&6)===0?(qs(0),!1):!0}function Fd(){if(be!==null){if(De===0)var e=be.return;else e=be,ci=ba=null,rd(e),Sr=null,xs=0,e=be;for(;e!==null;)qp(e.alternate,e),e=e.return;be=null}}function Or(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,sA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ci=0,Fd(),Be=e,be=a=si(e.current,null),_e=n,De=0,on=null,Hi=!1,Nr=ie(e,n),Ld=!1,Rr=cn=Pd=Ra=Bi=it=0,Yt=Fs=null,zd=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var d=31-Rt(o),f=1<<d;n|=e[d],o&=~f}return vi=n,Yo(),a}function gy(e,n){me=null,L.H=Ds,n===br||n===tc?(n=Og(),De=3):n===Yu?(n=Og(),De=4):De=n===Sd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,on=n,be===null&&(it=1,gc(e,mn(n,e.current)))}function py(){var e=rn.current;return e===null?!0:(_e&4194048)===_e?vn===null:(_e&62914560)===_e||(_e&536870912)!==0?e===vn:!1}function yy(){var e=L.H;return L.H=Ds,e===null?Ds:e}function vy(){var e=L.A;return L.A=PE,e}function xc(){it=4,Hi||(_e&4194048)!==_e&&rn.current!==null||(Nr=!0),(Bi&134217727)===0&&(Ra&134217727)===0||Be===null||Gi(Be,_e,cn,!1)}function Gd(e,n,a){var o=Ie;Ie|=2;var d=yy(),f=vy();(Be!==e||_e!==n)&&(Tc=null,Or(e,n)),n=!1;var y=it;e:do try{if(De!==0&&be!==null){var b=be,E=on;switch(De){case 8:Fd(),y=6;break e;case 3:case 2:case 9:case 6:rn.current===null&&(n=!0);var I=De;if(De=0,on=null,Ir(e,b,E,I),a&&Nr){y=0;break e}break;default:I=De,De=0,on=null,Ir(e,b,E,I)}}BE(),y=it;break}catch(P){gy(e,P)}while(!0);return n&&e.shellSuspendCounter++,ci=ba=null,Ie=o,L.H=d,L.A=f,be===null&&(Be=null,_e=0,Yo()),y}function BE(){for(;be!==null;)Cy(be)}function KE(e,n){var a=Ie;Ie|=2;var o=yy(),d=vy();Be!==e||_e!==n?(Tc=null,Ac=ut()+500,Or(e,n)):Nr=ie(e,n);e:do try{if(De!==0&&be!==null){n=be;var f=on;t:switch(De){case 1:De=0,on=null,Ir(e,n,f,1);break;case 2:case 9:if(Rg(f)){De=0,on=null,by(n);break}n=function(){De!==2&&De!==9||Be!==e||(De=7),Qn(e)},f.then(n,n);break e;case 3:De=7;break e;case 4:De=5;break e;case 7:Rg(f)?(De=0,on=null,by(n)):(De=0,on=null,Ir(e,n,f,7));break;case 5:var y=null;switch(be.tag){case 26:y=be.memoizedState;case 5:case 27:var b=be;if(y?rv(y):b.stateNode.complete){De=0,on=null;var E=b.sibling;if(E!==null)be=E;else{var I=b.return;I!==null?(be=I,Nc(I)):be=null}break t}}De=0,on=null,Ir(e,n,f,5);break;case 6:De=0,on=null,Ir(e,n,f,6);break;case 8:Fd(),it=6;break e;default:throw Error(s(462))}}FE();break}catch(P){gy(e,P)}while(!0);return ci=ba=null,L.H=o,L.A=d,Ie=a,be!==null?0:(Be=null,_e=0,Yo(),it)}function FE(){for(;be!==null&&!Io();)Cy(be)}function Cy(e){var n=Fp(e.alternate,e,vi);e.memoizedProps=e.pendingProps,n===null?Nc(e):be=n}function by(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=Lp(a,n,n.pendingProps,n.type,void 0,_e);break;case 11:n=Lp(a,n,n.pendingProps,n.type.render,n.ref,_e);break;case 5:rd(n);default:qp(a,n),n=be=vg(n,vi),n=Fp(a,n,vi)}e.memoizedProps=e.pendingProps,n===null?Nc(e):be=n}function Ir(e,n,a,o){ci=ba=null,rd(n),Sr=null,xs=0;var d=n.return;try{if(OE(e,d,n,a,_e)){it=1,gc(e,mn(a,e.current)),be=null;return}}catch(f){if(d!==null)throw be=d,f;it=1,gc(e,mn(a,e.current)),be=null;return}n.flags&32768?(we||o===1?e=!0:Nr||(_e&536870912)!==0?e=!1:(Hi=e=!0,(o===2||o===9||o===3||o===6)&&(o=rn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Sy(n,e)):Nc(n)}function Nc(e){var n=e;do{if((n.flags&32768)!==0){Sy(n,Hi);return}e=n.return;var a=ME(n.alternate,n,vi);if(a!==null){be=a;return}if(n=n.sibling,n!==null){be=n;return}be=n=e}while(n!==null);it===0&&(it=5)}function Sy(e,n){do{var a=DE(e.alternate,e);if(a!==null){a.flags&=32767,be=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){be=e;return}be=e=a}while(e!==null);it=6,be=null}function _y(e,n,a,o,d,f,y,b,E){e.cancelPendingCommit=null;do Rc();while(pt!==0);if((Ie&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Iu,us(e,a,f,y,b,E),e===Be&&(be=Be=null,_e=0),jr=n,Fi=e,Ci=a,Hd=f,Bd=d,dy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,YE(Ja,function(){return xy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=L.T,L.T=null,d=J.p,J.p=2,y=Ie,Ie|=4;try{UE(e,n,a)}finally{Ie=y,J.p=d,L.T=o}}pt=1,Ey(),Ay(),Ty()}}function Ey(){if(pt===1){pt=0;var e=Fi,n=jr,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=L.T,L.T=null;var o=J.p;J.p=2;var d=Ie;Ie|=4;try{iy(n,e);var f=nh,y=lg(e.containerInfo),b=f.focusedElem,E=f.selectionRange;if(y!==b&&b&&b.ownerDocument&&cg(b.ownerDocument.documentElement,b)){if(E!==null&&xu(b)){var I=E.start,P=E.end;if(P===void 0&&(P=I),"selectionStart"in b)b.selectionStart=I,b.selectionEnd=Math.min(P,b.value.length);else{var G=b.ownerDocument||document,k=G&&G.defaultView||window;if(k.getSelection){var U=k.getSelection(),ne=b.textContent.length,ce=Math.min(E.start,ne),He=E.end===void 0?ce:Math.min(E.end,ne);!U.extend&&ce>He&&(y=He,He=ce,ce=y);var R=og(b,ce),w=og(b,He);if(R&&w&&(U.rangeCount!==1||U.anchorNode!==R.node||U.anchorOffset!==R.offset||U.focusNode!==w.node||U.focusOffset!==w.offset)){var O=G.createRange();O.setStart(R.node,R.offset),U.removeAllRanges(),ce>He?(U.addRange(O),U.extend(w.node,w.offset)):(O.setEnd(w.node,w.offset),U.addRange(O))}}}}for(G=[],U=b;U=U.parentNode;)U.nodeType===1&&G.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<G.length;b++){var K=G[b];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Bc=!!th,nh=th=null}finally{Ie=d,J.p=o,L.T=a}}e.current=n,pt=2}}function Ay(){if(pt===2){pt=0;var e=Fi,n=jr,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=L.T,L.T=null;var o=J.p;J.p=2;var d=Ie;Ie|=4;try{Zp(e,n.alternate,n)}finally{Ie=d,J.p=o,L.T=a}}pt=3}}function Ty(){if(pt===4||pt===3){pt=0,os();var e=Fi,n=jr,a=Ci,o=dy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?pt=5:(pt=0,jr=Fi=null,wy(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(Ki=null),cu(a),n=n.stateNode,Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(da,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=L.T,d=J.p,J.p=2,L.T=null;try{for(var f=e.onRecoverableError,y=0;y<o.length;y++){var b=o[y];f(b.value,{componentStack:b.stack})}}finally{L.T=n,J.p=d}}(Ci&3)!==0&&Rc(),Qn(e),d=e.pendingLanes,(a&261930)!==0&&(d&42)!==0?e===Kd?Gs++:(Gs=0,Kd=e):Gs=0,qs(0)}}function wy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ts(n)))}function Rc(){return Ey(),Ay(),Ty(),xy()}function xy(){if(pt!==5)return!1;var e=Fi,n=Hd;Hd=0;var a=cu(Ci),o=L.T,d=J.p;try{J.p=32>a?32:a,L.T=null,a=Bd,Bd=null;var f=Fi,y=Ci;if(pt=0,jr=Fi=null,Ci=0,(Ie&6)!==0)throw Error(s(331));var b=Ie;if(Ie|=4,cy(f.current),ry(f,f.current,y,a),Ie=b,qs(0,!1),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(da,f)}catch{}return!0}finally{J.p=d,L.T=o,wy(e,n)}}function Ny(e,n,a){n=mn(a,n),n=bd(e.stateNode,n,2),e=Ui(e,n,2),e!==null&&(Gn(e,2),Qn(e))}function Ue(e,n,a){if(e.tag===3)Ny(e,e,a);else for(;n!==null;){if(n.tag===3){Ny(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ki===null||!Ki.has(o))){e=mn(a,e),a=Rp(2),o=Ui(n,a,2),o!==null&&(jp(a,o,n,e),Gn(o,2),Qn(o));break}}n=n.return}}function qd(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new zE;var d=new Set;o.set(n,d)}else d=o.get(n),d===void 0&&(d=new Set,o.set(n,d));d.has(a)||(Ld=!0,d.add(a),e=GE.bind(null,e,n,a),n.then(e,e))}function GE(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Be===e&&(_e&a)===a&&(it===4||it===3&&(_e&62914560)===_e&&300>ut()-Ec?(Ie&2)===0&&Or(e,0):Pd|=a,Rr===_e&&(Rr=0)),Qn(e)}function Ry(e,n){n===0&&(n=ni()),e=ya(e,n),e!==null&&(Gn(e,n),Qn(e))}function qE(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),Ry(e,a)}function VE(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,d=e.memoizedState;d!==null&&(a=d.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),Ry(e,a)}function YE(e,n){return ua(e,n)}var jc=null,kr=null,Vd=!1,Oc=!1,Yd=!1,qi=0;function Qn(e){e!==kr&&e.next===null&&(kr===null?jc=kr=e:kr=kr.next=e),Oc=!0,Vd||(Vd=!0,JE())}function qs(e,n){if(!Yd&&Oc){Yd=!0;do for(var a=!1,o=jc;o!==null;){if(e!==0){var d=o.pendingLanes;if(d===0)var f=0;else{var y=o.suspendedLanes,b=o.pingedLanes;f=(1<<31-Rt(42|e)+1)-1,f&=d&~(y&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,ky(o,f))}else f=_e,f=ee(o,o===Be?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||ie(o,f)||(a=!0,ky(o,f));o=o.next}while(a);Yd=!1}}function QE(){jy()}function jy(){Oc=Vd=!1;var e=0;qi!==0&&rA()&&(e=qi);for(var n=ut(),a=null,o=jc;o!==null;){var d=o.next,f=Oy(o,n);f===0?(o.next=null,a===null?jc=d:a.next=d,d===null&&(kr=a)):(a=o,(e!==0||(f&3)!==0)&&(Oc=!0)),o=d}pt!==0&&pt!==5||qs(e),qi!==0&&(qi=0)}function Oy(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,d=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-Rt(f),b=1<<y,E=d[y];E===-1?((b&a)===0||(b&o)!==0)&&(d[y]=xe(b,n)):E<=n&&(e.expiredLanes|=b),f&=~b}if(n=Be,a=_e,a=ee(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(De===2||De===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Qa(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ie(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&Qa(o),cu(a)){case 2:case 8:a=ko;break;case 32:a=Ja;break;case 268435456:a=Mo;break;default:a=Ja}return o=Iy.bind(null,e),a=ua(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&Qa(o),e.callbackPriority=2,e.callbackNode=null,2}function Iy(e,n){if(pt!==0&&pt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Rc()&&e.callbackNode!==a)return null;var o=_e;return o=ee(e,e===Be?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(fy(e,o,n),Oy(e,ut()),e.callbackNode!=null&&e.callbackNode===a?Iy.bind(null,e):null)}function ky(e,n){if(Rc())return null;fy(e,n,!0)}function JE(){oA(function(){(Ie&6)!==0?ua(cs,QE):jy()})}function Qd(){if(qi===0){var e=vr;e===0&&(e=Xa,Xa<<=1,(Xa&261888)===0&&(Xa=256)),qi=e}return qi}function My(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:zo(""+e)}function Dy(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function XE(e,n,a,o,d){if(n==="submit"&&a&&a.stateNode===d){var f=My((d[Kt]||null).action),y=o.submitter;y&&(n=(n=y[Kt]||null)?My(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var b=new Fo("action","action",null,o,d);e.push({event:b,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(qi!==0){var E=y?Dy(d,y):new FormData(d);md(a,{pending:!0,data:E,method:d.method,action:f},null,E)}}else typeof f=="function"&&(b.preventDefault(),E=y?Dy(d,y):new FormData(d),md(a,{pending:!0,data:E,method:d.method,action:f},f,E))},currentTarget:d}]})}}for(var Jd=0;Jd<Ou.length;Jd++){var Xd=Ou[Jd],$E=Xd.toLowerCase(),ZE=Xd[0].toUpperCase()+Xd.slice(1);jn($E,"on"+ZE)}jn(hg,"onAnimationEnd"),jn(fg,"onAnimationIteration"),jn(mg,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(mE,"onTransitionRun"),jn(gE,"onTransitionStart"),jn(pE,"onTransitionCancel"),jn(gg,"onTransitionEnd"),ar("onMouseEnter",["mouseout","mouseover"]),ar("onMouseLeave",["mouseout","mouseover"]),ar("onPointerEnter",["pointerout","pointerover"]),ar("onPointerLeave",["pointerout","pointerover"]),fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fa("onBeforeInput",["compositionend","keypress","textInput","paste"]),fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vs));function Uy(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],d=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var y=o.length-1;0<=y;y--){var b=o[y],E=b.instance,I=b.currentTarget;if(b=b.listener,E!==f&&d.isPropagationStopped())break e;f=b,d.currentTarget=I;try{f(d)}catch(P){Vo(P)}d.currentTarget=null,f=E}else for(y=0;y<o.length;y++){if(b=o[y],E=b.instance,I=b.currentTarget,b=b.listener,E!==f&&d.isPropagationStopped())break e;f=b,d.currentTarget=I;try{f(d)}catch(P){Vo(P)}d.currentTarget=null,f=E}}}}function Se(e,n){var a=n[lu];a===void 0&&(a=n[lu]=new Set);var o=e+"__bubble";a.has(o)||(Ly(n,e,2,!1),a.add(o))}function $d(e,n,a){var o=0;n&&(o|=4),Ly(a,e,o,n)}var Ic="_reactListening"+Math.random().toString(36).slice(2);function Zd(e){if(!e[Ic]){e[Ic]=!0,jm.forEach(function(a){a!=="selectionchange"&&(WE.has(a)||$d(a,!1,e),$d(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ic]||(n[Ic]=!0,$d("selectionchange",!1,n))}}function Ly(e,n,a,o){switch(hv(n)){case 2:var d=xA;break;case 8:d=NA;break;default:d=fh}a=d.bind(null,n,a,e),d=void 0,!vu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),o?d!==void 0?e.addEventListener(n,a,{capture:!0,passive:d}):e.addEventListener(n,a,!0):d!==void 0?e.addEventListener(n,a,{passive:d}):e.addEventListener(n,a,!1)}function Wd(e,n,a,o,d){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var b=o.stateNode.containerInfo;if(b===d)break;if(y===4)for(y=o.return;y!==null;){var E=y.tag;if((E===3||E===4)&&y.stateNode.containerInfo===d)return;y=y.return}for(;b!==null;){if(y=tr(b),y===null)return;if(E=y.tag,E===5||E===6||E===26||E===27){o=f=y;continue e}b=b.parentNode}}o=o.return}Km(function(){var I=f,P=pu(a),G=[];e:{var k=pg.get(e);if(k!==void 0){var U=Fo,ne=e;switch(e){case"keypress":if(Bo(a)===0)break e;case"keydown":case"keyup":U=V_;break;case"focusin":ne="focus",U=_u;break;case"focusout":ne="blur",U=_u;break;case"beforeblur":case"afterblur":U=_u;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=qm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=M_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=J_;break;case hg:case fg:case mg:U=L_;break;case gg:U=$_;break;case"scroll":case"scrollend":U=I_;break;case"wheel":U=W_;break;case"copy":case"cut":case"paste":U=z_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=Ym;break;case"toggle":case"beforetoggle":U=tE}var ce=(n&4)!==0,He=!ce&&(e==="scroll"||e==="scrollend"),R=ce?k!==null?k+"Capture":null:k;ce=[];for(var w=I,O;w!==null;){var K=w;if(O=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||O===null||R===null||(K=ms(w,R),K!=null&&ce.push(Ys(w,K,O))),He)break;w=w.return}0<ce.length&&(k=new U(k,ne,null,a,P),G.push({event:k,listeners:ce}))}}if((n&7)===0){e:{if(k=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",k&&a!==gu&&(ne=a.relatedTarget||a.fromElement)&&(tr(ne)||ne[er]))break e;if((U||k)&&(k=P.window===P?P:(k=P.ownerDocument)?k.defaultView||k.parentWindow:window,U?(ne=a.relatedTarget||a.toElement,U=I,ne=ne?tr(ne):null,ne!==null&&(He=u(ne),ce=ne.tag,ne!==He||ce!==5&&ce!==27&&ce!==6)&&(ne=null)):(U=null,ne=I),U!==ne)){if(ce=qm,K="onMouseLeave",R="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(ce=Ym,K="onPointerLeave",R="onPointerEnter",w="pointer"),He=U==null?k:fs(U),O=ne==null?k:fs(ne),k=new ce(K,w+"leave",U,a,P),k.target=He,k.relatedTarget=O,K=null,tr(P)===I&&(ce=new ce(R,w+"enter",ne,a,P),ce.target=O,ce.relatedTarget=He,K=ce),He=K,U&&ne)t:{for(ce=eA,R=U,w=ne,O=0,K=R;K;K=ce(K))O++;K=0;for(var se=w;se;se=ce(se))K++;for(;0<O-K;)R=ce(R),O--;for(;0<K-O;)w=ce(w),K--;for(;O--;){if(R===w||w!==null&&R===w.alternate){ce=R;break t}R=ce(R),w=ce(w)}ce=null}else ce=null;U!==null&&Py(G,k,U,ce,!1),ne!==null&&He!==null&&Py(G,He,ne,ce,!0)}}e:{if(k=I?fs(I):window,U=k.nodeName&&k.nodeName.toLowerCase(),U==="select"||U==="input"&&k.type==="file")var je=tg;else if(Wm(k))if(ng)je=dE;else{je=lE;var re=cE}else U=k.nodeName,!U||U.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?I&&mu(I.elementType)&&(je=tg):je=uE;if(je&&(je=je(e,I))){eg(G,je,a,P);break e}re&&re(e,k,I),e==="focusout"&&I&&k.type==="number"&&I.memoizedProps.value!=null&&fu(k,"number",k.value)}switch(re=I?fs(I):window,e){case"focusin":(Wm(re)||re.contentEditable==="true")&&(ur=re,Nu=I,_s=null);break;case"focusout":_s=Nu=ur=null;break;case"mousedown":Ru=!0;break;case"contextmenu":case"mouseup":case"dragend":Ru=!1,ug(G,a,P);break;case"selectionchange":if(fE)break;case"keydown":case"keyup":ug(G,a,P)}var pe;if(Au)e:{switch(e){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else lr?$m(e,a)&&(Ee="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(Qm&&a.locale!=="ko"&&(lr||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&lr&&(pe=Fm()):(Ri=P,Cu="value"in Ri?Ri.value:Ri.textContent,lr=!0)),re=kc(I,Ee),0<re.length&&(Ee=new Vm(Ee,e,null,a,P),G.push({event:Ee,listeners:re}),pe?Ee.data=pe:(pe=Zm(a),pe!==null&&(Ee.data=pe)))),(pe=iE?aE(e,a):rE(e,a))&&(Ee=kc(I,"onBeforeInput"),0<Ee.length&&(re=new Vm("onBeforeInput","beforeinput",null,a,P),G.push({event:re,listeners:Ee}),re.data=pe)),XE(G,e,I,a,P)}Uy(G,n)})}function Ys(e,n,a){return{instance:e,listener:n,currentTarget:a}}function kc(e,n){for(var a=n+"Capture",o=[];e!==null;){var d=e,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=ms(e,a),d!=null&&o.unshift(Ys(e,d,f)),d=ms(e,n),d!=null&&o.push(Ys(e,d,f))),e.tag===3)return o;e=e.return}return[]}function eA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Py(e,n,a,o,d){for(var f=n._reactName,y=[];a!==null&&a!==o;){var b=a,E=b.alternate,I=b.stateNode;if(b=b.tag,E!==null&&E===o)break;b!==5&&b!==26&&b!==27||I===null||(E=I,d?(I=ms(a,f),I!=null&&y.unshift(Ys(a,I,E))):d||(I=ms(a,f),I!=null&&y.push(Ys(a,I,E)))),a=a.return}y.length!==0&&e.push({event:n,listeners:y})}var tA=/\r\n?/g,nA=/\u0000|\uFFFD/g;function zy(e){return(typeof e=="string"?e:""+e).replace(tA,`
`).replace(nA,"")}function Hy(e,n){return n=zy(n),zy(e)===n}function ze(e,n,a,o,d,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||sr(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&sr(e,""+o);break;case"className":Lo(e,"class",o);break;case"tabIndex":Lo(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Lo(e,a,o);break;case"style":Hm(e,o,f);break;case"data":if(n!=="object"){Lo(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=zo(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&ze(e,n,"name",d.name,d,null),ze(e,n,"formEncType",d.formEncType,d,null),ze(e,n,"formMethod",d.formMethod,d,null),ze(e,n,"formTarget",d.formTarget,d,null)):(ze(e,n,"encType",d.encType,d,null),ze(e,n,"method",d.method,d,null),ze(e,n,"target",d.target,d,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=zo(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=ai);break;case"onScroll":o!=null&&Se("scroll",e);break;case"onScrollEnd":o!=null&&Se("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(d.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=zo(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Se("beforetoggle",e),Se("toggle",e),Uo(e,"popover",o);break;case"xlinkActuate":ii(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ii(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ii(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ii(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ii(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ii(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ii(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ii(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ii(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Uo(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=j_.get(a)||a,Uo(e,a,o))}}function eh(e,n,a,o,d,f){switch(a){case"style":Hm(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(d.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?sr(e,o):(typeof o=="number"||typeof o=="bigint")&&sr(e,""+o);break;case"onScroll":o!=null&&Se("scroll",e);break;case"onScrollEnd":o!=null&&Se("scrollend",e);break;case"onClick":o!=null&&(e.onclick=ai);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Om.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),n=a.slice(2,d?a.length-7:void 0),f=e[Kt]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,d),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,d);break e}a in e?e[a]=o:o===!0?e.setAttribute(a,""):Uo(e,a,o)}}}function wt(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",e),Se("load",e);var o=!1,d=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ze(e,n,f,y,a,null)}}d&&ze(e,n,"srcSet",a.srcSet,a,null),o&&ze(e,n,"src",a.src,a,null);return;case"input":Se("invalid",e);var b=f=y=d=null,E=null,I=null;for(o in a)if(a.hasOwnProperty(o)){var P=a[o];if(P!=null)switch(o){case"name":d=P;break;case"type":y=P;break;case"checked":E=P;break;case"defaultChecked":I=P;break;case"value":f=P;break;case"defaultValue":b=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,n));break;default:ze(e,n,o,P,a,null)}}Um(e,f,b,E,I,y,d,!1);return;case"select":Se("invalid",e),o=y=f=null;for(d in a)if(a.hasOwnProperty(d)&&(b=a[d],b!=null))switch(d){case"value":f=b;break;case"defaultValue":y=b;break;case"multiple":o=b;default:ze(e,n,d,b,a,null)}n=f,a=y,e.multiple=!!o,n!=null?rr(e,!!o,n,!1):a!=null&&rr(e,!!o,a,!0);return;case"textarea":Se("invalid",e),f=d=o=null;for(y in a)if(a.hasOwnProperty(y)&&(b=a[y],b!=null))switch(y){case"value":o=b;break;case"defaultValue":d=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:ze(e,n,y,b,a,null)}Pm(e,o,d,f);return;case"option":for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null)&&(E==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":ze(e,n,E,o,a,null));return;case"dialog":Se("beforetoggle",e),Se("toggle",e),Se("cancel",e),Se("close",e);break;case"iframe":case"object":Se("load",e);break;case"video":case"audio":for(o=0;o<Vs.length;o++)Se(Vs[o],e);break;case"image":Se("error",e),Se("load",e);break;case"details":Se("toggle",e);break;case"embed":case"source":case"link":Se("error",e),Se("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(I in a)if(a.hasOwnProperty(I)&&(o=a[I],o!=null))switch(I){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ze(e,n,I,o,a,null)}return;default:if(mu(n)){for(P in a)a.hasOwnProperty(P)&&(o=a[P],o!==void 0&&eh(e,n,P,o,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(o=a[b],o!=null&&ze(e,n,b,o,a,null))}function iA(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,y=null,b=null,E=null,I=null,P=null;for(U in a){var G=a[U];if(a.hasOwnProperty(U)&&G!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":E=G;default:o.hasOwnProperty(U)||ze(e,n,U,null,o,G)}}for(var k in o){var U=o[k];if(G=a[k],o.hasOwnProperty(k)&&(U!=null||G!=null))switch(k){case"type":f=U;break;case"name":d=U;break;case"checked":I=U;break;case"defaultChecked":P=U;break;case"value":y=U;break;case"defaultValue":b=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(s(137,n));break;default:U!==G&&ze(e,n,k,U,o,G)}}hu(e,y,b,E,I,P,f,d);return;case"select":U=y=b=k=null;for(f in a)if(E=a[f],a.hasOwnProperty(f)&&E!=null)switch(f){case"value":break;case"multiple":U=E;default:o.hasOwnProperty(f)||ze(e,n,f,null,o,E)}for(d in o)if(f=o[d],E=a[d],o.hasOwnProperty(d)&&(f!=null||E!=null))switch(d){case"value":k=f;break;case"defaultValue":b=f;break;case"multiple":y=f;default:f!==E&&ze(e,n,d,f,o,E)}n=b,a=y,o=U,k!=null?rr(e,!!a,k,!1):!!o!=!!a&&(n!=null?rr(e,!!a,n,!0):rr(e,!!a,a?[]:"",!1));return;case"textarea":U=k=null;for(b in a)if(d=a[b],a.hasOwnProperty(b)&&d!=null&&!o.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:ze(e,n,b,null,o,d)}for(y in o)if(d=o[y],f=a[y],o.hasOwnProperty(y)&&(d!=null||f!=null))switch(y){case"value":k=d;break;case"defaultValue":U=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==f&&ze(e,n,y,d,o,f)}Lm(e,k,U);return;case"option":for(var ne in a)k=a[ne],a.hasOwnProperty(ne)&&k!=null&&!o.hasOwnProperty(ne)&&(ne==="selected"?e.selected=!1:ze(e,n,ne,null,o,k));for(E in o)k=o[E],U=a[E],o.hasOwnProperty(E)&&k!==U&&(k!=null||U!=null)&&(E==="selected"?e.selected=k&&typeof k!="function"&&typeof k!="symbol":ze(e,n,E,k,o,U));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in a)k=a[ce],a.hasOwnProperty(ce)&&k!=null&&!o.hasOwnProperty(ce)&&ze(e,n,ce,null,o,k);for(I in o)if(k=o[I],U=a[I],o.hasOwnProperty(I)&&k!==U&&(k!=null||U!=null))switch(I){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:ze(e,n,I,k,o,U)}return;default:if(mu(n)){for(var He in a)k=a[He],a.hasOwnProperty(He)&&k!==void 0&&!o.hasOwnProperty(He)&&eh(e,n,He,void 0,o,k);for(P in o)k=o[P],U=a[P],!o.hasOwnProperty(P)||k===U||k===void 0&&U===void 0||eh(e,n,P,k,o,U);return}}for(var R in a)k=a[R],a.hasOwnProperty(R)&&k!=null&&!o.hasOwnProperty(R)&&ze(e,n,R,null,o,k);for(G in o)k=o[G],U=a[G],!o.hasOwnProperty(G)||k===U||k==null&&U==null||ze(e,n,G,k,o,U)}function By(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function aA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var d=a[o],f=d.transferSize,y=d.initiatorType,b=d.duration;if(f&&b&&By(y)){for(y=0,b=d.responseEnd,o+=1;o<a.length;o++){var E=a[o],I=E.startTime;if(I>b)break;var P=E.transferSize,G=E.initiatorType;P&&By(G)&&(E=E.responseEnd,y+=P*(E<b?1:(b-I)/(E-I)))}if(--o,n+=8*(f+y)/(d.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var th=null,nh=null;function Mc(e){return e.nodeType===9?e:e.ownerDocument}function Ky(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function ih(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ah=null;function rA(){var e=window.event;return e&&e.type==="popstate"?e===ah?!1:(ah=e,!0):(ah=null,!1)}var Gy=typeof setTimeout=="function"?setTimeout:void 0,sA=typeof clearTimeout=="function"?clearTimeout:void 0,qy=typeof Promise=="function"?Promise:void 0,oA=typeof queueMicrotask=="function"?queueMicrotask:typeof qy<"u"?function(e){return qy.resolve(null).then(e).catch(cA)}:Gy;function cA(e){setTimeout(function(){throw e})}function Vi(e){return e==="head"}function Vy(e,n){var a=n,o=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(d),Lr(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Qs(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Qs(a);for(var f=a.firstChild;f;){var y=f.nextSibling,b=f.nodeName;f[hs]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=y}}else a==="body"&&Qs(e.ownerDocument.body);a=d}while(a);Lr(n)}function Yy(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function rh(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":rh(a),uu(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function lA(e,n,a,o){for(;e.nodeType===1;){var d=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[hs])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Cn(e.nextSibling),e===null)break}return null}function uA(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Cn(e.nextSibling),e===null))return null;return e}function Qy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Cn(e.nextSibling),e===null))return null;return e}function sh(e){return e.data==="$?"||e.data==="$~"}function oh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function dA(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Cn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var ch=null;function Jy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Cn(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function Xy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function $y(e,n,a){switch(n=Mc(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Qs(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);uu(e)}var bn=new Map,Zy=new Set;function Dc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var bi=J.d;J.d={f:hA,r:fA,D:mA,C:gA,L:pA,m:yA,X:CA,S:vA,M:bA};function hA(){var e=bi.f(),n=wc();return e||n}function fA(e){var n=nr(e);n!==null&&n.tag===5&&n.type==="form"?gp(n):bi.r(e)}var Mr=typeof document>"u"?null:document;function Wy(e,n,a){var o=Mr;if(o&&typeof n=="string"&&n){var d=hn(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),Zy.has(d)||(Zy.add(d),e={rel:e,crossOrigin:a,href:n},o.querySelector(d)===null&&(n=o.createElement("link"),wt(n,"link",e),yt(n),o.head.appendChild(n)))}}function mA(e){bi.D(e),Wy("dns-prefetch",e,null)}function gA(e,n){bi.C(e,n),Wy("preconnect",e,n)}function pA(e,n,a){bi.L(e,n,a);var o=Mr;if(o&&e&&n){var d='link[rel="preload"][as="'+hn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+hn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+hn(a.imageSizes)+'"]')):d+='[href="'+hn(e)+'"]';var f=d;switch(n){case"style":f=Dr(e);break;case"script":f=Ur(e)}bn.has(f)||(e=C({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),bn.set(f,e),o.querySelector(d)!==null||n==="style"&&o.querySelector(Js(f))||n==="script"&&o.querySelector(Xs(f))||(n=o.createElement("link"),wt(n,"link",e),yt(n),o.head.appendChild(n)))}}function yA(e,n){bi.m(e,n);var a=Mr;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+hn(o)+'"][href="'+hn(e)+'"]',f=d;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ur(e)}if(!bn.has(f)&&(e=C({rel:"modulepreload",href:e},n),bn.set(f,e),a.querySelector(d)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Xs(f)))return}o=a.createElement("link"),wt(o,"link",e),yt(o),a.head.appendChild(o)}}}function vA(e,n,a){bi.S(e,n,a);var o=Mr;if(o&&e){var d=ir(o).hoistableStyles,f=Dr(e);n=n||"default";var y=d.get(f);if(!y){var b={loading:0,preload:null};if(y=o.querySelector(Js(f)))b.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":n},a),(a=bn.get(f))&&lh(e,a);var E=y=o.createElement("link");yt(E),wt(E,"link",e),E._p=new Promise(function(I,P){E.onload=I,E.onerror=P}),E.addEventListener("load",function(){b.loading|=1}),E.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Uc(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:b},d.set(f,y)}}}function CA(e,n){bi.X(e,n);var a=Mr;if(a&&e){var o=ir(a).hoistableScripts,d=Ur(e),f=o.get(d);f||(f=a.querySelector(Xs(d)),f||(e=C({src:e,async:!0},n),(n=bn.get(d))&&uh(e,n),f=a.createElement("script"),yt(f),wt(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(d,f))}}function bA(e,n){bi.M(e,n);var a=Mr;if(a&&e){var o=ir(a).hoistableScripts,d=Ur(e),f=o.get(d);f||(f=a.querySelector(Xs(d)),f||(e=C({src:e,async:!0,type:"module"},n),(n=bn.get(d))&&uh(e,n),f=a.createElement("script"),yt(f),wt(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(d,f))}}function ev(e,n,a,o){var d=(d=ve.current)?Dc(d):null;if(!d)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Dr(a.href),a=ir(d).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Dr(a.href);var f=ir(d).hoistableStyles,y=f.get(e);if(y||(d=d.ownerDocument||d,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=d.querySelector(Js(e)))&&!f._p&&(y.instance=f,y.state.loading=5),bn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},bn.set(e,a),f||SA(d,e,a,y.state))),n&&o===null)throw Error(s(528,""));return y}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ur(a),a=ir(d).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Dr(e){return'href="'+hn(e)+'"'}function Js(e){return'link[rel="stylesheet"]['+e+"]"}function tv(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function SA(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),wt(n,"link",a),yt(n),e.head.appendChild(n))}function Ur(e){return'[src="'+hn(e)+'"]'}function Xs(e){return"script[async]"+e}function nv(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+hn(a.href)+'"]');if(o)return n.instance=o,yt(o),o;var d=C({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),yt(o),wt(o,"style",d),Uc(o,a.precedence,e),n.instance=o;case"stylesheet":d=Dr(a.href);var f=e.querySelector(Js(d));if(f)return n.state.loading|=4,n.instance=f,yt(f),f;o=tv(a),(d=bn.get(d))&&lh(o,d),f=(e.ownerDocument||e).createElement("link"),yt(f);var y=f;return y._p=new Promise(function(b,E){y.onload=b,y.onerror=E}),wt(f,"link",o),n.state.loading|=4,Uc(f,a.precedence,e),n.instance=f;case"script":return f=Ur(a.src),(d=e.querySelector(Xs(f)))?(n.instance=d,yt(d),d):(o=a,(d=bn.get(f))&&(o=C({},a),uh(o,d)),e=e.ownerDocument||e,d=e.createElement("script"),yt(d),wt(d,"link",o),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Uc(o,a.precedence,e));return n.instance}function Uc(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=o.length?o[o.length-1]:null,f=d,y=0;y<o.length;y++){var b=o[y];if(b.dataset.precedence===n)f=b;else if(f!==d)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function lh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function uh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Lc=null;function iv(e,n,a){if(Lc===null){var o=new Map,d=Lc=new Map;d.set(a,o)}else d=Lc,o=d.get(a),o||(o=new Map,d.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),d=0;d<a.length;d++){var f=a[d];if(!(f[hs]||f[_t]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=e+y;var b=o.get(y);b?b.push(f):o.set(y,[f])}}return o}function av(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function _A(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function rv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function EA(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=Dr(o.href),f=n.querySelector(Js(d));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Pc.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,yt(f);return}f=n.ownerDocument||n,o=tv(o),(d=bn.get(d))&&lh(o,d),f=f.createElement("link"),yt(f);var y=f;y._p=new Promise(function(b,E){y.onload=b,y.onerror=E}),wt(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Pc.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var dh=0;function AA(e,n){return e.stylesheets&&e.count===0&&Hc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&Hc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&dh===0&&(dh=62500*aA());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Hc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>dh?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(d)}}:null}function Pc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var zc=null;function Hc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,zc=new Map,n.forEach(TA,e),zc=null,Pc.call(e))}function TA(e,n){if(!(n.state.loading&4)){var a=zc.get(e);if(a)var o=a.get(null);else{a=new Map,zc.set(e,a);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var y=d[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),o=y)}o&&a.set(null,o)}d=n.instance,y=d.getAttribute("data-precedence"),f=a.get(y)||o,f===o&&a.set(null,d),a.set(y,d),this.count++,o=Pc.bind(this),d.addEventListener("load",o),d.addEventListener("error",o),f?f.parentNode.insertBefore(d,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var $s={$$typeof:M,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function wA(e,n,a,o,d,f,y,b,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ut(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ut(0),this.hiddenUpdates=Ut(null),this.identifierPrefix=o,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function sv(e,n,a,o,d,f,y,b,E,I,P,G){return e=new wA(e,n,a,y,E,I,P,G,b),n=1,f===!0&&(n|=24),f=an(3,null,null,n),e.current=f,f.stateNode=e,n=Gu(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},Qu(f),e}function ov(e){return e?(e=fr,e):fr}function cv(e,n,a,o,d,f){d=ov(d),o.context===null?o.context=d:o.pendingContext=d,o=Di(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Ui(e,o,n),a!==null&&(Qt(a,e,n),Rs(a,e,n))}function lv(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function hh(e,n){lv(e,n),(e=e.alternate)&&lv(e,n)}function uv(e){if(e.tag===13||e.tag===31){var n=ya(e,67108864);n!==null&&Qt(n,e,67108864),hh(e,67108864)}}function dv(e){if(e.tag===13||e.tag===31){var n=ln();n=Wa(n);var a=ya(e,n);a!==null&&Qt(a,e,n),hh(e,n)}}var Bc=!0;function xA(e,n,a,o){var d=L.T;L.T=null;var f=J.p;try{J.p=2,fh(e,n,a,o)}finally{J.p=f,L.T=d}}function NA(e,n,a,o){var d=L.T;L.T=null;var f=J.p;try{J.p=8,fh(e,n,a,o)}finally{J.p=f,L.T=d}}function fh(e,n,a,o){if(Bc){var d=mh(o);if(d===null)Wd(e,n,o,Kc,a),fv(e,o);else if(jA(d,e,n,a,o))o.stopPropagation();else if(fv(e,o),n&4&&-1<RA.indexOf(e)){for(;d!==null;){var f=nr(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=V(f.pendingLanes);if(y!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;y;){var E=1<<31-Rt(y);b.entanglements[1]|=E,y&=~E}Qn(f),(Ie&6)===0&&(Ac=ut()+500,qs(0))}}break;case 31:case 13:b=ya(f,2),b!==null&&Qt(b,f,2),wc(),hh(f,2)}if(f=mh(o),f===null&&Wd(e,n,o,Kc,a),f===d)break;d=f}d!==null&&o.stopPropagation()}else Wd(e,n,o,null,a)}}function mh(e){return e=pu(e),gh(e)}var Kc=null;function gh(e){if(Kc=null,e=tr(e),e!==null){var n=u(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=h(n),e!==null)return e;e=null}else if(a===31){if(e=m(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Kc=e,null}function hv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nu()){case cs:return 2;case ko:return 8;case Ja:case iu:return 32;case Mo:return 268435456;default:return 32}default:return 32}}var ph=!1,Yi=null,Qi=null,Ji=null,Zs=new Map,Ws=new Map,Xi=[],RA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fv(e,n){switch(e){case"focusin":case"focusout":Yi=null;break;case"dragenter":case"dragleave":Qi=null;break;case"mouseover":case"mouseout":Ji=null;break;case"pointerover":case"pointerout":Zs.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ws.delete(n.pointerId)}}function eo(e,n,a,o,d,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[d]},n!==null&&(n=nr(n),n!==null&&uv(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function jA(e,n,a,o,d){switch(n){case"focusin":return Yi=eo(Yi,e,n,a,o,d),!0;case"dragenter":return Qi=eo(Qi,e,n,a,o,d),!0;case"mouseover":return Ji=eo(Ji,e,n,a,o,d),!0;case"pointerover":var f=d.pointerId;return Zs.set(f,eo(Zs.get(f)||null,e,n,a,o,d)),!0;case"gotpointercapture":return f=d.pointerId,Ws.set(f,eo(Ws.get(f)||null,e,n,a,o,d)),!0}return!1}function mv(e){var n=tr(e.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=h(a),n!==null){e.blockedOn=n,Nm(e.priority,function(){dv(a)});return}}else if(n===31){if(n=m(a),n!==null){e.blockedOn=n,Nm(e.priority,function(){dv(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=mh(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);gu=o,a.target.dispatchEvent(o),gu=null}else return n=nr(a),n!==null&&uv(n),e.blockedOn=a,!1;n.shift()}return!0}function gv(e,n,a){Fc(e)&&a.delete(n)}function OA(){ph=!1,Yi!==null&&Fc(Yi)&&(Yi=null),Qi!==null&&Fc(Qi)&&(Qi=null),Ji!==null&&Fc(Ji)&&(Ji=null),Zs.forEach(gv),Ws.forEach(gv)}function Gc(e,n){e.blockedOn===n&&(e.blockedOn=null,ph||(ph=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,OA)))}var qc=null;function pv(e){qc!==e&&(qc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){qc===e&&(qc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],d=e[n+2];if(typeof o!="function"){if(gh(o||a)===null)continue;break}var f=nr(a);f!==null&&(e.splice(n,3),n-=3,md(f,{pending:!0,data:d,method:a.method,action:o},o,d))}}))}function Lr(e){function n(E){return Gc(E,e)}Yi!==null&&Gc(Yi,e),Qi!==null&&Gc(Qi,e),Ji!==null&&Gc(Ji,e),Zs.forEach(n),Ws.forEach(n);for(var a=0;a<Xi.length;a++){var o=Xi[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Xi.length&&(a=Xi[0],a.blockedOn===null);)mv(a),a.blockedOn===null&&Xi.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var d=a[o],f=a[o+1],y=d[Kt]||null;if(typeof f=="function")y||pv(a);else if(y){var b=null;if(f&&f.hasAttribute("formAction")){if(d=f,y=f[Kt]||null)b=y.formAction;else if(gh(d)!==null)continue}else b=y.action;typeof b=="function"?a[o+1]=b:(a.splice(o,3),o-=3),pv(a)}}}function yv(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return d=y})},focusReset:"manual",scroll:"manual"})}function n(){d!==null&&(d(),d=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),d!==null&&(d(),d=null)}}}function yh(e){this._internalRoot=e}Vc.prototype.render=yh.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=ln();cv(a,o,e,n,null,null)},Vc.prototype.unmount=yh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;cv(e.current,2,null,e,null,null),wc(),n[er]=null}};function Vc(e){this._internalRoot=e}Vc.prototype.unstable_scheduleHydration=function(e){if(e){var n=xm();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Xi.length&&n!==0&&n<Xi[a].priority;a++);Xi.splice(a,0,e),a===0&&mv(e)}};var vv=t.version;if(vv!=="19.2.3")throw Error(s(527,vv,"19.2.3"));J.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var IA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yc.isDisabled&&Yc.supportsFiber)try{da=Yc.inject(IA),Dt=Yc}catch{}}return no.createRoot=function(e,n){if(!c(e))throw Error(s(299));var a=!1,o="",d=Tp,f=wp,y=xp;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=sv(e,1,!1,null,null,a,o,null,d,f,y,yv),e[er]=n.current,Zd(e),new yh(n)},no.hydrateRoot=function(e,n,a){if(!c(e))throw Error(s(299));var o=!1,d="",f=Tp,y=wp,b=xp,E=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(E=a.formState)),n=sv(e,1,!0,n,a??null,o,d,E,f,y,b,yv),n.context=ov(null),a=n.current,o=ln(),o=Wa(o),d=Di(o),d.callback=null,Ui(a,d,o),a=o,n.current.lanes=a,Gn(n,a),Qn(n),e[er]=n.current,Zd(e),new Vc(n)},no.version="19.2.3",no}var Nv;function GA(){if(Nv)return bh.exports;Nv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),bh.exports=FA(),bh.exports}var ZC=GA();const qA="msal.js.common",WC="https://login.microsoftonline.com/common/",VA="login.microsoftonline.com",eb="common",YA="adfs",QA="dstsv2",JA=`${WC}discovery/instance?api-version=1.1&authorization_endpoint=`,Rv=".ciamlogin.com",XA=".onmicrosoft.com",zh="|",tb="openid",nb="profile",hf="offline_access",$A="email",ff="S256",ZA="application/x-www-form-urlencoded;charset=utf-8",io="Not Available",Hh="/",jv="http://169.254.169.254/metadata/instance/compute/location",WA="2020-06-01",eT=2e3,tT="TryAutoDetect",nT="login.microsoft.com",iT=["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],Ov=240,aT="invalid_instance",Iv=200,rT=400,kv=400,sT=499,oT=500,cT=599,Kr={GET:"GET",POST:"POST"},Zr=[tb,nb,hf],Mv=[...Zr,$A],Ht={CONTENT_TYPE:"Content-Type",CONTENT_LENGTH:"Content-Length",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"},Dv={ACTIVE_ACCOUNT_FILTERS:"active-account-filters"},aa={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},Qc={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},Xt={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",NO_SESSION:"no_session"},mf={CODE:"code",IDTOKEN_TOKEN_REFRESHTOKEN:"id_token token refresh_token"},gf={QUERY:"query",FRAGMENT:"fragment"},ib={AUTHORIZATION_CODE_GRANT:"authorization_code",REFRESH_TOKEN_GRANT:"refresh_token"},lT="MSSTS",uT="ADFS",ab="Generic",rb="-",Bh=".",xt={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},pf="appmetadata",dT="client_info",ml="1",Kh="authority-metadata",hT=3600*24,kn={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},Uv=5,fT=330,mT=50,sb="server-telemetry",Lv="|",Pr=",",gT="1",pT="0",yT="unknown_error",Le={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},vT=60,CT=3600,ob="throttling",bT="retry-after, h429",ST="invalid_grant",_T="client_mismatch",zr={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},Ah={CONFIGURED_NO_AUTO_DETECTION:"2",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},ja={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"},ET={Pop:"pop"},cb=300;const Pa="client_id",lb="redirect_uri",AT="response_type",TT="response_mode",wT="grant_type",xT="claims",NT="scope",RT="refresh_token",jT="state",OT="nonce",IT="prompt",kT="code",MT="code_challenge",DT="code_challenge_method",UT="code_verifier",LT="client-request-id",PT="x-client-SKU",zT="x-client-VER",HT="x-client-OS",BT="x-client-CPU",KT="x-client-current-telemetry",FT="x-client-last-telemetry",GT="x-ms-lib-capability",qT="x-app-name",VT="x-app-ver",YT="post_logout_redirect_uri",QT="id_token_hint",JT="client_secret",XT="client_assertion",$T="client_assertion_type",ub="token_type",db="req_cnf",Pv="return_spa_code",ZT="nativebroker",WT="logout_hint",ew="sid",tw="login_hint",nw="domain_hint",iw="x-client-xtra-sku",gl="brk_client_id",pl="brk_redirect_uri",Fh="instance_aware",aw="ear_jwk",rw="ear_jwe_crypto";function yf(r){return`See https://aka.ms/msal.js.errors#${r} for details`}class Ke extends Error{constructor(t,i,s){const c=i||(t?yf(t):""),u=c?`${t}: ${c}`:t;super(u),Object.setPrototypeOf(this,Ke.prototype),this.errorCode=t||"",this.errorMessage=c||"",this.subError=s||"",this.name="AuthError"}setCorrelationId(t){this.correlationId=t}}function Gh(r,t){return new Ke(r,t||yf(r))}class vf extends Ke{constructor(t){super(t),this.name="ClientConfigurationError",Object.setPrototypeOf(this,vf.prototype)}}function Ge(r){return new vf(r)}class An{static isEmptyObj(t){if(t)try{const i=JSON.parse(t);return Object.keys(i).length===0}catch{}return!0}static startsWith(t,i){return t.indexOf(i)===0}static endsWith(t,i){return t.length>=i.length&&t.lastIndexOf(i)===t.length-i.length}static queryStringToObject(t){const i={},s=t.split("&"),c=u=>decodeURIComponent(u.replace(/\+/g," "));return s.forEach(u=>{if(u.trim()){const[h,m]=u.split(/=(.+)/g,2);h&&m&&(i[c(h)]=c(m))}}),i}static trimArrayEntries(t){return t.map(i=>i.trim())}static removeEmptyStringsFromArray(t){return t.filter(i=>!!i)}static jsonParseHelper(t){try{return JSON.parse(t)}catch{return null}}static matchPattern(t,i){return new RegExp(t.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(i)}}class Cf extends Ke{constructor(t,i){super(t,i),this.name="ClientAuthError",Object.setPrototypeOf(this,Cf.prototype)}}function Y(r,t){return new Cf(r,t)}const sw="redirect_uri_empty",ow="authority_uri_insecure",Jc="url_parse_error",cw="empty_url_error",lw="empty_input_scopes_error",hb="invalid_claims",uw="token_request_empty",dw="logout_request_empty",fb="pkce_params_missing",mb="invalid_cloud_discovery_metadata",hw="invalid_authority_metadata",fw="untrusted_authority",bf="missing_ssh_jwk",mw="missing_ssh_kid",gw="cannot_set_OIDCOptions",pw="cannot_allow_platform_broker",yw="authority_mismatch",vw="invalid_request_method_for_EAR";const gb="client_info_decoding_error",Cw="client_info_empty_error",pb="token_parsing_error",bw="null_or_empty_token",Wi="endpoints_resolution_error",Sw="network_error",_w="openid_config_error",Ew="hash_not_deserialized",go="invalid_state",Aw="state_mismatch",zv="state_not_found",Tw="nonce_mismatch",yb="auth_time_not_found",ww="max_age_transpired",xw="multiple_matching_appMetadata",Nw="request_cannot_be_made",Rw="cannot_remove_empty_scope",jw="cannot_append_scopeset",Hv="empty_input_scopeset",vb="no_account_in_silent_request",Ow="invalid_cache_record",Cb="invalid_cache_environment",Bv="no_account_found",bb="no_crypto_object",Ma="token_refresh_required",Iw="token_claims_cnf_required_for_signedjwt",kw="authorization_code_missing_from_server_response",Mw="binding_key_not_removed",Dw="end_session_endpoint_not_supported",Sb="key_id_missing",Ce="method_not_implemented";class kt{constructor(t){const i=t?An.trimArrayEntries([...t]):[],s=i?An.removeEmptyStringsFromArray(i):[];if(!s||!s.length)throw Ge(lw);this.scopes=new Set,s.forEach(c=>this.scopes.add(c))}static fromString(t){const s=(t||"").split(" ");return new kt(s)}static createSearchScopes(t){const i=t&&t.length>0?t:[...Zr],s=new kt(i);return s.containsOnlyOIDCScopes()?s.removeScope(hf):s.removeOIDCScopes(),s}containsScope(t){const i=this.printScopesLowerCase().split(" "),s=new kt(i);return t?s.scopes.has(t.toLowerCase()):!1}containsScopeSet(t){return!t||t.scopes.size<=0?!1:this.scopes.size>=t.scopes.size&&t.asArray().every(i=>this.containsScope(i))}containsOnlyOIDCScopes(){let t=0;return Mv.forEach(i=>{this.containsScope(i)&&(t+=1)}),this.scopes.size===t}appendScope(t){t&&this.scopes.add(t.trim())}appendScopes(t){try{t.forEach(i=>this.appendScope(i))}catch{throw Y(jw)}}removeScope(t){if(!t)throw Y(Rw);this.scopes.delete(t.trim())}removeOIDCScopes(){Mv.forEach(t=>{this.scopes.delete(t)})}unionScopeSets(t){if(!t)throw Y(Hv);const i=new Set;return t.scopes.forEach(s=>i.add(s.toLowerCase())),this.scopes.forEach(s=>i.add(s.toLowerCase())),i}intersectingScopeSets(t){if(!t)throw Y(Hv);t.containsOnlyOIDCScopes()||t.removeOIDCScopes();const i=this.unionScopeSets(t),s=t.getScopeCount(),c=this.getScopeCount();return i.size<c+s}getScopeCount(){return this.scopes.size}asArray(){const t=[];return this.scopes.forEach(i=>t.push(i)),t}printScopes(){return this.scopes?this.asArray().join(" "):""}printScopesLowerCase(){return this.printScopes().toLowerCase()}}function Dl(r,t,i){if(!t)return;const s=r.get(Pa);s&&r.has(gl)&&i?.addFields({embeddedClientId:s,embeddedRedirectUri:r.get(lb)},t)}function Sf(r,t){r.set(AT,t)}function Uw(r,t){r.set(TT,t||gf.QUERY)}function Lw(r){r.set(ZT,"1")}function _f(r,t,i=!0,s=Zr){i&&!s.includes("openid")&&!t.includes("openid")&&s.push("openid");const c=i?[...t||[],...s]:t||[],u=new kt(c);r.set(NT,u.printScopes())}function Ef(r,t){r.set(Pa,t)}function Af(r,t){r.set(lb,t)}function Pw(r,t){r.set(YT,t)}function zw(r,t){r.set(QT,t)}function Hw(r,t){r.set(nw,t)}function Xc(r,t){r.set(tw,t)}function yl(r,t){r.set(Ht.CCS_HEADER,`UPN:${t}`)}function uo(r,t){r.set(Ht.CCS_HEADER,`Oid:${t.uid}@${t.utid}`)}function Kv(r,t){r.set(ew,t)}function Tf(r,t,i){const s=Vw(t,i);try{JSON.parse(s)}catch{throw Ge(hb)}r.set(xT,s)}function wf(r,t){r.set(LT,t)}function xf(r,t){r.set(PT,t.sku),r.set(zT,t.version),t.os&&r.set(HT,t.os),t.cpu&&r.set(BT,t.cpu)}function Nf(r,t){t?.appName&&r.set(qT,t.appName),t?.appVersion&&r.set(VT,t.appVersion)}function Bw(r,t){r.set(IT,t)}function _b(r,t){t&&r.set(jT,t)}function Kw(r,t){r.set(OT,t)}function Rf(r,t,i){if(t&&i)r.set(MT,t),r.set(DT,i);else throw Ge(fb)}function Fw(r,t){r.set(kT,t)}function Gw(r,t){r.set(RT,t)}function qw(r,t){r.set(UT,t)}function Eb(r,t){r.set(JT,t)}function Ab(r,t){t&&r.set(XT,t)}function Tb(r,t){t&&r.set($T,t)}function wb(r,t){r.set(wT,t)}function jf(r){r.set(dT,"1")}function xb(r){r.has(Fh)||r.set(Fh,"true")}function Zn(r,t){Object.entries(t).forEach(([i,s])=>{!r.has(i)&&s&&r.set(i,s)})}function Vw(r,t){let i;if(!r)i={};else try{i=JSON.parse(r)}catch{throw Ge(hb)}return t&&t.length>0&&(i.hasOwnProperty(Qc.ACCESS_TOKEN)||(i[Qc.ACCESS_TOKEN]={}),i[Qc.ACCESS_TOKEN][Qc.XMS_CC]={values:t}),JSON.stringify(i)}function Of(r,t){t&&(r.set(ub,Le.POP),r.set(db,t))}function Nb(r,t){t&&(r.set(ub,Le.SSH),r.set(db,t))}function Rb(r,t){r.set(KT,t.generateCurrentRequestHeaderValue()),r.set(FT,t.generateLastRequestHeaderValue())}function jb(r){r.set(GT,bT)}function Yw(r,t){r.set(WT,t)}function Ul(r,t,i){r.has(gl)||r.set(gl,t),r.has(pl)||r.set(pl,i)}function Qw(r,t){r.set(aw,encodeURIComponent(t)),r.set(rw,"eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0")}function Fv(r){if(!r)return r;let t=r.toLowerCase();return An.endsWith(t,"?")?t=t.slice(0,-1):An.endsWith(t,"?/")&&(t=t.slice(0,-2)),An.endsWith(t,"/")||(t+="/"),t}function Ob(r){return r.startsWith("#/")?r.substring(2):r.startsWith("#")||r.startsWith("?")?r.substring(1):r}function vl(r){if(!r||r.indexOf("=")<0)return null;try{const t=Ob(r),i=Object.fromEntries(new URLSearchParams(t));if(i.code||i.ear_jwe||i.error||i.error_description||i.state)return i}catch{throw Y(Ew)}return null}function po(r){const t=new Array;return r.forEach((i,s)=>{t.push(`${s}=${encodeURIComponent(i)}`)}),t.join("&")}function Gv(r){if(!r)return r;const t=r.split("#")[0];try{const i=new URL(t),s=i.origin+i.pathname+i.search;return Fv(s)}catch{return Fv(t)}}const Cl={createNewGuid:()=>{throw Y(Ce)},base64Decode:()=>{throw Y(Ce)},base64Encode:()=>{throw Y(Ce)},base64UrlEncode:()=>{throw Y(Ce)},encodeKid:()=>{throw Y(Ce)},async getPublicKeyThumbprint(){throw Y(Ce)},async removeTokenBindingKey(){throw Y(Ce)},async clearKeystore(){throw Y(Ce)},async signJwt(){throw Y(Ce)},async hashString(){throw Y(Ce)}};var Ze;(function(r){r[r.Error=0]="Error",r[r.Warning=1]="Warning",r[r.Info=2]="Info",r[r.Verbose=3]="Verbose",r[r.Trace=4]="Trace"})(Ze||(Ze={}));const Jw=50,Xw=500,Oa=new Map;function $w(r,t){Oa.delete(r),Oa.set(r,t)}function Zw(r,t){const i=Date.now();let s=Oa.get(r);if(s)$w(r,s);else if(s={logs:[],firstEventTime:i},Oa.set(r,s),Oa.size>Jw){const c=Oa.keys().next().value;c&&Oa.delete(c)}s.logs.push({...t,milliseconds:i-s.firstEventTime}),s.logs.length>Xw&&s.logs.shift()}function Ww(r){if(r.length!==6)return!1;for(let t=0;t<r.length;t++){const i=r[t];if(!(i>="a"&&i<="z"||i>="A"&&i<="Z"||i>="0"&&i<="9"))return!1}return!0}class zn{constructor(t,i,s){this.level=Ze.Info;const c=()=>{},u=t||zn.createDefaultLoggerOptions();this.localCallback=u.loggerCallback||c,this.piiLoggingEnabled=u.piiLoggingEnabled||!1,this.level=typeof u.logLevel=="number"?u.logLevel:Ze.Info,this.packageName=i||"",this.packageVersion=s||""}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Ze.Info}}clone(t,i){return new zn({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level},t,i)}logMessage(t,i){const s=i.correlationId;if(Ww(t)){const g={hash:t,level:i.logLevel,containsPii:i.containsPii||!1,milliseconds:0};Zw(s,g)}if(i.logLevel>this.level||!this.piiLoggingEnabled&&i.containsPii)return;const m=`${`[${new Date().toUTCString()}] : [${s}]`} : ${this.packageName}@${this.packageVersion} : ${Ze[i.logLevel]} - ${t}`;this.executeCallback(i.logLevel,m,i.containsPii||!1)}executeCallback(t,i,s){this.localCallback&&this.localCallback(t,i,s)}error(t,i){this.logMessage(t,{logLevel:Ze.Error,containsPii:!1,correlationId:i})}errorPii(t,i){this.logMessage(t,{logLevel:Ze.Error,containsPii:!0,correlationId:i})}warning(t,i){this.logMessage(t,{logLevel:Ze.Warning,containsPii:!1,correlationId:i})}warningPii(t,i){this.logMessage(t,{logLevel:Ze.Warning,containsPii:!0,correlationId:i})}info(t,i){this.logMessage(t,{logLevel:Ze.Info,containsPii:!1,correlationId:i})}infoPii(t,i){this.logMessage(t,{logLevel:Ze.Info,containsPii:!0,correlationId:i})}verbose(t,i){this.logMessage(t,{logLevel:Ze.Verbose,containsPii:!1,correlationId:i})}verbosePii(t,i){this.logMessage(t,{logLevel:Ze.Verbose,containsPii:!0,correlationId:i})}trace(t,i){this.logMessage(t,{logLevel:Ze.Trace,containsPii:!1,correlationId:i})}tracePii(t,i){this.logMessage(t,{logLevel:Ze.Trace,containsPii:!0,correlationId:i})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}const Ll="@azure/msal-common",So="16.0.2";const If={None:"none"};function qv(r,t){return!!r&&!!t&&r===t.split(".")[1]}function Pl(r,t,i,s){if(s){const{oid:c,sub:u,tid:h,name:m,tfp:g,acr:p,preferred_username:v,upn:C,login_hint:S}=s,x=h||g||p||"";return{tenantId:x,localAccountId:c||u||"",name:m,username:v||C||"",loginHint:S,isHomeTenant:qv(x,r)}}else return{tenantId:i,localAccountId:t,username:"",isHomeTenant:qv(i,r)}}function kf(r,t,i,s){let c=r;if(t){const{isHomeTenant:u,...h}=t;c={...r,...h}}if(i){const{isHomeTenant:u,...h}=Pl(r.homeAccountId,r.localAccountId,r.tenantId,i);return c={...c,...h,idTokenClaims:i,idToken:s},c}return c}function Si(r,t){const i=ex(r);try{const s=t(i);return JSON.parse(s)}catch{throw Y(pb)}}function Da(r){if(!r.signin_state)return!1;const t=["kmsi","dvc_dmjd"];return r.signin_state.some(i=>t.includes(i.trim().toLowerCase()))}function ex(r){if(!r)throw Y(bw);const i=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(r);if(!i||i.length<4)throw Y(pb);return i[2]}function Ib(r,t){if(t===0||Date.now()-3e5>r+t)throw Y(ww)}class ke{get urlString(){return this._urlString}constructor(t){if(this._urlString=t,!this._urlString)throw Ge(cw);t.includes("#")||(this._urlString=ke.canonicalizeUri(t))}static canonicalizeUri(t){if(t){let i=t.toLowerCase();return An.endsWith(i,"?")?i=i.slice(0,-1):An.endsWith(i,"?/")&&(i=i.slice(0,-2)),An.endsWith(i,"/")||(i+="/"),i}return t}validateAsUri(){let t;try{t=this.getUrlComponents()}catch{throw Ge(Jc)}if(!t.HostNameAndPort||!t.PathSegments)throw Ge(Jc);if(!t.Protocol||t.Protocol.toLowerCase()!=="https:")throw Ge(ow)}static appendQueryString(t,i){return i?t.indexOf("?")<0?`${t}?${i}`:`${t}&${i}`:t}static removeHashFromUrl(t){return ke.canonicalizeUri(t.split("#")[0])}replaceTenantPath(t){const i=this.getUrlComponents(),s=i.PathSegments;return t&&s.length!==0&&(s[0]===aa.COMMON||s[0]===aa.ORGANIZATIONS)&&(s[0]=t),ke.constructAuthorityUriFromObject(i)}getUrlComponents(){const t=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),i=this.urlString.match(t);if(!i)throw Ge(Jc);const s={Protocol:i[1],HostNameAndPort:i[4],AbsolutePath:i[5],QueryString:i[7]};let c=s.AbsolutePath.split("/");return c=c.filter(u=>u&&u.length>0),s.PathSegments=c,s.QueryString&&s.QueryString.endsWith("/")&&(s.QueryString=s.QueryString.substring(0,s.QueryString.length-1)),s}static getDomainFromUrl(t){const i=RegExp("^([^:/?#]+://)?([^/?#]*)"),s=t.match(i);if(!s)throw Ge(Jc);return s[2]}static getAbsoluteUrl(t,i){if(t[0]===Hh){const c=new ke(i).getUrlComponents();return c.Protocol+"//"+c.HostNameAndPort+t}return t}static constructAuthorityUriFromObject(t){return new ke(t.Protocol+"//"+t.HostNameAndPort+"/"+t.PathSegments.join("/"))}}const tx=[{host:"login.microsoftonline.com"},{host:"login.chinacloudapi.cn",issuerHost:"login.partner.microsoftonline.cn"},{host:"login.microsoftonline.us"},{host:"login.sovcloud-identity.fr"},{host:"login.sovcloud-identity.de"},{host:"login.sovcloud-identity.sg"}];function nx(r,t){return{token_endpoint:`https://${r}/{tenantid}/oauth2/v2.0/token`,jwks_uri:`https://${r}/{tenantid}/discovery/v2.0/keys`,issuer:`https://${t}/{tenantid}/v2.0`,authorization_endpoint:`https://${r}/{tenantid}/oauth2/v2.0/authorize`,end_session_endpoint:`https://${r}/{tenantid}/oauth2/v2.0/logout`}}const ix=tx.reduce((r,{host:t,issuerHost:i})=>(r[t]=nx(t,i||t),r),{}),kb={endpointMetadata:ix,instanceDiscoveryMetadata:{metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},Vv=kb.endpointMetadata,Mf=kb.instanceDiscoveryMetadata,Mb=new Set;Mf.metadata.forEach(r=>{r.aliases.forEach(t=>{Mb.add(t)})});function ax(r,t,i){let s;const c=r.canonicalAuthority;if(c){const u=new ke(c).getUrlComponents().HostNameAndPort;s=Yv(t,i,u,r.cloudDiscoveryMetadata?.metadata)||Yv(t,i,u,Mf.metadata)||r.knownAuthorities}return s||[]}function Yv(r,t,i,s,c){if(r.trace("1bmquz",t),i&&s){const u=bl(s,i);if(u)return r.trace("1fotbt",t),u.aliases;r.trace("14avvj",t)}return null}function rx(r){return bl(Mf.metadata,r)}function bl(r,t){for(let i=0;i<r.length;i++){const s=r[i];if(s.aliases.includes(t))return s}return null}const qh="cache_quota_exceeded",sx="cache_error_unknown";class Fr extends Error{constructor(t,i){const s=i||yf(t);super(s),Object.setPrototypeOf(this,Fr.prototype),this.name="CacheError",this.errorCode=t,this.errorMessage=s}}function Vh(r){return r instanceof Error?r.name==="QuotaExceededError"||r.name==="NS_ERROR_DOM_QUOTA_REACHED"||r.message.includes("exceeded the quota")?new Fr(qh):new Fr(r.name,r.message):new Fr(sx)}function Sl(r,t){if(!r)throw Y(Cw);try{const i=t(r);return JSON.parse(i)}catch{throw Y(gb)}}function Gr(r){if(!r)throw Y(gb);const t=r.split(Bh,2);return{uid:t[0],utid:t.length<2?"":t[1]}}const Dn={Default:0,Adfs:1,Dsts:2,Ciam:3};function Df(r){return r&&(r.tid||r.tfp||r.acr)||null}const Zt={AAD:"AAD",OIDC:"OIDC",EAR:"EAR"};function oa(r){return{homeAccountId:r.homeAccountId,environment:r.environment,tenantId:r.realm,username:r.username,localAccountId:r.localAccountId,loginHint:r.loginHint,name:r.name,nativeAccountId:r.nativeAccountId,authorityType:r.authorityType,tenantProfiles:new Map((r.tenantProfiles||[]).map(t=>[t.tenantId,t])),dataBoundary:r.dataBoundary}}function ox(r,t,i){let s;t.authorityType===Dn.Adfs?s=uT:t.protocolMode===Zt.OIDC?s=ab:s=lT;let c,u;r.clientInfo&&i&&(c=Sl(r.clientInfo,i),c.xms_tdbr&&(u=c.xms_tdbr==="EU"?"EU":"None"));const h=r.environment||t&&t.getPreferredCache();if(!h)throw Y(Cb);const m=r.idTokenClaims?.preferred_username||r.idTokenClaims?.upn,g=r.idTokenClaims?.emails?r.idTokenClaims.emails[0]:null,p=m||g||"",v=r.idTokenClaims?.login_hint,C=c?.utid||Df(r.idTokenClaims)||"",S=c?.uid||r.idTokenClaims?.oid||r.idTokenClaims?.sub||"";let x;return r.tenantProfiles?x=r.tenantProfiles:x=[Pl(r.homeAccountId,S,C,r.idTokenClaims)],{homeAccountId:r.homeAccountId,environment:h,realm:C,localAccountId:S,username:p,authorityType:s,loginHint:v,clientInfo:r.clientInfo,name:r.idTokenClaims?.name||"",lastModificationTime:void 0,lastModificationApp:void 0,cloudGraphHostName:r.cloudGraphHostName,msGraphHost:r.msGraphHost,nativeAccountId:r.nativeAccountId,tenantProfiles:x,dataBoundary:u}}function cx(r,t,i){return{authorityType:r.authorityType||ab,homeAccountId:r.homeAccountId,localAccountId:r.localAccountId,nativeAccountId:r.nativeAccountId,realm:r.tenantId,environment:r.environment,username:r.username,loginHint:r.loginHint,name:r.name,cloudGraphHostName:t,msGraphHost:i,tenantProfiles:Array.from(r.tenantProfiles?.values()||[]),dataBoundary:r.dataBoundary}}function Db(r,t,i,s,c,u){if(!(t===Dn.Adfs||t===Dn.Dsts)){if(r)try{const h=Sl(r,s.base64Decode);if(h.uid&&h.utid)return`${h.uid}.${h.utid}`}catch{}i.warning("1ub6wv",c)}return u?.sub||""}function lx(r){return r?r.hasOwnProperty("homeAccountId")&&r.hasOwnProperty("environment")&&r.hasOwnProperty("realm")&&r.hasOwnProperty("localAccountId")&&r.hasOwnProperty("username")&&r.hasOwnProperty("authorityType"):!1}class Yh{constructor(t,i,s,c,u){this.clientId=t,this.cryptoImpl=i,this.commonLogger=s.clone(Ll,So),this.staticAuthorityOptions=u,this.performanceClient=c}getAllAccounts(t={},i){return this.buildTenantProfiles(this.getAccountsFilteredBy(t,i),i,t)}getAccountInfoFilteredBy(t,i){const s=this.getAllAccounts(t,i);return s.length>1?s.sort(u=>u.idTokenClaims?-1:1)[0]:s.length===1?s[0]:null}getBaseAccountInfo(t,i){const s=this.getAccountsFilteredBy(t,i);return s.length>0?oa(s[0]):null}buildTenantProfiles(t,i,s){return t.flatMap(c=>this.getTenantProfilesFromAccountEntity(c,i,s?.tenantId,s))}getTenantedAccountInfoByFilter(t,i,s,c,u){let h=null,m;if(u&&!this.tenantProfileMatchesFilter(s,u))return null;const g=this.getIdToken(t,c,i,s.tenantId);return g&&(m=Si(g.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(m,u))?null:(h=kf(t,s,m,g?.secret),h)}getTenantProfilesFromAccountEntity(t,i,s,c){const u=oa(t);let h=u.tenantProfiles||new Map;const m=this.getTokenKeys();if(s){const p=h.get(s);if(p)h=new Map([[s,p]]);else return[]}const g=[];return h.forEach(p=>{const v=this.getTenantedAccountInfoByFilter(u,m,p,i,c);v&&g.push(v)}),g}tenantProfileMatchesFilter(t,i){return!(i.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(t,i.localAccountId)||i.name&&t.name!==i.name||i.isHomeTenant!==void 0&&t.isHomeTenant!==i.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(t,i){return!(i&&(i.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(t,i.localAccountId)||i.loginHint&&!this.matchLoginHintFromTokenClaims(t,i.loginHint)||i.username&&!this.matchUsername(t.preferred_username,i.username)||i.name&&!this.matchName(t,i.name)||i.sid&&!this.matchSid(t,i.sid)))}async saveCacheRecord(t,i,s,c){if(!t)throw Y(Ow);try{t.account&&await this.setAccount(t.account,i,s),t.idToken&&c?.idToken!==!1&&await this.setIdTokenCredential(t.idToken,i,s),t.accessToken&&c?.accessToken!==!1&&await this.saveAccessToken(t.accessToken,i,s),t.refreshToken&&c?.refreshToken!==!1&&await this.setRefreshTokenCredential(t.refreshToken,i,s),t.appMetadata&&this.setAppMetadata(t.appMetadata,i)}catch(u){throw this.commonLogger?.error("0j476p",i),u instanceof Ke?u:Vh(u)}}async saveAccessToken(t,i,s){const c={clientId:t.clientId,credentialType:t.credentialType,environment:t.environment,homeAccountId:t.homeAccountId,realm:t.realm,tokenType:t.tokenType},u=this.getTokenKeys(),h=kt.fromString(t.target);u.accessToken.forEach(m=>{if(!this.accessTokenKeyMatchesFilter(m,c,!1))return;const g=this.getAccessTokenCredential(m,i);g&&this.credentialMatchesFilter(g,c,i)&&kt.fromString(g.target).intersectingScopeSets(h)&&this.removeAccessToken(m,i)}),await this.setAccessTokenCredential(t,i,s)}getAccountsFilteredBy(t,i){const s=this.getAccountKeys(),c=[];return s.forEach(u=>{const h=this.getAccount(u,i);if(!h||t.homeAccountId&&!this.matchHomeAccountId(h,t.homeAccountId)||t.username&&!this.matchUsername(h.username,t.username)||t.environment&&!this.matchEnvironment(h,t.environment,i)||t.realm&&!this.matchRealm(h,t.realm)||t.nativeAccountId&&!this.matchNativeAccountId(h,t.nativeAccountId)||t.authorityType&&!this.matchAuthorityType(h,t.authorityType))return;const m={localAccountId:t?.localAccountId,name:t?.name},g=h.tenantProfiles?.filter(p=>this.tenantProfileMatchesFilter(p,m));g&&g.length===0||c.push(h)}),c}credentialMatchesFilter(t,i,s){return!(i.clientId&&!this.matchClientId(t,i.clientId)||i.userAssertionHash&&!this.matchUserAssertionHash(t,i.userAssertionHash)||typeof i.homeAccountId=="string"&&!this.matchHomeAccountId(t,i.homeAccountId)||i.environment&&!this.matchEnvironment(t,i.environment,s)||i.realm&&!this.matchRealm(t,i.realm)||i.credentialType&&!this.matchCredentialType(t,i.credentialType)||i.familyId&&!this.matchFamilyId(t,i.familyId)||i.target&&!this.matchTarget(t,i.target)||t.credentialType===xt.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(i.tokenType&&!this.matchTokenType(t,i.tokenType)||i.tokenType===Le.SSH&&i.keyId&&!this.matchKeyId(t,i.keyId)))}getAppMetadataFilteredBy(t,i){const s=this.getKeys(),c={};return s.forEach(u=>{if(!this.isAppMetadata(u))return;const h=this.getAppMetadata(u,i);h&&(t.environment&&!this.matchEnvironment(h,t.environment,i)||t.clientId&&!this.matchClientId(h,t.clientId)||(c[u]=h))}),c}getAuthorityMetadataByAlias(t,i){const s=this.getAuthorityMetadataKeys();let c=null;return s.forEach(u=>{if(!this.isAuthorityMetadata(u)||u.indexOf(this.clientId)===-1)return;const h=this.getAuthorityMetadata(u,i);h&&h.aliases.indexOf(t)!==-1&&(c=h)}),c}removeAllAccounts(t){this.getAllAccounts({},t).forEach(s=>{this.removeAccount(s,t)})}removeAccount(t,i){this.removeAccountContext(t,i);const s=this.getAccountKeys(),c=u=>u.includes(t.homeAccountId)&&u.includes(t.environment);s.filter(c).forEach(u=>{this.removeItem(u,i),this.performanceClient.incrementFields({accountsRemoved:1},i)})}removeAccountContext(t,i){const s=this.getTokenKeys(),c=u=>u.includes(t.homeAccountId)&&u.includes(t.environment);s.idToken.filter(c).forEach(u=>{this.removeIdToken(u,i)}),s.accessToken.filter(c).forEach(u=>{this.removeAccessToken(u,i)}),s.refreshToken.filter(c).forEach(u=>{this.removeRefreshToken(u,i)})}removeAccessToken(t,i){const s=this.getAccessTokenCredential(t,i);if(s&&(this.removeItem(t,i),this.performanceClient.incrementFields({accessTokensRemoved:1},i),s.credentialType.toLowerCase()===xt.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()&&s.tokenType===Le.POP)){const u=s.keyId;u&&this.cryptoImpl.removeTokenBindingKey(u,i).catch(()=>{this.commonLogger.error("0cx291",i),this.performanceClient?.incrementFields({removeTokenBindingKeyFailure:1},i)})}}removeAppMetadata(t){return this.getKeys().forEach(s=>{this.isAppMetadata(s)&&this.removeItem(s,t)}),!0}getIdToken(t,i,s,c){this.commonLogger.trace("1drz22",i);const u={homeAccountId:t.homeAccountId,environment:t.environment,credentialType:xt.ID_TOKEN,clientId:this.clientId,realm:c},h=this.getIdTokensByFilter(u,i,s),m=h.size;if(m<1)return this.commonLogger.info("1atvtd",i),null;if(m>1){let g=h;if(!c){const p=new Map;h.forEach((C,S)=>{C.realm===t.tenantId&&p.set(S,C)});const v=p.size;if(v<1)return this.commonLogger.info("0ooalx",i),h.values().next().value;if(v===1)return this.commonLogger.info("1eq2vc",i),p.values().next().value;g=p}return this.commonLogger.info("1ws328",i),g.forEach((p,v)=>{this.removeIdToken(v,i)}),this.performanceClient.addFields({multiMatchedID:h.size},i),null}return this.commonLogger.info("1sm769",i),h.values().next().value}getIdTokensByFilter(t,i,s){const c=s&&s.idToken||this.getTokenKeys().idToken,u=new Map;return c.forEach(h=>{if(!this.idTokenKeyMatchesFilter(h,{clientId:this.clientId,...t}))return;const m=this.getIdTokenCredential(h,i);m&&this.credentialMatchesFilter(m,t,i)&&u.set(h,m)}),u}idTokenKeyMatchesFilter(t,i){const s=t.toLowerCase();return!(i.clientId&&s.indexOf(i.clientId.toLowerCase())===-1||i.homeAccountId&&s.indexOf(i.homeAccountId.toLowerCase())===-1)}removeIdToken(t,i){this.removeItem(t,i)}removeRefreshToken(t,i){this.removeItem(t,i)}getAccessToken(t,i,s,c){const u=i.correlationId;this.commonLogger.trace("1t7hz1",u);const h=kt.createSearchScopes(i.scopes),m=i.authenticationScheme||Le.BEARER,g=m.toLowerCase()!==Le.BEARER.toLowerCase()?xt.ACCESS_TOKEN_WITH_AUTH_SCHEME:xt.ACCESS_TOKEN,p={homeAccountId:t.homeAccountId,environment:t.environment,credentialType:g,clientId:this.clientId,realm:c||t.tenantId,target:h,tokenType:m,keyId:i.sshKid},v=s&&s.accessToken||this.getTokenKeys().accessToken,C=[];v.forEach(x=>{if(this.accessTokenKeyMatchesFilter(x,p,!0)){const T=this.getAccessTokenCredential(x,u);T&&this.credentialMatchesFilter(T,p,u)&&C.push(T)}});const S=C.length;return S<1?(this.commonLogger.info("1nckna",u),null):S>1?(this.commonLogger.info("1wkfwp",u),C.forEach(x=>{this.removeAccessToken(this.generateCredentialKey(x),u)}),this.performanceClient.addFields({multiMatchedAT:C.length},u),null):(this.commonLogger.info("06yt98",u),C[0])}accessTokenKeyMatchesFilter(t,i,s){const c=t.toLowerCase();if(i.clientId&&c.indexOf(i.clientId.toLowerCase())===-1||i.homeAccountId&&c.indexOf(i.homeAccountId.toLowerCase())===-1||i.realm&&c.indexOf(i.realm.toLowerCase())===-1)return!1;if(i.target){const u=i.target.asArray();for(let h=0;h<u.length;h++){if(s&&!c.includes(u[h].toLowerCase()))return!1;if(!s&&c.includes(u[h].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(t,i){const s=this.getTokenKeys(),c=[];return s.accessToken.forEach(u=>{if(!this.accessTokenKeyMatchesFilter(u,t,!0))return;const h=this.getAccessTokenCredential(u,i);h&&this.credentialMatchesFilter(h,t,i)&&c.push(h)}),c}getRefreshToken(t,i,s,c){this.commonLogger.trace("0x53vi",s);const u=i?ml:void 0,h={homeAccountId:t.homeAccountId,environment:t.environment,credentialType:xt.REFRESH_TOKEN,clientId:this.clientId,familyId:u},m=c&&c.refreshToken||this.getTokenKeys().refreshToken,g=[];m.forEach(v=>{if(this.refreshTokenKeyMatchesFilter(v,h)){const C=this.getRefreshTokenCredential(v,s);C&&this.credentialMatchesFilter(C,h,s)&&g.push(C)}});const p=g.length;return p<1?(this.commonLogger.info("0dlw11",s),null):(p>1&&this.performanceClient.addFields({multiMatchedRT:p},s),this.commonLogger.info("0wcnep",s),g[0])}refreshTokenKeyMatchesFilter(t,i){const s=t.toLowerCase();return!(i.familyId&&s.indexOf(i.familyId.toLowerCase())===-1||!i.familyId&&i.clientId&&s.indexOf(i.clientId.toLowerCase())===-1||i.homeAccountId&&s.indexOf(i.homeAccountId.toLowerCase())===-1)}readAppMetadataFromCache(t,i){const s={environment:t,clientId:this.clientId},c=this.getAppMetadataFilteredBy(s,i),u=Object.keys(c).map(m=>c[m]),h=u.length;if(h<1)return null;if(h>1)throw Y(xw);return u[0]}isAppMetadataFOCI(t,i){const s=this.readAppMetadataFromCache(t,i);return!!(s&&s.familyId===ml)}matchHomeAccountId(t,i){return typeof t.homeAccountId=="string"&&i===t.homeAccountId}matchLocalAccountIdFromTokenClaims(t,i){const s=t.oid||t.sub;return i===s}matchLocalAccountIdFromTenantProfile(t,i){return t.localAccountId===i}matchName(t,i){return i.toLowerCase()===t.name?.toLowerCase()}matchUsername(t,i){return!!(t&&typeof t=="string"&&i?.toLowerCase()===t.toLowerCase())}matchUserAssertionHash(t,i){return!!(t.userAssertionHash&&i===t.userAssertionHash)}matchEnvironment(t,i,s){if(this.staticAuthorityOptions){const u=ax(this.staticAuthorityOptions,this.commonLogger,s);if(u.includes(i)&&u.includes(t.environment))return!0}const c=this.getAuthorityMetadataByAlias(i,s);return!!(c&&c.aliases.indexOf(t.environment)>-1)}matchCredentialType(t,i){return t.credentialType&&i.toLowerCase()===t.credentialType.toLowerCase()}matchClientId(t,i){return!!(t.clientId&&i===t.clientId)}matchFamilyId(t,i){return!!(t.familyId&&i===t.familyId)}matchRealm(t,i){return t.realm?.toLowerCase()===i.toLowerCase()}matchNativeAccountId(t,i){return!!(t.nativeAccountId&&i===t.nativeAccountId)}matchLoginHintFromTokenClaims(t,i){return t.login_hint===i||t.preferred_username===i||t.upn===i}matchSid(t,i){return t.sid===i}matchAuthorityType(t,i){return!!(t.authorityType&&i.toLowerCase()===t.authorityType.toLowerCase())}matchTarget(t,i){return t.credentialType!==xt.ACCESS_TOKEN&&t.credentialType!==xt.ACCESS_TOKEN_WITH_AUTH_SCHEME||!t.target?!1:kt.fromString(t.target).containsScopeSet(i)}matchTokenType(t,i){return!!(t.tokenType&&t.tokenType===i)}matchKeyId(t,i){return!!(t.keyId&&t.keyId===i)}isAppMetadata(t){return t.indexOf(pf)!==-1}isAuthorityMetadata(t){return t.indexOf(Kh)!==-1}generateAuthorityMetadataCacheKey(t){return`${Kh}-${this.clientId}-${t}`}static toObject(t,i){for(const s in i)t[s]=i[s];return t}}class ux extends Yh{async setAccount(){throw Y(Ce)}getAccount(){throw Y(Ce)}async setIdTokenCredential(){throw Y(Ce)}getIdTokenCredential(){throw Y(Ce)}async setAccessTokenCredential(){throw Y(Ce)}getAccessTokenCredential(){throw Y(Ce)}async setRefreshTokenCredential(){throw Y(Ce)}getRefreshTokenCredential(){throw Y(Ce)}setAppMetadata(){throw Y(Ce)}getAppMetadata(){throw Y(Ce)}setServerTelemetry(){throw Y(Ce)}getServerTelemetry(){throw Y(Ce)}setAuthorityMetadata(){throw Y(Ce)}getAuthorityMetadata(){throw Y(Ce)}getAuthorityMetadataKeys(){throw Y(Ce)}setThrottlingCache(){throw Y(Ce)}getThrottlingCache(){throw Y(Ce)}removeItem(){throw Y(Ce)}getKeys(){throw Y(Ce)}getAccountKeys(){throw Y(Ce)}getTokenKeys(){throw Y(Ce)}generateCredentialKey(){throw Y(Ce)}generateAccountKey(){throw Y(Ce)}}const dx={InProgress:1};class Ub{generateId(){return"callback-id"}startMeasurement(t,i){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:dx.InProgress,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:t,startTimeMs:Date.now(),correlationId:i||""}}}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}const Lb={tokenRenewalOffsetSeconds:cb,preventCorsPreflight:!1},hx={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Ze.Info,correlationId:""},fx={async sendGetRequestAsync(){throw Y(Ce)},async sendPostRequestAsync(){throw Y(Ce)}},mx={sku:qA,version:So,cpu:"",os:""},gx={clientSecret:"",clientAssertion:void 0},px={azureCloudInstance:If.None,tenant:`${eb}`},yx={application:{appName:"",appVersion:""}};function Uf({authOptions:r,systemOptions:t,loggerOptions:i,storageInterface:s,networkInterface:c,cryptoInterface:u,clientCredentials:h,libraryInfo:m,telemetry:g,serverTelemetryManager:p,persistencePlugin:v,serializableCache:C}){const S={...hx,...i};return{authOptions:vx(r),systemOptions:{...Lb,...t},loggerOptions:S,storageInterface:s||new ux(r.clientId,Cl,new zn(S),new Ub),networkInterface:c||fx,cryptoInterface:u||Cl,clientCredentials:h||gx,libraryInfo:{...mx,...m},telemetry:{...yx,...g},serverTelemetryManager:p||null,persistencePlugin:v||null,serializableCache:C||null}}function vx(r){return{clientCapabilities:[],azureCloudOptions:px,instanceAware:!1,...r}}function Pb(r){return r.authOptions.authority.options.protocolMode===Zt.OIDC}class qa extends Ke{constructor(t,i,s,c,u){super(t,i,s),this.name="ServerError",this.errorNo=c,this.status=u,Object.setPrototypeOf(this,qa.prototype)}}const Qh="no_tokens_found",Cx="native_account_unavailable",zb="refresh_token_expired",Hb="ux_not_allowed",bx="interaction_required",Sx="consent_required",_x="login_required",Lf="bad_token";const Qv=[bx,Sx,_x,Lf,Hb],Ex=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token","ux_not_allowed"];class wn extends Ke{constructor(t,i,s,c,u,h,m,g){super(t,i,s),Object.setPrototypeOf(this,wn.prototype),this.timestamp=c||"",this.traceId=u||"",this.correlationId=h||"",this.claims=m||"",this.name="InteractionRequiredAuthError",this.errorNo=g}}function Bb(r,t,i){const s=!!r&&Qv.indexOf(r)>-1,c=!!i&&Ex.indexOf(i)>-1,u=!!t&&Qv.some(h=>t.indexOf(h)>-1);return s||u||c}function _l(r,t){return new wn(r,t)}function Ax(r,t,i){const s=Tx(r,i);return t?`${s}${zh}${t}`:s}function Tx(r,t){if(!r)throw Y(bb);const i={id:r.createNewGuid()};t&&(i.meta=t);const s=JSON.stringify(i);return r.base64Encode(s)}function _o(r,t){if(!r)throw Y(bb);if(!t)throw Y(go);try{const i=t.split(zh),s=i[0],c=i.length>1?i.slice(1).join(zh):"",u=r(s),h=JSON.parse(u);return{userRequestState:c||"",libraryState:h}}catch{throw Y(go)}}function Hn(){return Math.round(new Date().getTime()/1e3)}function Jv(r){return r.getTime()/1e3}function al(r){return r?new Date(Number(r)*1e3):new Date}function El(r,t){const i=Number(r)||0;return Hn()+t>i}function Xv(r,t){const i=Number(r)+t*24*60*60*1e3;return Date.now()>i}function wx(r){return Number(r)>Hn()}const xx="networkClientSendPostRequestAsync",Nx="refreshTokenClientExecutePostToTokenEndpoint",Rx="authorizationCodeClientExecutePostToTokenEndpoint",jx="refreshTokenClientExecuteTokenRequest",Ox="refreshTokenClientAcquireToken",Th="refreshTokenClientAcquireTokenWithCachedRefreshToken",Ix="refreshTokenClientCreateTokenRequestBody",kx="silentFlowClientGenerateResultFromCacheRecord",Pf="getAuthCodeUrl",Kb="handleCodeResponseFromServer",Mx="authClientExecuteTokenRequest",Dx="authClientCreateTokenRequestBody",Ux="updateTokenEndpointAuthority",Eo="popTokenGenerateCnf",zf="handleServerTokenResponse",Lx="authorityResolveEndpointsAsync",Px="authorityGetCloudDiscoveryMetadataFromNetwork",zx="authorityUpdateCloudDiscoveryMetadata",Hx="authorityGetEndpointMetadataFromNetwork",Bx="authorityUpdateEndpointMetadata",$v="authorityUpdateMetadataWithRegionalInformation",Kx="regionDiscoveryDetectRegion",Zv="regionDiscoveryGetRegionFromIMDS",Fx="regionDiscoveryGetCurrentVersion",Gx="cacheManagerGetRefreshToken",qx="setUserData";const Pn=(r,t,i,s,c)=>(...u)=>{i.trace("1plfzx",c);const h=s.startMeasurement(t,c);if(c){const m=t+"CallCount";s.incrementFields({[m]:1},c)}try{const m=r(...u);return h.end({success:!0}),i.trace("1g8n6a",c),m}catch(m){i.trace("0cfd8i",c);try{i.trace(JSON.stringify(m),c)}catch{i.trace("00dty7",c)}throw h.end({success:!1},m),m}},z=(r,t,i,s,c)=>(...u)=>{i.trace("1plfzx",c);const h=s.startMeasurement(t,c);if(c){const m=t+"CallCount";s.incrementFields({[m]:1},c)}return r(...u).then(m=>(i.trace("1g8n6a",c),h.end({success:!0}),m)).catch(m=>{i.trace("0cfd8i",c);try{i.trace(JSON.stringify(m),c)}catch{i.trace("00dty7",c)}throw h.end({success:!1},m),m})};const Vx={SW:"sw"};class Jr{constructor(t,i){this.cryptoUtils=t,this.performanceClient=i}async generateCnf(t,i){const s=await z(this.generateKid.bind(this),Eo,i,this.performanceClient,t.correlationId)(t),c=this.cryptoUtils.base64UrlEncode(JSON.stringify(s));return{kid:s.kid,reqCnfString:c}}async generateKid(t){return{kid:await this.cryptoUtils.getPublicKeyThumbprint(t),xms_ksl:Vx.SW}}async signPopToken(t,i,s){return this.signPayload(t,i,s)}async signPayload(t,i,s,c){const{resourceRequestMethod:u,resourceRequestUri:h,shrClaims:m,shrNonce:g,shrOptions:p}=s,C=(h?new ke(h):void 0)?.getUrlComponents();return this.cryptoUtils.signJwt({at:t,ts:Hn(),m:u?.toUpperCase(),u:C?.HostNameAndPort,nonce:g||this.cryptoUtils.createNewGuid(),p:C?.AbsolutePath,q:C?.QueryString?[[],C.QueryString]:void 0,client_claims:m||void 0,...c},i,p,s.correlationId)}}class Yx{constructor(t,i){this.cache=t,this.hasChanged=i}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}function Hf(r,t,i,s,c){return{credentialType:xt.ID_TOKEN,homeAccountId:r,environment:t,clientId:s,secret:i,realm:c,lastUpdatedAt:Date.now().toString()}}function Bf(r,t,i,s,c,u,h,m,g,p,v,C,S){const x={homeAccountId:r,credentialType:xt.ACCESS_TOKEN,secret:i,cachedAt:Hn().toString(),expiresOn:h.toString(),extendedExpiresOn:m.toString(),environment:t,clientId:s,realm:c,target:u,tokenType:v||Le.BEARER,lastUpdatedAt:Date.now().toString()};if(C&&(x.userAssertionHash=C),p&&(x.refreshOn=p.toString()),x.tokenType?.toLowerCase()!==Le.BEARER.toLowerCase())switch(x.credentialType=xt.ACCESS_TOKEN_WITH_AUTH_SCHEME,x.tokenType){case Le.POP:const T=Si(i,g);if(!T?.cnf?.kid)throw Y(Iw);x.keyId=T.cnf.kid;break;case Le.SSH:x.keyId=S}return x}function Qx(r,t,i,s,c,u,h){const m={credentialType:xt.REFRESH_TOKEN,homeAccountId:r,environment:t,clientId:s,secret:i,lastUpdatedAt:Date.now().toString()};return u&&(m.userAssertionHash=u),c&&(m.familyId=c),h&&(m.expiresOn=h.toString()),m}function zl(r){return r.hasOwnProperty("homeAccountId")&&r.hasOwnProperty("environment")&&r.hasOwnProperty("credentialType")&&r.hasOwnProperty("clientId")&&r.hasOwnProperty("secret")}function Wv(r){return r?zl(r)&&r.hasOwnProperty("realm")&&r.hasOwnProperty("target")&&(r.credentialType===xt.ACCESS_TOKEN||r.credentialType===xt.ACCESS_TOKEN_WITH_AUTH_SCHEME):!1}function Jx(r){return r?zl(r)&&r.hasOwnProperty("realm")&&r.credentialType===xt.ID_TOKEN:!1}function eC(r){return r?zl(r)&&r.credentialType===xt.REFRESH_TOKEN:!1}function Xx(r,t){const i=r.indexOf(sb)===0;let s=!0;return t&&(s=t.hasOwnProperty("failedRequests")&&t.hasOwnProperty("errors")&&t.hasOwnProperty("cacheHits")),i&&s}function $x(r,t){let i=!1;r&&(i=r.indexOf(ob)===0);let s=!0;return t&&(s=t.hasOwnProperty("throttleTime")),i&&s}function Zx({environment:r,clientId:t}){return[pf,r,t].join(rb).toLowerCase()}function Wx(r,t){return t?r.indexOf(pf)===0&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("environment"):!1}function e0(r,t){return t?r.indexOf(Kh)===0&&t.hasOwnProperty("aliases")&&t.hasOwnProperty("preferred_cache")&&t.hasOwnProperty("preferred_network")&&t.hasOwnProperty("canonical_authority")&&t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("aliasesFromNetwork")&&t.hasOwnProperty("endpointsFromNetwork")&&t.hasOwnProperty("expiresAt")&&t.hasOwnProperty("jwks_uri"):!1}function tC(){return Hn()+hT}function $c(r,t,i){r.authorization_endpoint=t.authorization_endpoint,r.token_endpoint=t.token_endpoint,r.end_session_endpoint=t.end_session_endpoint,r.issuer=t.issuer,r.endpointsFromNetwork=i,r.jwks_uri=t.jwks_uri}function wh(r,t,i){r.aliases=t.aliases,r.preferred_cache=t.preferred_cache,r.preferred_network=t.preferred_network,r.aliasesFromNetwork=i}function nC(r){return r.expiresAt<=Hn()}class za{constructor(t,i,s,c,u,h,m){this.clientId=t,this.cacheStorage=i,this.cryptoObj=s,this.logger=c,this.performanceClient=u,this.serializableCache=h,this.persistencePlugin=m}validateTokenResponse(t,i,s){if(t.error||t.error_description||t.suberror){const c=`Error(s): ${t.error_codes||io} - Timestamp: ${t.timestamp||io} - Description: ${t.error_description||io} - Correlation ID: ${t.correlation_id||io} - Trace ID: ${t.trace_id||io}`,u=t.error_codes?.length?t.error_codes[0]:void 0,h=new qa(t.error,c,t.suberror,u,t.status);if(s&&t.status&&t.status>=oT&&t.status<=cT){this.logger.warning("16ks7j",i);return}else if(s&&t.status&&t.status>=rT&&t.status<=sT){this.logger.warning("0g61x3",i);return}throw Bb(t.error,t.error_description,t.suberror)?new wn(t.error,t.error_description,t.suberror,t.timestamp||"",t.trace_id||"",t.correlation_id||"",t.claims||"",u):h}}async handleServerTokenResponse(t,i,s,c,u,h,m,g,p){let v;if(t.id_token){if(v=Si(t.id_token||"",this.cryptoObj.base64Decode),u&&u.nonce&&v.nonce!==u.nonce)throw Y(Tw);if(c.maxAge||c.maxAge===0){const T=v.auth_time;if(!T)throw Y(yb);Ib(T,c.maxAge)}}this.homeAccountIdentifier=Db(t.client_info||"",i.authorityType,this.logger,this.cryptoObj,c.correlationId,v);let C;u&&u.state&&(C=_o(this.cryptoObj.base64Decode,u.state)),t.key_id=t.key_id||c.sshKid||void 0;const S=this.generateCacheRecord(t,i,s,c,v,h,u);let x;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("0jbz5k",c.correlationId),x=new Yx(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(x)),m&&!g&&S.account){const T=this.cacheStorage.generateAccountKey(oa(S.account));if(!this.cacheStorage.getAccount(T,c.correlationId))return this.logger.warning("1gmt66",c.correlationId),await za.generateAuthenticationResult(this.cryptoObj,i,S,!1,c,this.performanceClient,v,C,void 0,p)}await this.cacheStorage.saveCacheRecord(S,c.correlationId,Da(v||{}),c.storeInCache)}finally{this.persistencePlugin&&this.serializableCache&&x&&(this.logger.verbose("1bh17u",c.correlationId),await this.persistencePlugin.afterCacheAccess(x))}return za.generateAuthenticationResult(this.cryptoObj,i,S,!1,c,this.performanceClient,v,C,t,p)}generateCacheRecord(t,i,s,c,u,h,m){const g=i.getPreferredCache();if(!g)throw Y(Cb);const p=Df(u);let v,C;t.id_token&&u&&(v=Hf(this.homeAccountIdentifier,g,t.id_token,this.clientId,p||""),C=Fb(this.cacheStorage,i,this.homeAccountIdentifier,this.cryptoObj.base64Decode,c.correlationId,u,t.client_info,g,p,m,void 0,this.logger));let S=null;if(t.access_token){const N=t.scope?kt.fromString(t.scope):new kt(c.scopes||[]),j=(typeof t.expires_in=="string"?parseInt(t.expires_in,10):t.expires_in)||0,F=(typeof t.ext_expires_in=="string"?parseInt(t.ext_expires_in,10):t.ext_expires_in)||0,H=(typeof t.refresh_in=="string"?parseInt(t.refresh_in,10):t.refresh_in)||void 0,M=s+j,$=M+F,Q=H&&H>0?s+H:void 0;S=Bf(this.homeAccountIdentifier,g,t.access_token,this.clientId,p||i.tenant||"",N.printScopes(),M,$,this.cryptoObj.base64Decode,Q,t.token_type,h,t.key_id)}let x=null;if(t.refresh_token){let N;if(t.refresh_token_expires_in){const j=typeof t.refresh_token_expires_in=="string"?parseInt(t.refresh_token_expires_in,10):t.refresh_token_expires_in;N=s+j,this.performanceClient?.addFields({ntwkRtExpiresOnSeconds:N},c.correlationId)}x=Qx(this.homeAccountIdentifier,g,t.refresh_token,this.clientId,t.foci,h,N)}let T=null;return t.foci&&(T={clientId:this.clientId,environment:g,familyId:t.foci}),{account:C,idToken:v,accessToken:S,refreshToken:x,appMetadata:T}}static async generateAuthenticationResult(t,i,s,c,u,h,m,g,p,v){let C="",S=[],x=null,T,N,j="";if(s.accessToken){if(s.accessToken.tokenType===Le.POP&&!u.popKid){const $=new Jr(t,h),{secret:Q,keyId:ue}=s.accessToken;if(!ue)throw Y(Sb);C=await $.signPopToken(Q,ue,u)}else C=s.accessToken.secret;S=kt.fromString(s.accessToken.target).asArray(),x=al(s.accessToken.expiresOn),T=al(s.accessToken.extendedExpiresOn),s.accessToken.refreshOn&&(N=al(s.accessToken.refreshOn))}s.appMetadata&&(j=s.appMetadata.familyId===ml?ml:"");const F=m?.oid||m?.sub||"",H=m?.tid||"";p?.spa_accountid&&s.account&&(s.account.nativeAccountId=p?.spa_accountid);const M=s.account?kf(oa(s.account),void 0,m,s.idToken?.secret):null;return{authority:i.canonicalAuthority,uniqueId:F,tenantId:H,scopes:S,account:M,idToken:s?.idToken?.secret||"",idTokenClaims:m||{},accessToken:C,fromCache:c,expiresOn:x,extExpiresOn:T,refreshOn:N,correlationId:u.correlationId,requestId:v||"",familyId:j,tokenType:s.accessToken?.tokenType||"",state:g?g.userRequestState:"",cloudGraphHostName:s.account?.cloudGraphHostName||"",msGraphHost:s.account?.msGraphHost||"",code:p?.spa_code,fromPlatformBroker:!1}}}function Fb(r,t,i,s,c,u,h,m,g,p,v,C){C?.verbose("09jz0t",c);const x=r.getAccountKeys().find(H=>H.startsWith(i));let T=null;x&&(T=r.getAccount(x,c));const N=T||ox({homeAccountId:i,idTokenClaims:u,clientInfo:h,environment:m,cloudGraphHostName:p?.cloud_graph_host_name,msGraphHost:p?.msgraph_host,nativeAccountId:v},t,s),j=N.tenantProfiles||[],F=g||N.realm;if(F&&!j.find(H=>H.tenantId===F)){const H=Pl(i,N.localAccountId,F,u);j.push(H)}return N.tenantProfiles=j,N}const Ln={HOME_ACCOUNT_ID:"home_account_id",UPN:"UPN"};async function Gb(r,t,i){return typeof r=="string"?r:r({clientId:t,tokenEndpoint:i})}function Hl(r,t,i){return{clientId:r,authority:t.authority,scopes:t.scopes,homeAccountIdentifier:i,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid,embeddedClientId:t.embeddedClientId||t.extraParameters?.clientId}}class Xn{static generateThrottlingStorageKey(t){return`${ob}.${JSON.stringify(t)}`}static preProcess(t,i,s){const c=Xn.generateThrottlingStorageKey(i),u=t.getThrottlingCache(c,s);if(u){if(u.throttleTime<Date.now()){t.removeItem(c,s);return}throw new qa(u.errorCodes?.join(" ")||"",u.errorMessage,u.subError)}}static postProcess(t,i,s,c){if(Xn.checkResponseStatus(s)||Xn.checkResponseForRetryAfter(s)){const u={throttleTime:Xn.calculateThrottleTime(parseInt(s.headers[Ht.RETRY_AFTER])),error:s.body.error,errorCodes:s.body.error_codes,errorMessage:s.body.error_description,subError:s.body.suberror};t.setThrottlingCache(Xn.generateThrottlingStorageKey(i),u,c)}}static checkResponseStatus(t){return t.status===429||t.status>=500&&t.status<600}static checkResponseForRetryAfter(t){return t.headers?t.headers.hasOwnProperty(Ht.RETRY_AFTER)&&(t.status<200||t.status>=300):!1}static calculateThrottleTime(t){const i=t<=0?0:t,s=Date.now()/1e3;return Math.floor(Math.min(s+(i||vT),s+CT)*1e3)}static removeThrottle(t,i,s,c){const u=Hl(i,s,c),h=this.generateThrottlingStorageKey(u);t.removeItem(h,s.correlationId)}}class Bl extends Ke{constructor(t,i,s){super(t.errorCode,t.errorMessage,t.subError),Object.setPrototypeOf(this,Bl.prototype),this.name="NetworkError",this.error=t,this.httpStatus=i,this.responseHeaders=s}}function lo(r,t,i,s){return r.errorMessage=`${r.errorMessage}, additionalErrorInfo: error.name:${s?.name}, error.message:${s?.message}`,new Bl(r,t,i)}function qb(r,t,i){const s={};if(s[Ht.CONTENT_TYPE]=ZA,!t&&i)switch(i.type){case Ln.HOME_ACCOUNT_ID:try{const c=Gr(i.credential);s[Ht.CCS_HEADER]=`Oid:${c.uid}@${c.utid}`}catch{r.verbose("1qhtee","")}break;case Ln.UPN:s[Ht.CCS_HEADER]=`UPN: ${i.credential}`;break}return s}function Vb(r,t,i,s){const c=new Map;return r.embeddedClientId&&Ul(c,t,i),r.extraQueryParameters&&Zn(c,r.extraQueryParameters),wf(c,r.correlationId),Dl(c,r.correlationId,s),po(c)}async function Yb(r,t,i,s,c,u,h,m,g,p){const v=await t0(s,r,{body:t,headers:i},c,u,h,m,g);return p&&v.status<500&&v.status!==429&&p.clearTelemetryCache(),v}async function t0(r,t,i,s,c,u,h,m){Xn.preProcess(c,r,s);let g;try{g=await z(u.sendPostRequestAsync.bind(u),xx,h,m,s)(t,i);const p=g.headers||{};m?.addFields({refreshTokenSize:g.body.refresh_token?.length||0,httpVerToken:p[Ht.X_MS_HTTP_VERSION]||"",requestId:p[Ht.X_MS_REQUEST_ID]||""},s)}catch(p){if(p instanceof Bl){const v=p.responseHeaders;throw v&&m?.addFields({httpVerToken:v[Ht.X_MS_HTTP_VERSION]||"",requestId:v[Ht.X_MS_REQUEST_ID]||"",contentTypeHeader:v[Ht.CONTENT_TYPE]||void 0,contentLengthHeader:v[Ht.CONTENT_LENGTH]||void 0,httpStatus:p.httpStatus},s),p.error}throw p instanceof Ke?p:Y(Sw)}return Xn.postProcess(c,r,g,s),g}function n0(r){return r.hasOwnProperty("authorization_endpoint")&&r.hasOwnProperty("token_endpoint")&&r.hasOwnProperty("issuer")&&r.hasOwnProperty("jwks_uri")}function i0(r){return r.hasOwnProperty("tenant_discovery_endpoint")&&r.hasOwnProperty("metadata")}function a0(r){return r.hasOwnProperty("error")&&r.hasOwnProperty("error_description")}class Kl{constructor(t,i,s,c){this.networkInterface=t,this.logger=i,this.performanceClient=s,this.correlationId=c}async detectRegion(t,i){let s=t;if(s)i.region_source=zr.ENVIRONMENT_VARIABLE;else{const c=Kl.IMDS_OPTIONS;try{const u=await z(this.getRegionFromIMDS.bind(this),Zv,this.logger,this.performanceClient,this.correlationId)(WA,c);if(u.status===Iv&&(s=u.body,i.region_source=zr.IMDS),u.status===kv){const h=await z(this.getCurrentVersion.bind(this),Fx,this.logger,this.performanceClient,this.correlationId)(c);if(!h)return i.region_source=zr.FAILED_AUTO_DETECTION,null;const m=await z(this.getRegionFromIMDS.bind(this),Zv,this.logger,this.performanceClient,this.correlationId)(h,c);m.status===Iv&&(s=m.body,i.region_source=zr.IMDS)}}catch{return i.region_source=zr.FAILED_AUTO_DETECTION,null}}return s||(i.region_source=zr.FAILED_AUTO_DETECTION),s||null}async getRegionFromIMDS(t,i){return this.networkInterface.sendGetRequestAsync(`${jv}?api-version=${t}&format=text`,i,eT)}async getCurrentVersion(t){try{const i=await this.networkInterface.sendGetRequestAsync(`${jv}?format=json`,t);return i.status===kv&&i.body&&i.body["newest-versions"]&&i.body["newest-versions"].length>0?i.body["newest-versions"][0]:null}catch{return null}}}Kl.IMDS_OPTIONS={headers:{Metadata:"true"}};class Jt{constructor(t,i,s,c,u,h,m,g){this.canonicalAuthority=t,this._canonicalAuthority.validateAsUri(),this.networkInterface=i,this.cacheManager=s,this.authorityOptions=c,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=u,this.performanceClient=m,this.correlationId=h,this.managedIdentity=g||!1,this.regionDiscovery=new Kl(i,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(t){if(t.HostNameAndPort.endsWith(Rv))return Dn.Ciam;const i=t.PathSegments;if(i.length)switch(i[0].toLowerCase()){case YA:return Dn.Adfs;case QA:return Dn.Dsts}return Dn.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(t){this._canonicalAuthority=new ke(t),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw Y(Wi)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw Y(Wi)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw Y(Wi)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw Y(Dw);return this.replacePath(this.metadata.end_session_endpoint)}else throw Y(Wi)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw Y(Wi)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw Y(Wi)}canReplaceTenant(t){return t.PathSegments.length===1&&!Jt.reservedTenantDomains.has(t.PathSegments[0])&&this.getAuthorityType(t)===Dn.Default&&this.protocolMode!==Zt.OIDC}replaceTenant(t){return t.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(t){let i=t;const c=new ke(this.metadata.canonical_authority).getUrlComponents(),u=c.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((m,g)=>{let p=u[g];if(g===0&&this.canReplaceTenant(c)){const v=new ke(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];p!==v&&(this.logger.verbose("1q3g2x",this.correlationId),p=v)}m!==p&&(i=i.replace(`/${p}/`,`/${m}/`))}),this.replaceTenant(i)}get defaultOpenIdConfigurationEndpoint(){const t=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===Dn.Adfs||this.protocolMode===Zt.OIDC&&!this.isAliasOfKnownMicrosoftAuthority(t)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){const t=this.getCurrentMetadataEntity(),i=await z(this.updateCloudDiscoveryMetadata.bind(this),zx,this.logger,this.performanceClient,this.correlationId)(t);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,t.preferred_network);const s=await z(this.updateEndpointMetadata.bind(this),Bx,this.logger,this.performanceClient,this.correlationId)(t);this.updateCachedMetadata(t,i,{source:s}),this.performanceClient?.addFields({cloudDiscoverySource:i,authorityEndpointSource:s},this.correlationId)}getCurrentMetadataEntity(){let t=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort,this.correlationId);return t||(t={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:tC(),jwks_uri:""}),t}updateCachedMetadata(t,i,s){i!==kn.CACHE&&s?.source!==kn.CACHE&&(t.expiresAt=tC(),t.canonical_authority=this.canonicalAuthority);const c=this.cacheManager.generateAuthorityMetadataCacheKey(t.preferred_cache,this.correlationId);this.cacheManager.setAuthorityMetadata(c,t,this.correlationId),this.metadata=t}async updateEndpointMetadata(t){const i=this.updateEndpointMetadataFromLocalSources(t);if(i){if(i.source===kn.HARDCODED_VALUES&&this.authorityOptions.azureRegionConfiguration?.azureRegion&&i.metadata){const c=await z(this.updateMetadataWithRegionalInformation.bind(this),$v,this.logger,this.performanceClient,this.correlationId)(i.metadata);$c(t,c,!1),t.canonical_authority=this.canonicalAuthority}return i.source}let s=await z(this.getEndpointMetadataFromNetwork.bind(this),Hx,this.logger,this.performanceClient,this.correlationId)();if(s)return this.authorityOptions.azureRegionConfiguration?.azureRegion&&(s=await z(this.updateMetadataWithRegionalInformation.bind(this),$v,this.logger,this.performanceClient,this.correlationId)(s)),$c(t,s,!0),kn.NETWORK;throw Y(_w,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(t){this.logger.verbose("1fi0kc",this.correlationId);const i=this.getEndpointMetadataFromConfig();if(i)return this.logger.verbose("06t0uj",this.correlationId),$c(t,i,!1),{source:kn.CONFIG};this.logger.verbose("151k0p",this.correlationId);const s=this.getEndpointMetadataFromHardcodedValues();if(s)return $c(t,s,!1),{source:kn.HARDCODED_VALUES,metadata:s};this.logger.verbose("1imop5",this.correlationId);const c=nC(t);return this.isAuthoritySameType(t)&&t.endpointsFromNetwork&&!c?(this.logger.verbose("16uq31",""),{source:kn.CACHE}):(c&&this.logger.verbose("0uoibc",""),null)}isAuthoritySameType(t){return new ke(t.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw Ge(hw)}return null}async getEndpointMetadataFromNetwork(){const t={},i=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose("1y65x6",this.correlationId);try{const s=await this.networkInterface.sendGetRequestAsync(i,t);return n0(s.body)?s.body:(this.logger.verbose("1koyv8",this.correlationId),null)}catch{return this.logger.verbose("0a9wik",this.correlationId),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in Vv?Vv[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(t){const i=this.authorityOptions.azureRegionConfiguration?.azureRegion;if(i){if(i!==tT)return this.regionDiscoveryMetadata.region_outcome=Ah.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=i,Jt.replaceWithRegionalInformation(t,i);const s=await z(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),Kx,this.logger,this.performanceClient,this.correlationId)(this.authorityOptions.azureRegionConfiguration?.environmentRegion,this.regionDiscoveryMetadata);if(s)return this.regionDiscoveryMetadata.region_outcome=Ah.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=s,Jt.replaceWithRegionalInformation(t,s);this.regionDiscoveryMetadata.region_outcome=Ah.AUTO_DETECTION_REQUESTED_FAILED}return t}async updateCloudDiscoveryMetadata(t){const i=this.updateCloudDiscoveryMetadataFromLocalSources(t);if(i)return i;const s=await z(this.getCloudDiscoveryMetadataFromNetwork.bind(this),Px,this.logger,this.performanceClient,this.correlationId)();if(s)return wh(t,s,!0),kn.NETWORK;throw Ge(fw)}updateCloudDiscoveryMetadataFromLocalSources(t){this.logger.verbose("0jhlgt",this.correlationId),this.logger.verbosePii("1fy7uz",this.correlationId),this.logger.verbosePii("08zabj",this.correlationId),this.logger.verbosePii("1o1kv3",this.correlationId);const i=this.getCloudDiscoveryMetadataFromConfig();if(i)return this.logger.verbose("1nakio",this.correlationId),wh(t,i,!1),kn.CONFIG;this.logger.verbose("1x74aj",this.correlationId);const s=rx(this.hostnameAndPort);if(s)return this.logger.verbose("0by47c",this.correlationId),wh(t,s,!1),kn.HARDCODED_VALUES;this.logger.verbose("0r2fzy",this.correlationId);const c=nC(t);return this.isAuthoritySameType(t)&&t.aliasesFromNetwork&&!c?(this.logger.verbose("1uffgh",""),kn.CACHE):(c&&this.logger.verbose("0uoibc",""),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===Dn.Ciam)return this.logger.verbose("04y84h",this.correlationId),Jt.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("0gszr3",this.correlationId);try{this.logger.verbose("1iifkx",this.correlationId);const t=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),i=bl(t.metadata,this.hostnameAndPort);if(this.logger.verbose("0q67e3",""),i)return this.logger.verbose("0hzfao",this.correlationId),i;this.logger.verbose("1ajz3u",this.correlationId)}catch{throw this.logger.verbose("1wq5tu",this.correlationId),Ge(mb)}}return this.isInKnownAuthorities()?(this.logger.verbose("0mt9al",this.correlationId),Jt.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){const t=`${JA}${this.canonicalAuthority}oauth2/v2.0/authorize`,i={};let s=null;try{const c=await this.networkInterface.sendGetRequestAsync(t,i);let u,h;if(i0(c.body))u=c.body,h=u.metadata,this.logger.verbosePii("1vglyt",this.correlationId);else if(a0(c.body)){if(this.logger.warning("062uto",this.correlationId),u=c.body,u.error===aT)return this.logger.error("1x90tm",this.correlationId),null;this.logger.warning("0wchdm",this.correlationId),this.logger.warning("1s5mpv",this.correlationId),this.logger.warning("1yhqpw",this.correlationId),h=[]}else return this.logger.error("0768g0",this.correlationId),null;this.logger.verbose("1lrobr",this.correlationId),s=bl(h,this.hostnameAndPort)}catch(c){return c instanceof Ke?this.logger.error("0vwhc7",this.correlationId):this.logger.error("0s2z41",this.correlationId),null}return s||(this.logger.warning("0jp28q",this.correlationId),this.logger.verbose("130sd8",this.correlationId),s=Jt.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),s}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(i=>i&&ke.getDomainFromUrl(i).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(t,i){let s;if(i&&i.azureCloudInstance!==If.None){const c=i.tenant?i.tenant:eb;s=`${i.azureCloudInstance}/${c}/`}return s||t}static createCloudDiscoveryMetadataFromHost(t){return{preferred_network:t,preferred_cache:t,aliases:[t]}}getPreferredCache(){if(this.managedIdentity)return VA;if(this.discoveryComplete())return this.metadata.preferred_cache;throw Y(Wi)}isAlias(t){return this.metadata.aliases.indexOf(t)>-1}isAliasOfKnownMicrosoftAuthority(t){return Mb.has(t)}static isPublicCloudAuthority(t){return iT.indexOf(t)>=0}static buildRegionalAuthorityString(t,i,s){const c=new ke(t);c.validateAsUri();const u=c.getUrlComponents();let h=`${i}.${u.HostNameAndPort}`;this.isPublicCloudAuthority(u.HostNameAndPort)&&(h=`${i}.${nT}`);const m=ke.constructAuthorityUriFromObject({...c.getUrlComponents(),HostNameAndPort:h}).urlString;return s?`${m}?${s}`:m}static replaceWithRegionalInformation(t,i){const s={...t};return s.authorization_endpoint=Jt.buildRegionalAuthorityString(s.authorization_endpoint,i),s.token_endpoint=Jt.buildRegionalAuthorityString(s.token_endpoint,i),s.end_session_endpoint&&(s.end_session_endpoint=Jt.buildRegionalAuthorityString(s.end_session_endpoint,i)),s}static transformCIAMAuthority(t){let i=t;const c=new ke(t).getUrlComponents();if(c.PathSegments.length===0&&c.HostNameAndPort.endsWith(Rv)){const u=c.HostNameAndPort.split(".")[0];i=`${i}${u}${XA}`}return i}}Jt.reservedTenantDomains=new Set(["{tenant}","{tenantid}",aa.COMMON,aa.CONSUMERS,aa.ORGANIZATIONS]);function r0(r){const s=new ke(r).getUrlComponents().PathSegments.slice(-1)[0]?.toLowerCase();switch(s){case aa.COMMON:case aa.ORGANIZATIONS:case aa.CONSUMERS:return;default:return s}}function Qb(r){return r.endsWith(Hh)?r:`${r}${Hh}`}function s0(r){const t=r.cloudDiscoveryMetadata;let i;if(t)try{i=JSON.parse(t)}catch{throw Ge(mb)}return{canonicalAuthority:r.authority?Qb(r.authority):void 0,knownAuthorities:r.knownAuthorities,cloudDiscoveryMetadata:i}}async function Jb(r,t,i,s,c,u,h){const m=Jt.transformCIAMAuthority(Qb(r)),g=new Jt(m,t,i,s,c,u,h);try{return await z(g.resolveEndpointsAsync.bind(g),Lx,c,h,u)(),g}catch{throw Y(Wi)}}class Xb{constructor(t,i){this.includeRedirectUri=!0,this.config=Uf(t),this.logger=new zn(this.config.loggerOptions,Ll,So),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=i,this.oidcDefaultScopes=this.config.authOptions.authority.options.OIDCOptions?.defaultScopes}async acquireToken(t,i){if(!t.code)throw Y(Nw);i&&i.cloud_instance_host_name&&await z(this.updateTokenEndpointAuthority.bind(this),Ux,this.logger,this.performanceClient,t.correlationId)(i.cloud_instance_host_name,t.correlationId);const s=Hn(),c=await z(this.executeTokenRequest.bind(this),Mx,this.logger,this.performanceClient,t.correlationId)(this.authority,t,this.serverTelemetryManager),u=c.headers?.[Ht.X_MS_REQUEST_ID],h=new za(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.performanceClient,this.config.serializableCache,this.config.persistencePlugin);return h.validateTokenResponse(c.body,t.correlationId),z(h.handleServerTokenResponse.bind(h),zf,this.logger,this.performanceClient,t.correlationId)(c.body,this.authority,s,t,i,void 0,void 0,void 0,u)}getLogoutUri(t){if(!t)throw Ge(dw);const i=this.createLogoutUrlQueryString(t);return ke.appendQueryString(this.authority.endSessionEndpoint,i)}async executeTokenRequest(t,i,s){const c=Vb(i,this.config.authOptions.clientId,this.config.authOptions.redirectUri,this.performanceClient),u=ke.appendQueryString(t.tokenEndpoint,c),h=await z(this.createTokenRequestBody.bind(this),Dx,this.logger,this.performanceClient,i.correlationId)(i);let m;if(i.clientInfo)try{const v=Sl(i.clientInfo,this.cryptoUtils.base64Decode);m={credential:`${v.uid}${Bh}${v.utid}`,type:Ln.HOME_ACCOUNT_ID}}catch{this.logger.verbose("0wznt3",i.correlationId)}const g=qb(this.logger,this.config.systemOptions.preventCorsPreflight,m||i.ccsCredential),p=Hl(this.config.authOptions.clientId,i);return z(Yb,Rx,this.logger,this.performanceClient,i.correlationId)(u,h,g,p,i.correlationId,this.cacheManager,this.networkClient,this.logger,this.performanceClient,s)}async createTokenRequestBody(t){const i=new Map;if(Ef(i,t.embeddedClientId||t.extraParameters?.[Pa]||this.config.authOptions.clientId),this.includeRedirectUri)Af(i,t.redirectUri);else if(!t.redirectUri)throw Ge(sw);if(_f(i,t.scopes,!0,this.oidcDefaultScopes),Fw(i,t.code),xf(i,this.config.libraryInfo),Nf(i,this.config.telemetry.application),jb(i),this.serverTelemetryManager&&!Pb(this.config)&&Rb(i,this.serverTelemetryManager),t.codeVerifier&&qw(i,t.codeVerifier),this.config.clientCredentials.clientSecret&&Eb(i,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const c=this.config.clientCredentials.clientAssertion;Ab(i,await Gb(c.assertion,this.config.authOptions.clientId,t.resourceRequestUri)),Tb(i,c.assertionType)}if(wb(i,ib.AUTHORIZATION_CODE_GRANT),jf(i),t.authenticationScheme===Le.POP){const c=new Jr(this.cryptoUtils,this.performanceClient);let u;t.popKid?u=this.cryptoUtils.encodeKid(t.popKid):u=(await z(c.generateCnf.bind(c),Eo,this.logger,this.performanceClient,t.correlationId)(t,this.logger)).reqCnfString,Of(i,u)}else if(t.authenticationScheme===Le.SSH)if(t.sshJwk)Nb(i,t.sshJwk);else throw Ge(bf);(!An.isEmptyObj(t.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&Tf(i,t.claims,this.config.authOptions.clientCapabilities);let s;if(t.clientInfo)try{const c=Sl(t.clientInfo,this.cryptoUtils.base64Decode);s={credential:`${c.uid}${Bh}${c.utid}`,type:Ln.HOME_ACCOUNT_ID}}catch{this.logger.verbose("0wznt3",t.correlationId)}else s=t.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&s)switch(s.type){case Ln.HOME_ACCOUNT_ID:try{const c=Gr(s.credential);uo(i,c)}catch{this.logger.verbose("1qhtee",t.correlationId)}break;case Ln.UPN:yl(i,s.credential);break}return t.embeddedClientId&&Ul(i,this.config.authOptions.clientId,this.config.authOptions.redirectUri),t.extraParameters&&Zn(i,t.extraParameters),t.enableSpaAuthorizationCode&&(!t.extraParameters||!t.extraParameters[Pv])&&Zn(i,{[Pv]:"1"}),Dl(i,t.correlationId,this.performanceClient),po(i)}createLogoutUrlQueryString(t){const i=new Map;return t.postLogoutRedirectUri&&Pw(i,t.postLogoutRedirectUri),t.correlationId&&wf(i,t.correlationId),t.idTokenHint&&zw(i,t.idTokenHint),t.state&&_b(i,t.state),t.logoutHint&&Yw(i,t.logoutHint),t.extraQueryParameters&&Zn(i,t.extraQueryParameters),this.config.authOptions.instanceAware&&xb(i),po(i)}async updateTokenEndpointAuthority(t,i){const s=`https://${t}/${this.authority.tenant}/`,c=await Jb(s,this.networkClient,this.cacheManager,this.authority.options,this.logger,i,this.performanceClient);this.authority=c}}const o0=300;class c0{constructor(t,i){this.config=Uf(t),this.logger=new zn(this.config.loggerOptions,Ll,So),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=i}async acquireToken(t){const i=Hn(),s=await z(this.executeTokenRequest.bind(this),jx,this.logger,this.performanceClient,t.correlationId)(t,this.authority),c=s.headers?.[Ht.X_MS_REQUEST_ID],u=new za(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.performanceClient,this.config.serializableCache,this.config.persistencePlugin);return u.validateTokenResponse(s.body,t.correlationId),z(u.handleServerTokenResponse.bind(u),zf,this.logger,this.performanceClient,t.correlationId)(s.body,this.authority,i,t,void 0,void 0,!0,t.forceCache,c)}async acquireTokenByRefreshToken(t){if(!t)throw Ge(uw);if(!t.account)throw Y(vb);if(this.cacheManager.isAppMetadataFOCI(t.account.environment,t.correlationId))try{return await z(this.acquireTokenWithCachedRefreshToken.bind(this),Th,this.logger,this.performanceClient,t.correlationId)(t,!0)}catch(s){const c=s instanceof wn&&s.errorCode===Qh,u=s instanceof qa&&s.errorCode===ST&&s.subError===_T;if(c||u)return z(this.acquireTokenWithCachedRefreshToken.bind(this),Th,this.logger,this.performanceClient,t.correlationId)(t,!1);throw s}return z(this.acquireTokenWithCachedRefreshToken.bind(this),Th,this.logger,this.performanceClient,t.correlationId)(t,!1)}async acquireTokenWithCachedRefreshToken(t,i){const s=Pn(this.cacheManager.getRefreshToken.bind(this.cacheManager),Gx,this.logger,this.performanceClient,t.correlationId)(t.account,i,t.correlationId,void 0);if(!s)throw _l(Qh);if(s.expiresOn){const u=t.refreshTokenExpirationOffsetSeconds||o0;if(this.performanceClient?.addFields({cacheRtExpiresOnSeconds:Number(s.expiresOn),rtOffsetSeconds:u},t.correlationId),El(s.expiresOn,u))throw _l(zb)}const c={...t,refreshToken:s.secret,authenticationScheme:t.authenticationScheme||Le.BEARER,ccsCredential:{credential:t.account.homeAccountId,type:Ln.HOME_ACCOUNT_ID}};try{return await z(this.acquireToken.bind(this),Ox,this.logger,this.performanceClient,t.correlationId)(c)}catch(u){if(u instanceof wn&&u.subError===Lf){this.logger.verbose("1pg3ap",t.correlationId);const h=this.cacheManager.generateCredentialKey(s);this.cacheManager.removeRefreshToken(h,t.correlationId)}throw u}}async executeTokenRequest(t,i){const s=Vb(t,this.config.authOptions.clientId,this.config.authOptions.redirectUri,this.performanceClient),c=ke.appendQueryString(i.tokenEndpoint,s),u=await z(this.createTokenRequestBody.bind(this),Ix,this.logger,this.performanceClient,t.correlationId)(t),h=qb(this.logger,this.config.systemOptions.preventCorsPreflight,t.ccsCredential),m=Hl(this.config.authOptions.clientId,t);return z(Yb,Nx,this.logger,this.performanceClient,t.correlationId)(c,u,h,m,t.correlationId,this.cacheManager,this.networkClient,this.logger,this.performanceClient,this.serverTelemetryManager)}async createTokenRequestBody(t){const i=new Map;if(Ef(i,t.embeddedClientId||t.extraParameters?.[Pa]||this.config.authOptions.clientId),t.redirectUri&&Af(i,t.redirectUri),_f(i,t.scopes,!0,this.config.authOptions.authority.options.OIDCOptions?.defaultScopes),wb(i,ib.REFRESH_TOKEN_GRANT),jf(i),xf(i,this.config.libraryInfo),Nf(i,this.config.telemetry.application),jb(i),this.serverTelemetryManager&&!Pb(this.config)&&Rb(i,this.serverTelemetryManager),Gw(i,t.refreshToken),this.config.clientCredentials.clientSecret&&Eb(i,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const s=this.config.clientCredentials.clientAssertion;Ab(i,await Gb(s.assertion,this.config.authOptions.clientId,t.resourceRequestUri)),Tb(i,s.assertionType)}if(t.authenticationScheme===Le.POP){const s=new Jr(this.cryptoUtils,this.performanceClient);let c;t.popKid?c=this.cryptoUtils.encodeKid(t.popKid):c=(await z(s.generateCnf.bind(s),Eo,this.logger,this.performanceClient,t.correlationId)(t,this.logger)).reqCnfString,Of(i,c)}else if(t.authenticationScheme===Le.SSH)if(t.sshJwk)Nb(i,t.sshJwk);else throw Ge(bf);if((!An.isEmptyObj(t.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&Tf(i,t.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&t.ccsCredential)switch(t.ccsCredential.type){case Ln.HOME_ACCOUNT_ID:try{const s=Gr(t.ccsCredential.credential);uo(i,s)}catch{this.logger.verbose("1qhtee",t.correlationId)}break;case Ln.UPN:yl(i,t.ccsCredential.credential);break}return t.embeddedClientId&&Ul(i,this.config.authOptions.clientId,this.config.authOptions.redirectUri),t.extraParameters&&Zn(i,{...t.extraParameters}),Dl(i,t.correlationId,this.performanceClient),po(i)}}class l0{constructor(t,i){this.config=Uf(t),this.logger=new zn(this.config.loggerOptions,Ll,So),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=i}async acquireCachedToken(t){let i=ja.NOT_APPLICABLE;if(t.forceRefresh||!An.isEmptyObj(t.claims))throw this.setCacheOutcome(ja.FORCE_REFRESH_OR_CLAIMS,t.correlationId),Y(Ma);if(!t.account)throw Y(vb);const s=t.account.tenantId||r0(t.authority),c=this.cacheManager.getTokenKeys(),u=this.cacheManager.getAccessToken(t.account,t,c,s);if(u){if(wx(u.cachedAt)||El(u.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(ja.CACHED_ACCESS_TOKEN_EXPIRED,t.correlationId),Y(Ma);u.refreshOn&&El(u.refreshOn,0)&&(i=ja.PROACTIVELY_REFRESHED)}else throw this.setCacheOutcome(ja.NO_CACHED_ACCESS_TOKEN,t.correlationId),Y(Ma);const h=t.authority||this.authority.getPreferredCache(),m={account:this.cacheManager.getAccount(this.cacheManager.generateAccountKey(t.account),t.correlationId),accessToken:u,idToken:this.cacheManager.getIdToken(t.account,t.correlationId,c,s),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(h,t.correlationId)};return this.setCacheOutcome(i,t.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await z(this.generateResultFromCacheRecord.bind(this),kx,this.logger,this.performanceClient,t.correlationId)(m,t),i]}setCacheOutcome(t,i){this.serverTelemetryManager?.setCacheOutcome(t),this.performanceClient?.addFields({cacheOutcome:t},i),t!==ja.NOT_APPLICABLE&&this.logger.info("09ingz",i)}async generateResultFromCacheRecord(t,i){let s;if(t.idToken&&(s=Si(t.idToken.secret,this.config.cryptoInterface.base64Decode)),i.maxAge||i.maxAge===0){const c=s?.auth_time;if(!c)throw Y(yb);Ib(c,i.maxAge)}return za.generateAuthenticationResult(this.cryptoUtils,this.authority,t,!0,i,this.performanceClient,s)}}const u0={sendGetRequestAsync:()=>Promise.reject(Y(Ce)),sendPostRequestAsync:()=>Promise.reject(Y(Ce))};function d0(r,t,i,s){const c=t.correlationId,u=new Map;Ef(u,t.embeddedClientId||t.extraQueryParameters?.[Pa]||r.clientId);const h=[...t.scopes||[],...t.extraScopesToConsent||[]];if(_f(u,h,!0,r.authority.options.OIDCOptions?.defaultScopes),Af(u,t.redirectUri),wf(u,c),Uw(u,t.responseMode),jf(u),t.prompt&&(Bw(u,t.prompt),s?.addFields({prompt:t.prompt},c)),t.domainHint&&(Hw(u,t.domainHint),s?.addFields({domainHintFromRequest:!0},c)),t.prompt!==Xt.SELECT_ACCOUNT)if(t.sid&&t.prompt===Xt.NONE)i.verbose("1tvqyx",t.correlationId),Kv(u,t.sid),s?.addFields({sidFromRequest:!0},c);else if(t.account){const m=m0(t.account);let g=g0(t.account);if(g&&t.domainHint&&(i.warning("0wkg3v",t.correlationId),g=null),g){i.verbose("1eyfsw",t.correlationId),Xc(u,g),s?.addFields({loginHintFromClaim:!0},c);try{const p=Gr(t.account.homeAccountId);uo(u,p)}catch{i.verbose("12ugck",t.correlationId)}}else if(m&&t.prompt===Xt.NONE){i.verbose("1rmd8s",t.correlationId),Kv(u,m),s?.addFields({sidFromClaim:!0},c);try{const p=Gr(t.account.homeAccountId);uo(u,p)}catch{i.verbose("12ugck",t.correlationId)}}else if(t.loginHint)i.verbose("0y3007",t.correlationId),Xc(u,t.loginHint),yl(u,t.loginHint),s?.addFields({loginHintFromRequest:!0},c);else if(t.account.username){i.verbose("02f507",t.correlationId),Xc(u,t.account.username),s?.addFields({loginHintFromUpn:!0},c);try{const p=Gr(t.account.homeAccountId);uo(u,p)}catch{i.verbose("12ugck",t.correlationId)}}}else t.loginHint&&(i.verbose("0g01ey",t.correlationId),Xc(u,t.loginHint),yl(u,t.loginHint),s?.addFields({loginHintFromRequest:!0},c));else i.verbose("169k9v",t.correlationId);return t.nonce&&Kw(u,t.nonce),t.state&&_b(u,t.state),(t.claims||r.clientCapabilities&&r.clientCapabilities.length>0)&&Tf(u,t.claims,r.clientCapabilities),t.embeddedClientId&&Ul(u,r.clientId,r.redirectUri),r.instanceAware&&(!t.extraQueryParameters||!Object.keys(t.extraQueryParameters).includes(Fh))&&xb(u),u}function Kf(r,t){const i=po(t);return ke.appendQueryString(r.authorizationEndpoint,i)}function h0(r,t){if($b(r,t),!r.code)throw Y(kw);return r}function $b(r,t){if(!r.state||!t)throw r.state?Y(zv,"Cached State"):Y(zv,"Server State");let i,s;try{i=decodeURIComponent(r.state)}catch{throw Y(go,r.state)}try{s=decodeURIComponent(t)}catch{throw Y(go,r.state)}if(i!==s)throw Y(Aw);if(r.error||r.error_description||r.suberror){const c=f0(r);throw Bb(r.error,r.error_description,r.suberror)?new wn(r.error||"",r.error_description,r.suberror,r.timestamp||"",r.trace_id||"",r.correlation_id||"",r.claims||"",c):new qa(r.error||"",r.error_description,r.suberror,c)}}function f0(r){const t="code=",i=r.error_uri?.lastIndexOf(t);return i&&i>=0?r.error_uri?.substring(i+t.length):void 0}function m0(r){return r.idTokenClaims?.sid||null}function g0(r){return r.loginHint||r.idTokenClaims?.login_hint||null}const Jh="unexpected_error";const iC=",",Zb="|";function p0(r){const{skus:t,libraryName:i,libraryVersion:s,extensionName:c,extensionVersion:u}=r,h=new Map([[0,[i,s]],[2,[c,u]]]);let m=[];if(t?.length){if(m=t.split(iC),m.length<4)return t}else m=Array.from({length:4},()=>Zb);return h.forEach((g,p)=>{g.length===2&&g[0]?.length&&g[1]?.length&&y0({skuArr:m,index:p,skuName:g[0],skuVersion:g[1]})}),m.join(iC)}function y0(r){const{skuArr:t,index:i,skuName:s,skuVersion:c}=r;i>=t.length||(t[i]=[s,c].join(Zb))}class yo{constructor(t,i){this.cacheOutcome=ja.NOT_APPLICABLE,this.cacheManager=i,this.apiId=t.apiId,this.correlationId=t.correlationId,this.wrapperSKU=t.wrapperSKU||"",this.wrapperVer=t.wrapperVer||"",this.telemetryCacheKey=sb+rb+t.clientId}generateCurrentRequestHeaderValue(){const t=`${this.apiId}${Pr}${this.cacheOutcome}`,i=[this.wrapperSKU,this.wrapperVer],s=this.getNativeBrokerErrorCode();s?.length&&i.push(`broker_error=${s}`);const c=i.join(Pr),u=this.getRegionDiscoveryFields(),h=[t,u].join(Pr);return[Uv,h,c].join(Lv)}generateLastRequestHeaderValue(){const t=this.getLastRequests(),i=yo.maxErrorsToSend(t),s=t.failedRequests.slice(0,2*i).join(Pr),c=t.errors.slice(0,i).join(Pr),u=t.errors.length,h=i<u?gT:pT,m=[u,h].join(Pr);return[Uv,t.cacheHits,s,c,m].join(Lv)}cacheFailedRequest(t){const i=this.getLastRequests();i.errors.length>=mT&&(i.failedRequests.shift(),i.failedRequests.shift(),i.errors.shift()),i.failedRequests.push(this.apiId,this.correlationId),t instanceof Error&&t&&t.toString()?t instanceof Ke?t.subError?i.errors.push(t.subError):t.errorCode?i.errors.push(t.errorCode):i.errors.push(t.toString()):i.errors.push(t.toString()):i.errors.push(yT),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,i,this.correlationId)}incrementCacheHits(){const t=this.getLastRequests();return t.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t,this.correlationId),t.cacheHits}getLastRequests(){const t={failedRequests:[],errors:[],cacheHits:0};return this.cacheManager.getServerTelemetry(this.telemetryCacheKey,this.correlationId)||t}clearTelemetryCache(){const t=this.getLastRequests(),i=yo.maxErrorsToSend(t),s=t.errors.length;if(i===s)this.cacheManager.removeItem(this.telemetryCacheKey,this.correlationId);else{const c={failedRequests:t.failedRequests.slice(i*2),errors:t.errors.slice(i),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,c,this.correlationId)}}static maxErrorsToSend(t){let i,s=0,c=0;const u=t.errors.length;for(i=0;i<u;i++){const h=t.failedRequests[2*i]||"",m=t.failedRequests[2*i+1]||"",g=t.errors[i]||"";if(c+=h.toString().length+m.toString().length+g.length+3,c<fT)s+=1;else break}return s}getRegionDiscoveryFields(){const t=[];return t.push(this.regionUsed||""),t.push(this.regionSource||""),t.push(this.regionOutcome||""),t.join(",")}updateRegionDiscoveryMetadata(t){this.regionUsed=t.region_used,this.regionSource=t.region_source,this.regionOutcome=t.region_outcome}setCacheOutcome(t){this.cacheOutcome=t}setNativeBrokerErrorCode(t){const i=this.getLastRequests();i.nativeBrokerErrorCode=t,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,i,this.correlationId)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){const t=this.getLastRequests();delete t.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t,this.correlationId)}static makeExtraSkuString(t){return p0(t)}}class Ff extends Ke{constructor(t,i){super(t,i),this.name="JoseHeaderError",Object.setPrototypeOf(this,Ff.prototype)}}function aC(r){return new Ff(r)}const v0="missing_kid_error",C0="missing_alg_error";class Gf{constructor(t){this.typ=t.typ,this.alg=t.alg,this.kid=t.kid}static getShrHeaderString(t){if(!t.kid)throw aC(v0);if(!t.alg)throw aC(C0);const i=new Gf({typ:t.typ||ET.Pop,kid:t.kid,alg:t.alg});return JSON.stringify(i)}}function Fl(r){return`See https://aka.ms/msal.js.errors#${r} for details`}class Ao extends Ke{constructor(t,i){super(t,Fl(t),i),Object.setPrototypeOf(this,Ao.prototype),this.name="BrowserAuthError"}}function Z(r,t){return new Ao(r,t)}const _n={INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",MSAL_SKU:"msal.js.browser"},En={CHANNEL_ID:"53ee284d-920a-4b59-9d30-a60315b26836",PREFERRED_EXTENSION_ID:"ppnbnpeolgkicgegkbkbjmhlideopiji",MATS_TELEMETRY:"MATS",MICROSOFT_ENTRA_BROKERID:"MicrosoftEntra",DOM_API_NAME:"DOM API",PLATFORM_DOM_APIS:"get-token-and-sign-out",PLATFORM_DOM_PROVIDER:"PlatformAuthDOMHandler",PLATFORM_EXTENSION_PROVIDER:"PlatformAuthExtensionHandler"},ao={HandshakeRequest:"Handshake",HandshakeResponse:"HandshakeResponse",GetToken:"GetToken",Response:"Response"},Tn={LocalStorage:"localStorage",SessionStorage:"sessionStorage",MemoryStorage:"memoryStorage"},rC={GET:"GET",POST:"POST"},ta={SIGNIN:"signin",SIGNOUT:"signout"},gt={ORIGIN_URI:"request.origin",URL_HASH:"urlHash",REQUEST_PARAMS:"request.params",VERIFIER:"code.verifier",INTERACTION_STATUS_KEY:"interaction.status",NATIVE_REQUEST:"request.native"},Zc={WRAPPER_SKU:"wrapper.sku",WRAPPER_VER:"wrapper.version"},Me={acquireTokenRedirect:861,acquireTokenPopup:862,ssoSilent:863,acquireTokenSilent_authCode:864,handleRedirectPromise:865,acquireTokenByCode:866,acquireTokenSilent_silentFlow:61,logout:961,logoutPopup:962};var le;(function(r){r.Redirect="redirect",r.Popup="popup",r.Silent="silent",r.None="none"})(le||(le={}));const bt={Startup:"startup",Logout:"logout",AcquireToken:"acquireToken",HandleRedirect:"handleRedirect",None:"none"},sC={scopes:Zr},Wb="jwk",b0={React:"@azure/msal-react"},Xh="msal.db",S0=1,_0=`${Xh}.keys`,zt={Default:0,AccessToken:1,AccessTokenAndRefreshToken:2,RefreshToken:3,RefreshTokenAndNetwork:4,Skip:5},E0=[zt.Default,zt.Skip,zt.RefreshTokenAndNetwork];function Wc(r){return encodeURIComponent(vo(r).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function ca(r){return eS(r).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function vo(r){return eS(new TextEncoder().encode(r))}function eS(r){const t=Array.from(r,i=>String.fromCodePoint(i)).join("");return btoa(t)}const tS="pkce_not_created",nS="ear_jwk_empty",A0="ear_jwe_empty",oC="crypto_nonexistent",qf="empty_navigate_uri",T0="hash_empty_error",Vf="no_state_in_hash",w0="hash_does_not_contain_known_properties",iS="unable_to_parse_state",x0="state_interaction_type_mismatch",N0="interaction_in_progress",R0="interaction_in_progress_cancelled",j0="popup_window_error",O0="empty_window_error",$h="user_cancelled",I0="redirect_bridge_empty_response",k0="redirect_in_iframe",M0="block_iframe_reload",D0="block_nested_popups",Yf="silent_logout_unsupported",U0="no_account_error",L0="no_token_request_cache_error",P0="unable_to_parse_token_request_cache_error",aS="non_browser_environment",ro="database_not_open",Zh="no_network_connectivity",z0="post_request_failed",H0="get_request_failed",cC="failed_to_parse_response",rS="crypto_key_not_found",B0="auth_code_required",K0="auth_code_or_nativeAccountId_required",F0="spa_code_and_nativeAccountId_present",sS="database_unavailable",G0="unable_to_acquire_token_from_native_platform",q0="native_handshake_timeout",V0="native_extension_not_installed",oS="native_connection_not_established",rl="uninitialized_public_client_application",Y0="native_prompt_not_supported",Q0="invalid_base64_string",J0="invalid_pop_token_request",X0="failed_to_build_headers",$0="failed_to_parse_headers",xh="failed_to_decrypt_ear_response",Al="timed_out",Z0="empty_response";function un(r){return new TextDecoder().decode(ra(r))}function ra(r){let t=r.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Z(Q0)}const i=atob(t);return Uint8Array.from(i,s=>s.codePointAt(0)||0)}const W0="RSASSA-PKCS1-v1_5",Wr="AES-GCM",cS="HKDF",Qf="SHA-256",eN=2048,tN=new Uint8Array([1,0,1]),lC="0123456789abcdef",uC=new Uint32Array(1),Jf="raw",lS="encrypt",Xf="decrypt",nN="deriveKey",iN="crypto_subtle_undefined",$f={name:W0,hash:Qf,modulusLength:eN,publicExponent:tN};function aN(r){if(!window)throw Z(aS);if(!window.crypto)throw Z(oC);if(!r&&!window.crypto.subtle)throw Z(oC,iN)}async function uS(r){const i=new TextEncoder().encode(r);return window.crypto.subtle.digest(Qf,i)}function rN(r){return window.crypto.getRandomValues(r)}function Nh(){return window.crypto.getRandomValues(uC),uC[0]}function Ha(){const r=Date.now(),t=Nh()*1024+(Nh()&1023),i=new Uint8Array(16),s=Math.trunc(t/2**30),c=t&2**30-1,u=Nh();i[0]=r/2**40,i[1]=r/2**32,i[2]=r/2**24,i[3]=r/2**16,i[4]=r/2**8,i[5]=r,i[6]=112|s>>>8,i[7]=s,i[8]=128|c>>>24,i[9]=c>>>16,i[10]=c>>>8,i[11]=c,i[12]=u>>>24,i[13]=u>>>16,i[14]=u>>>8,i[15]=u;let h="";for(let m=0;m<i.length;m++)h+=lC.charAt(i[m]>>>4),h+=lC.charAt(i[m]&15),(m===3||m===5||m===7||m===9)&&(h+="-");return h}async function sN(r,t){return window.crypto.subtle.generateKey($f,r,t)}async function Rh(r){return window.crypto.subtle.exportKey(Wb,r)}async function oN(r,t,i){return window.crypto.subtle.importKey(Wb,r,$f,t,i)}async function cN(r,t){return window.crypto.subtle.sign($f,r,t)}async function Zf(){const r=await dS(),i={alg:"dir",kty:"oct",k:ca(new Uint8Array(r))};return vo(JSON.stringify(i))}async function lN(r){const t=un(r),s=JSON.parse(t).k,c=ra(s);return window.crypto.subtle.importKey(Jf,c,Wr,!1,[Xf])}async function uN(r,t){const i=t.split(".");if(i.length!==5)throw Z(xh,"jwe_length");const s=await lN(r).catch(()=>{throw Z(xh,"import_key")});try{const c=new TextEncoder().encode(i[0]),u=ra(i[2]),h=ra(i[3]),m=ra(i[4]),g=m.byteLength*8,p=new Uint8Array(h.length+m.length);p.set(h),p.set(m,h.length);const v=await window.crypto.subtle.decrypt({name:Wr,iv:u,tagLength:g,additionalData:c},s,p);return new TextDecoder().decode(v)}catch{throw Z(xh,"decrypt")}}async function dS(){const r=await window.crypto.subtle.generateKey({name:Wr,length:256},!0,[lS,Xf]);return window.crypto.subtle.exportKey(Jf,r)}async function dC(r){return window.crypto.subtle.importKey(Jf,r,cS,!1,[nN])}async function hS(r,t,i){return window.crypto.subtle.deriveKey({name:cS,salt:t,hash:Qf,info:new TextEncoder().encode(i)},r,{name:Wr,length:256},!1,[lS,Xf])}async function dN(r,t,i){const s=new TextEncoder().encode(t),c=window.crypto.getRandomValues(new Uint8Array(16)),u=await hS(r,c,i),h=await window.crypto.subtle.encrypt({name:Wr,iv:new Uint8Array(12)},u,s);return{data:ca(new Uint8Array(h)),nonce:ca(c)}}async function hC(r,t,i,s){const c=ra(s),u=await hS(r,ra(t),i),h=await window.crypto.subtle.decrypt({name:Wr,iv:new Uint8Array(12)},u,c);return new TextDecoder().decode(h)}async function hN(r){const t=await uS(r),i=new Uint8Array(t);return ca(i)}class Wf extends Ke{constructor(t,i){super(t,i),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,Wf.prototype)}}function Ct(r){return new Wf(r,Fl(r))}const fS="storage_not_supported",Pt="stubbed_public_client_application_called",fN="in_mem_redirect_unavailable";function mN(){const r=window.location.hash,t=window.location.search;let i=!1,s=!1,c="",u;if(r&&r.length>1){const v=r.charAt(0)==="#"?r.substring(1):r,C=new URLSearchParams(v);C.has("state")&&(i=!0,c=v,u=C)}if(t&&t.length>1){const v=t.charAt(0)==="?"?t.substring(1):t,C=new URLSearchParams(v);C.has("state")&&(s=!0,c=v,u=C)}if(i&&s){const v=t.charAt(0)==="?"?t.substring(1):t,C=r.charAt(0)==="#"?r.substring(1):r;c=`${v}${C}`,u=new URLSearchParams(c)}if(!c||!u)throw Z(Z0);const h=u.get("state");if(!h)throw Z(Vf);const{libraryState:m}=_o(un,h),{id:g,meta:p}=m;if(!g||!p)throw Z(iS,"missing_library_state");return{params:u,payload:c,urlHash:r,urlQuery:t,hasResponseInHash:i,hasResponseInQuery:s,libraryState:{id:g,meta:p}}}function mS(r){r.location.hash="",typeof r.history.replaceState=="function"&&r.history.replaceState(null,"",`${r.location.origin}${r.location.pathname}${r.location.search}`)}function gN(r){const t=r.split("#");t.shift(),window.location.hash=t.length>0?t.join("#"):""}function Gl(){return window.parent!==window}function pN(){if(Gl())return!1;try{const{libraryState:r}=mN(),{meta:t}=r;return t.interactionType===le.Popup}catch{return!1}}let na=null;function yN(r,t){na&&(r.verbose("18y01k",t),clearTimeout(na.timeoutId),na.channel.close(),na.reject(Z(R0)),na=null)}async function Br(r,t,i,s){return new Promise((c,u)=>{t.verbose("1rf6em",s.correlationId);const{libraryState:h}=_o(i.base64Decode,s.state||""),m=new BroadcastChannel(h.id);let g;const p=window.setTimeout(()=>{na=null,m.close(),u(Z(Al,"redirect_bridge_timeout"))},r);na={timeoutId:p,channel:m,reject:u},m.onmessage=v=>{g=v.data.payload,na=null,clearTimeout(p),m.close(),g?c(g):u(Z(I0))}})}function ia(){return typeof window<"u"&&window.location?window.location.href.split("?")[0].split("#")[0]:""}function vN(){const t=new ke(window.location.href).getUrlComponents();return`${t.Protocol}//${t.HostNameAndPort}/`}function CN(){if(vl(window.location.hash)&&Gl())throw Z(M0)}function bN(r){if(Gl()&&!r)throw Z(k0)}function SN(){if(pN())throw Z(D0)}function gS(){if(typeof window>"u")throw Z(aS)}function pS(r){if(!r)throw Z(rl)}function em(r){gS(),CN(),SN(),pS(r)}function fC(r,t){if(em(r),bN(t.system.allowRedirectInIframe),t.cache.cacheLocation===Tn.MemoryStorage)throw Ct(fN)}function yS(r){const t=document.createElement("link");t.rel="preconnect",t.href=new URL(r).origin,t.crossOrigin="anonymous",document.head.appendChild(t),window.setTimeout(()=>{try{document.head.removeChild(t)}catch{}},1e4)}function Wh(){return Ha()}const _N="acquireTokenFromCache",EN="acquireTokenByRefreshToken",AN="acquireTokenSilentAsync",TN="cryptoOptsGetPublicKeyThumbprint",wN="cryptoOptsSignJwt",xN="silentCacheClientAcquireToken",NN="silentIframeClientAcquireToken",RN="awaitConcurrentIframe",jN="silentRefreshClientAcquireToken",Ua="standardInteractionClientGetDiscoveredAuthority",vS="nativeInteractionClientAcquireToken",ON="refreshTokenClientAcquireTokenByRefreshToken",mC="acquireTokenBySilentIframe",tm="initializeBaseRequest",IN="initializeSilentRequest",kN="initializeCache",gC="silentIframeClientTokenHelper",jh="silentHandlerInitiateAuthRequest",Tl="silentHandlerMonitorIframeForHash",MN="silentHandlerLoadFrameSync",sa="standardInteractionClientCreateAuthCodeClient",ql="standardInteractionClientGetClientConfiguration",Vl="standardInteractionClientInitializeAuthorizationRequest",DN="silentFlowClientAcquireCachedToken",UN="getStandardParams",LN="handleCodeResponse",nm="handleResponseEar",CS="handleResponsePlatformBroker",qr="handleResponseCode",PN="authClientAcquireToken",ho="deserializeResponse",zN="authorityFactoryCreateDiscoveredInstance",HN="acquireTokenByCodeAsync",BN="handleRedirectPromise",KN="handleNativeRedirectPromise",FN="nativeMessageHandlerHandshake",GN="importExistingCache",Ba="generatePkceCodes",qN="generateCodeVerifier",VN="generateCodeChallengeFromVerifier",YN="sha256Digest",QN="getRandomValues",pC="generateHKDF",JN="generateBaseKey",XN="base64Decode",$N="urlEncodeArr",ZN="encrypt",yC="decrypt",im="generateEarKey",WN="decryptEarResponse";class eR{constructor(){this.dbName=Xh,this.version=S0,this.tableName=_0,this.dbOpen=!1}async open(){return new Promise((t,i)=>{const s=window.indexedDB.open(this.dbName,this.version);s.addEventListener("upgradeneeded",c=>{c.target.result.createObjectStore(this.tableName)}),s.addEventListener("success",c=>{const u=c;this.db=u.target.result,this.dbOpen=!0,t()}),s.addEventListener("error",()=>i(Z(sS)))})}closeConnection(){const t=this.db;t&&this.dbOpen&&(t.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(t){return await this.validateDbIsOpen(),new Promise((i,s)=>{if(!this.db)return s(Z(ro));const h=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(t);h.addEventListener("success",m=>{const g=m;this.closeConnection(),i(g.target.result)}),h.addEventListener("error",m=>{this.closeConnection(),s(m)})})}async setItem(t,i){return await this.validateDbIsOpen(),new Promise((s,c)=>{if(!this.db)return c(Z(ro));const m=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(i,t);m.addEventListener("success",()=>{this.closeConnection(),s()}),m.addEventListener("error",g=>{this.closeConnection(),c(g)})})}async removeItem(t){return await this.validateDbIsOpen(),new Promise((i,s)=>{if(!this.db)return s(Z(ro));const h=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(t);h.addEventListener("success",()=>{this.closeConnection(),i()}),h.addEventListener("error",m=>{this.closeConnection(),s(m)})})}async getKeys(){return await this.validateDbIsOpen(),new Promise((t,i)=>{if(!this.db)return i(Z(ro));const u=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();u.addEventListener("success",h=>{const m=h;this.closeConnection(),t(m.target.result)}),u.addEventListener("error",h=>{this.closeConnection(),i(h)})})}async containsKey(t){return await this.validateDbIsOpen(),new Promise((i,s)=>{if(!this.db)return s(Z(ro));const h=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(t);h.addEventListener("success",m=>{const g=m;this.closeConnection(),i(g.target.result===1)}),h.addEventListener("error",m=>{this.closeConnection(),s(m)})})}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise((t,i)=>{const s=window.indexedDB.deleteDatabase(Xh),c=setTimeout(()=>i(!1),200);s.addEventListener("success",()=>(clearTimeout(c),t(!0))),s.addEventListener("blocked",()=>(clearTimeout(c),t(!0))),s.addEventListener("error",()=>(clearTimeout(c),i(!1)))})}}class Yl{constructor(){this.cache=new Map}async initialize(){}getItem(t){return this.cache.get(t)||null}getUserData(t){return this.getItem(t)}setItem(t,i){this.cache.set(t,i)}async setUserData(t,i){this.setItem(t,i)}removeItem(t){this.cache.delete(t)}getKeys(){const t=[];return this.cache.forEach((i,s)=>{t.push(s)}),t}containsKey(t){return this.cache.has(t)}clear(){this.cache.clear()}decryptData(){return Promise.resolve(null)}}class tR{constructor(t){this.inMemoryCache=new Yl,this.indexedDBCache=new eR,this.logger=t}handleDatabaseAccessError(t,i){if(t instanceof Ao&&t.errorCode===sS)this.logger.error("1wx7zz",i);else throw t}async getItem(t,i){const s=this.inMemoryCache.getItem(t);if(!s)try{return this.logger.verbose("0naxpl",i),await this.indexedDBCache.getItem(t)}catch(c){this.handleDatabaseAccessError(c,i)}return s}async setItem(t,i,s){this.inMemoryCache.setItem(t,i);try{await this.indexedDBCache.setItem(t,i)}catch(c){this.handleDatabaseAccessError(c,s)}}async removeItem(t,i){this.inMemoryCache.removeItem(t);try{await this.indexedDBCache.removeItem(t)}catch(s){this.handleDatabaseAccessError(s,i)}}async getKeys(t){const i=this.inMemoryCache.getKeys();if(i.length===0)try{return this.logger.verbose("1iqrbq",t),await this.indexedDBCache.getKeys()}catch(s){this.handleDatabaseAccessError(s,t)}return i}async containsKey(t,i){const s=this.inMemoryCache.containsKey(t);if(!s)try{return this.logger.verbose("03zl2j",i),await this.indexedDBCache.containsKey(t)}catch(c){this.handleDatabaseAccessError(c,i)}return s}clearInMemory(t){this.logger.verbose("03r21p",t),this.inMemoryCache.clear(),this.logger.verbose("0uksk1",t)}async clearPersistent(t){try{this.logger.verbose("0rdqut",t);const i=await this.indexedDBCache.deleteDatabase();return i&&this.logger.verbose("149ouc",t),i}catch(i){return this.handleDatabaseAccessError(i,t),!1}}}class Ai{constructor(t,i,s){this.logger=t,aN(s??!1),this.cache=new tR(this.logger),this.performanceClient=i}createNewGuid(){return Ha()}base64Encode(t){return vo(t)}base64Decode(t){return un(t)}base64UrlEncode(t){return Wc(t)}encodeKid(t){return this.base64UrlEncode(JSON.stringify({kid:t}))}async getPublicKeyThumbprint(t){const i=this.performanceClient?.startMeasurement(TN,t.correlationId),s=await sN(Ai.EXTRACTABLE,Ai.POP_KEY_USAGES),c=await Rh(s.publicKey),u={e:c.e,kty:c.kty,n:c.n},h=vC(u),m=await this.hashString(h),g=await Rh(s.privateKey),p=await oN(g,!1,["sign"]);return await this.cache.setItem(m,{privateKey:p,publicKey:s.publicKey,requestMethod:t.resourceRequestMethod,requestUri:t.resourceRequestUri},t.correlationId),i&&i.end({success:!0}),m}async removeTokenBindingKey(t,i){if(await this.cache.removeItem(t,i),await this.cache.containsKey(t,i))throw Y(Mw)}async clearKeystore(t){this.cache.clearInMemory(t);try{return await this.cache.clearPersistent(t),!0}catch(i){return i instanceof Error?this.logger.error("1owpn8",t):this.logger.error("0yrmwo",t),!1}}async signJwt(t,i,s,c){const u=this.performanceClient?.startMeasurement(wN,c),h=await this.cache.getItem(i,c||"");if(!h)throw Z(rS);const m=await Rh(h.publicKey),g=vC(m),p=Wc(JSON.stringify({kid:i})),v=Gf.getShrHeaderString({...s?.header,alg:m.alg,kid:p}),C=Wc(v);t.cnf={jwk:JSON.parse(g)};const S=Wc(JSON.stringify(t)),x=`${C}.${S}`,N=new TextEncoder().encode(x),j=await cN(h.privateKey,N),F=ca(new Uint8Array(j)),H=`${x}.${F}`;return u&&u.end({success:!0}),H}async hashString(t){return hN(t)}}Ai.POP_KEY_USAGES=["sign","verify"];Ai.EXTRACTABLE=!0;function vC(r){return JSON.stringify(r,Object.keys(r).sort())}const nR="acquireTokenSilent",iR="acquireTokenByCode",aR="acquireTokenPopup",rR="acquireTokenPreRedirect",Oh="acquireTokenRedirect",sR="ssoSilent",oR="initializeClientApplication",cR="localStorageUpdated";const Nt="msal",am="browser",CC="|",Ot=2,sl=2,lR=`${Nt}.${am}.log.level`,uR=`${Nt}.${am}.log.pii`,dR=`${Nt}.${am}.platform.auth.dom`,bC=`${Nt}.version`,SC="account.keys",_C="token.keys";function Vr(r=sl){return r<1?`${Nt}.${SC}`:`${Nt}.${r}.${SC}`}function Yr(r,t=Ot){return t<1?`${Nt}.${_C}.${r}`:`${Nt}.${t}.${_C}.${r}`}const hR=1440*60*1e3,ef={Lax:"Lax",None:"None"};class bS{initialize(){return Promise.resolve()}getItem(t){const i=`${encodeURIComponent(t)}`,s=document.cookie.split(";");for(let c=0;c<s.length;c++){const u=s[c],[h,...m]=decodeURIComponent(u).trim().split("="),g=m.join("=");if(h===i)return g}return""}getUserData(){throw Y(Ce)}setItem(t,i,s,c=!0,u=ef.Lax){let h=`${encodeURIComponent(t)}=${encodeURIComponent(i)};path=/;SameSite=${u};`;if(s){const m=fR(s);h+=`expires=${m};`}(c||u===ef.None)&&(h+="Secure;"),document.cookie=h}async setUserData(){return Promise.reject(Y(Ce))}removeItem(t){this.setItem(t,"",-1)}getKeys(){const t=document.cookie.split(";"),i=[];return t.forEach(s=>{const c=decodeURIComponent(s).trim().split("=");i.push(c[0])}),i}containsKey(t){return this.getKeys().includes(t)}decryptData(){return Promise.resolve(null)}}function fR(r){const t=new Date;return new Date(t.getTime()+r*hR).toUTCString()}function ea(r,t){const i=r.getItem(Vr(t));return i?JSON.parse(i):[]}function Mn(r,t,i){const s=t.getItem(Yr(r,i));if(s){const c=JSON.parse(s);if(c&&c.hasOwnProperty("idToken")&&c.hasOwnProperty("accessToken")&&c.hasOwnProperty("refreshToken"))return c}return{idToken:[],accessToken:[],refreshToken:[]}}function ol(r){return r.hasOwnProperty("id")&&r.hasOwnProperty("nonce")&&r.hasOwnProperty("data")}const EC="msal.cache.encryption",mR="msal.broadcast.cache";class gR{constructor(t,i,s){if(!window.localStorage)throw Ct(fS);this.memoryStorage=new Yl,this.initialized=!1,this.clientId=t,this.logger=i,this.performanceClient=s,this.broadcast=new BroadcastChannel(mR)}async initialize(t){const i=new bS,s=i.getItem(EC);let c={key:"",id:""};if(s)try{c=JSON.parse(s)}catch{}if(c.key&&c.id){const u=Pn(ra,XN,this.logger,this.performanceClient,t)(c.key);this.encryptionCookie={id:c.id,key:await z(dC,pC,this.logger,this.performanceClient,t)(u)}}else{const u=Ha(),h=await z(dS,JN,this.logger,this.performanceClient,t)(),m=Pn(ca,$N,this.logger,this.performanceClient,t)(new Uint8Array(h));this.encryptionCookie={id:u,key:await z(dC,pC,this.logger,this.performanceClient,t)(h)};const g={id:u,key:m};i.setItem(EC,JSON.stringify(g),0,!0,ef.None)}await z(this.importExistingCache.bind(this),GN,this.logger,this.performanceClient,t)(t),this.broadcast.addEventListener("message",u=>{this.updateCache(u,t)}),this.initialized=!0}getItem(t){return window.localStorage.getItem(t)}getUserData(t){if(!this.initialized)throw Z(rl);return this.memoryStorage.getItem(t)}async decryptData(t,i,s){if(!this.initialized||!this.encryptionCookie)throw Z(rl);if(i.id!==this.encryptionCookie.id)return this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},s),null;const c=await z(hC,yC,this.logger,this.performanceClient,s)(this.encryptionCookie.key,i.nonce,this.getContext(t),i.data);if(!c)return null;try{return{...JSON.parse(c),lastUpdatedAt:i.lastUpdatedAt}}catch{return this.performanceClient.incrementFields({encryptedCacheCorruptionCount:1},s),null}}setItem(t,i){window.localStorage.setItem(t,i)}async setUserData(t,i,s,c,u){if(!this.initialized||!this.encryptionCookie)throw Z(rl);if(u)this.setItem(t,i);else{const{data:h,nonce:m}=await z(dN,ZN,this.logger,this.performanceClient,s)(this.encryptionCookie.key,i,this.getContext(t)),g={id:this.encryptionCookie.id,nonce:m,data:h,lastUpdatedAt:c};this.setItem(t,JSON.stringify(g))}this.memoryStorage.setItem(t,i),this.broadcast.postMessage({key:t,value:i,context:this.getContext(t)})}removeItem(t){this.memoryStorage.containsKey(t)&&(this.memoryStorage.removeItem(t),this.broadcast.postMessage({key:t,value:null,context:this.getContext(t)})),window.localStorage.removeItem(t)}getKeys(){return Object.keys(window.localStorage)}containsKey(t){return window.localStorage.hasOwnProperty(t)}clear(){this.memoryStorage.clear(),ea(this).forEach(s=>this.removeItem(s));const i=Mn(this.clientId,this);i.idToken.forEach(s=>this.removeItem(s)),i.accessToken.forEach(s=>this.removeItem(s)),i.refreshToken.forEach(s=>this.removeItem(s)),this.getKeys().forEach(s=>{(s.startsWith(Nt)||s.indexOf(this.clientId)!==-1)&&this.removeItem(s)})}async importExistingCache(t){if(!this.encryptionCookie)return;let i=ea(this);i=await this.importArray(i,t),i.length?this.setItem(Vr(),JSON.stringify(i)):this.removeItem(Vr());const s=Mn(this.clientId,this);s.idToken=await this.importArray(s.idToken,t),s.accessToken=await this.importArray(s.accessToken,t),s.refreshToken=await this.importArray(s.refreshToken,t),s.idToken.length||s.accessToken.length||s.refreshToken.length?this.setItem(Yr(this.clientId),JSON.stringify(s)):this.removeItem(Yr(this.clientId))}async getItemFromEncryptedCache(t,i){if(!this.encryptionCookie)return null;const s=this.getItem(t);if(!s)return null;let c;try{c=JSON.parse(s)}catch{return null}return ol(c)?c.id!==this.encryptionCookie.id?(this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},i),null):(this.performanceClient.incrementFields({encryptedCacheCount:1},i),z(hC,yC,this.logger,this.performanceClient,i)(this.encryptionCookie.key,c.nonce,this.getContext(t),c.data)):(this.performanceClient.incrementFields({unencryptedCacheCount:1},i),s)}async importArray(t,i){const s=[],c=[];return t.forEach(u=>{const h=this.getItemFromEncryptedCache(u,i).then(m=>{m?(this.memoryStorage.setItem(u,m),s.push(u)):this.removeItem(u)});c.push(h)}),await Promise.all(c),s}getContext(t){let i="";return t.includes(this.clientId)&&(i=this.clientId),i}updateCache(t,i){this.logger.trace("17cxcm",i);const s=this.performanceClient.startMeasurement(cR);s.add({isBackground:!0});const{key:c,value:u,context:h}=t.data;if(!c){this.logger.error("0e10qr",i),s.end({success:!1,errorCode:"noKey"});return}if(h&&h!==this.clientId){this.logger.trace("04rtdy",i),s.end({success:!1,errorCode:"contextMismatch"});return}u?(this.memoryStorage.setItem(c,u),this.logger.verbose("1vzsgt",i)):(this.memoryStorage.removeItem(c),this.logger.verbose("04ypih",i)),s.end({success:!0})}}class pR{constructor(){if(!window.sessionStorage)throw Ct(fS)}async initialize(){}getItem(t){return window.sessionStorage.getItem(t)}getUserData(t){return this.getItem(t)}setItem(t,i){window.sessionStorage.setItem(t,i)}async setUserData(t,i){this.setItem(t,i)}removeItem(t){window.sessionStorage.removeItem(t)}getKeys(){return Object.keys(window.sessionStorage)}containsKey(t){return window.sessionStorage.hasOwnProperty(t)}decryptData(){return Promise.resolve(null)}}const oe={INITIALIZE_START:"msal:initializeStart",INITIALIZE_END:"msal:initializeEnd",ACTIVE_ACCOUNT_CHANGED:"msal:activeAccountChanged",LOGIN_SUCCESS:"msal:loginSuccess",ACQUIRE_TOKEN_START:"msal:acquireTokenStart",BROKERED_REQUEST_START:"msal:brokeredRequestStart",ACQUIRE_TOKEN_SUCCESS:"msal:acquireTokenSuccess",BROKERED_REQUEST_SUCCESS:"msal:brokeredRequestSuccess",ACQUIRE_TOKEN_FAILURE:"msal:acquireTokenFailure",BROKERED_REQUEST_FAILURE:"msal:brokeredRequestFailure",ACQUIRE_TOKEN_NETWORK_START:"msal:acquireTokenFromNetworkStart",HANDLE_REDIRECT_START:"msal:handleRedirectStart",HANDLE_REDIRECT_END:"msal:handleRedirectEnd",POPUP_OPENED:"msal:popupOpened",LOGOUT_START:"msal:logoutStart",LOGOUT_SUCCESS:"msal:logoutSuccess",LOGOUT_FAILURE:"msal:logoutFailure",LOGOUT_END:"msal:logoutEnd",RESTORE_FROM_BFCACHE:"msal:restoreFromBFCache",BROKER_CONNECTION_ESTABLISHED:"msal:brokerConnectionEstablished"};const yR="@azure/msal-browser",Ka="5.0.2";function Zi(r,t){const i=r.indexOf(t);i>-1&&r.splice(i,1)}class tf extends Yh{constructor(t,i,s,c,u,h,m){super(t,s,c,u,m),this.cacheConfig=i,this.logger=c,this.internalStorage=new Yl,this.browserStorage=AC(t,i.cacheLocation,c,u),this.temporaryCacheStorage=AC(t,Tn.SessionStorage,c,u),this.cookieStorage=new bS,this.eventHandler=h}async initialize(t){this.performanceClient.addFields({cacheLocation:this.cacheConfig.cacheLocation,cacheRetentionDays:this.cacheConfig.cacheRetentionDays},t),await this.browserStorage.initialize(t),await this.migrateExistingCache(t),this.trackVersionChanges(t)}async migrateExistingCache(t){let i=ea(this.browserStorage),s=Mn(this.clientId,this.browserStorage);this.performanceClient.addFields({preMigrateAcntCount:i.length,preMigrateATCount:s.accessToken.length,preMigrateITCount:s.idToken.length,preMigrateRTCount:s.refreshToken.length},t);for(let u=0;u<sl;u++){const h=u;await this.removeStaleAccounts(u,h,t)}for(let u=0;u<Ot;u++){const h=u;await this.migrateIdTokens(u,h,t)}const c=this.getKMSIValues();for(let u=0;u<Ot;u++)await this.migrateAccessTokens(u,c,t),await this.migrateRefreshTokens(u,c,t);i=ea(this.browserStorage),s=Mn(this.clientId,this.browserStorage),this.performanceClient.addFields({postMigrateAcntCount:i.length,postMigrateATCount:s.accessToken.length,postMigrateITCount:s.idToken.length,postMigrateRTCount:s.refreshToken.length},t)}async updateOldEntry(t,i){const s=this.browserStorage.getItem(t),c=this.validateAndParseJson(s||"");if(!c)return this.browserStorage.removeItem(t),null;if(!c.lastUpdatedAt)c.lastUpdatedAt=Date.now().toString(),this.setItem(t,JSON.stringify(c),i);else if(Xv(c.lastUpdatedAt,this.cacheConfig.cacheRetentionDays))return this.browserStorage.removeItem(t),this.performanceClient.incrementFields({expiredCacheRemovedCount:1},i),null;const u=ol(c)?await this.browserStorage.decryptData(t,c,i):c;return!u||!zl(u)?(this.performanceClient.incrementFields({invalidCacheCount:1},i),null):(Wv(u)||eC(u))&&u.expiresOn&&El(u.expiresOn,cb)?(this.browserStorage.removeItem(t),this.performanceClient.incrementFields({expiredCacheRemovedCount:1},i),null):u}async removeStaleAccounts(t,i,s){const c=ea(this.browserStorage,t);if(c.length!==0){for(const u of[...c]){this.performanceClient.incrementFields({oldAcntCount:1},s);const h=this.browserStorage.getItem(u),m=this.validateAndParseJson(h||"");if(!m){Zi(c,u);continue}if(m.lastUpdatedAt)Xv(m.lastUpdatedAt,this.cacheConfig.cacheRetentionDays)&&(await this.removeAccountOldSchema(u,m,i,s),Zi(c,u));else{m.lastUpdatedAt=Date.now().toString(),this.setItem(u,JSON.stringify(m),s);continue}}this.setAccountKeys(c,s,t)}}async removeAccountOldSchema(t,i,s,c){const h=(ol(i)?await this.browserStorage.decryptData(t,i,c):i)?.homeAccountId;if(h){const m=this.getTokenKeys(s);[...m.idToken].filter(g=>g.includes(h)).forEach(g=>{this.browserStorage.removeItem(g),Zi(m.idToken,g)}),[...m.accessToken].filter(g=>g.includes(h)).forEach(g=>{this.browserStorage.removeItem(g),Zi(m.accessToken,g)}),[...m.refreshToken].filter(g=>g.includes(h)).forEach(g=>{this.browserStorage.removeItem(g),Zi(m.refreshToken,g)}),this.setTokenKeys(m,c,s)}this.performanceClient.incrementFields({expiredAcntRemovedCount:1},c),this.browserStorage.removeItem(t)}getKMSIValues(){const t={},i=this.getTokenKeys().idToken;for(const s of i){const c=this.browserStorage.getUserData(s);if(c){const u=JSON.parse(c),h=Si(u.secret,un);h&&(t[u.homeAccountId]=Da(h))}}return t}async migrateIdTokens(t,i,s){const c=Mn(this.clientId,this.browserStorage,t);if(c.idToken.length===0)return;const u=Mn(this.clientId,this.browserStorage,Ot),h=ea(this.browserStorage),m=ea(this.browserStorage,i);for(const g of[...c.idToken]){this.performanceClient.incrementFields({oldITCount:1},s);const p=await this.updateOldEntry(g,s);if(!p){Zi(c.idToken,g);continue}const v=h.find(H=>H.includes(p.homeAccountId)),C=m.find(H=>H.includes(p.homeAccountId));let S=null;if(v)S=this.getAccount(v,s);else if(C){const H=this.browserStorage.getItem(C),M=this.validateAndParseJson(H||"");S=M&&ol(M)?await this.browserStorage.decryptData(C,M,s):M}if(!S){this.performanceClient.incrementFields({skipITMigrateCount:1},s);continue}const x=Si(p.secret,un),T=this.generateCredentialKey(p),N=this.getIdTokenCredential(T,s),j=Object.keys(x).includes("signin_state"),F=N&&Object.keys(Si(N.secret,un)||{}).includes("signin_state");if(!N||p.lastUpdatedAt>N.lastUpdatedAt&&(j||!F)){const H=S.tenantProfiles||[],M=Df(x)||S.realm;if(M&&!H.find(ue=>ue.tenantId===M)){const ue=Pl(S.homeAccountId,S.localAccountId,M,x);H.push(ue)}S.tenantProfiles=H;const $=this.generateAccountKey(oa(S)),Q=Da(x);await this.setUserData($,JSON.stringify(S),s,S.lastUpdatedAt,Q),h.includes($)||h.push($),await this.setUserData(T,JSON.stringify(p),s,p.lastUpdatedAt,Q),this.performanceClient.incrementFields({migratedITCount:1},s),u.idToken.push(T)}}this.setTokenKeys(c,s,t),this.setTokenKeys(u,s),this.setAccountKeys(h,s)}async migrateAccessTokens(t,i,s){const c=Mn(this.clientId,this.browserStorage,t);if(c.accessToken.length===0)return;const u=Mn(this.clientId,this.browserStorage,Ot);for(const h of[...c.accessToken]){this.performanceClient.incrementFields({oldATCount:1},s);const m=await this.updateOldEntry(h,s);if(!m){Zi(c.accessToken,h);continue}if(!(m.homeAccountId in i)){this.performanceClient.incrementFields({skipATMigrateCount:1},s);continue}const g=this.generateCredentialKey(m),p=i[m.homeAccountId];if(!u.accessToken.includes(g))await this.setUserData(g,JSON.stringify(m),s,m.lastUpdatedAt,p),this.performanceClient.incrementFields({migratedATCount:1},s),u.accessToken.push(g);else{const v=this.getAccessTokenCredential(g,s);(!v||m.lastUpdatedAt>v.lastUpdatedAt)&&(await this.setUserData(g,JSON.stringify(m),s,m.lastUpdatedAt,p),this.performanceClient.incrementFields({migratedATCount:1},s))}}this.setTokenKeys(c,s,t),this.setTokenKeys(u,s)}async migrateRefreshTokens(t,i,s){const c=Mn(this.clientId,this.browserStorage,t);if(c.refreshToken.length===0)return;const u=Mn(this.clientId,this.browserStorage,Ot);for(const h of[...c.refreshToken]){this.performanceClient.incrementFields({oldRTCount:1},s);const m=await this.updateOldEntry(h,s);if(!m){Zi(c.refreshToken,h);continue}if(!(m.homeAccountId in i)){this.performanceClient.incrementFields({skipRTMigrateCount:1},s);continue}const g=this.generateCredentialKey(m),p=i[m.homeAccountId];if(!u.refreshToken.includes(g))await this.setUserData(g,JSON.stringify(m),s,m.lastUpdatedAt,p),this.performanceClient.incrementFields({migratedRTCount:1},s),u.refreshToken.push(g);else{const v=this.getRefreshTokenCredential(g,s);(!v||m.lastUpdatedAt>v.lastUpdatedAt)&&(await this.setUserData(g,JSON.stringify(m),s,m.lastUpdatedAt,p),this.performanceClient.incrementFields({migratedRTCount:1},s))}}this.setTokenKeys(c,s,t),this.setTokenKeys(u,s)}trackVersionChanges(t){const i=this.browserStorage.getItem(bC);i&&(this.logger.info("1wuc87",t),this.performanceClient.addFields({previousLibraryVersion:i},t)),i!==Ka&&this.setItem(bC,Ka,t)}validateAndParseJson(t){if(!t)return null;try{const i=JSON.parse(t);return i&&typeof i=="object"?i:null}catch{return null}}setItem(t,i,s){const c=new Array(Ot+1).fill(0),u=[],h=20;for(let m=0;m<=h;m++)try{if(this.browserStorage.setItem(t,i),m>0)for(let g=0;g<=Ot;g++){const p=c.slice(0,g).reduce((C,S)=>C+S,0);if(p>=m)break;const v=m>p+c[g]?p+c[g]:m;m>p&&c[g]>0&&this.removeAccessTokenKeys(u.slice(p,v),s,g)}break}catch(g){const p=Vh(g);if(p.errorCode===qh&&m<h){if(!u.length)for(let v=0;v<=Ot;v++)if(t===Yr(this.clientId,v)){const C=JSON.parse(i).accessToken;u.push(...C),c[v]=C.length}else{const C=this.getTokenKeys(v).accessToken;u.push(...C),c[v]=C.length}if(u.length<=m)throw p;this.removeAccessToken(u[m],s,!1)}else throw p}}async setUserData(t,i,s,c,u){const h=new Array(Ot+1).fill(0),m=[],g=20;for(let p=0;p<=g;p++)try{if(await z(this.browserStorage.setUserData.bind(this.browserStorage),qx,this.logger,this.performanceClient,s)(t,i,s,c,u),p>0)for(let v=0;v<=Ot;v++){const C=h.slice(0,v).reduce((x,T)=>x+T,0);if(C>=p)break;const S=p>C+h[v]?C+h[v]:p;p>C&&h[v]>0&&this.removeAccessTokenKeys(m.slice(C,S),s,v)}break}catch(v){const C=Vh(v);if(C.errorCode===qh&&p<g){if(!m.length)for(let S=0;S<=Ot;S++){const x=this.getTokenKeys(S).accessToken;m.push(...x),h[S]=x.length}if(m.length<=p)throw C;this.removeAccessToken(m[p],s,!1)}else throw C}}getAccount(t,i){this.logger.trace("1lfvm6",i);const s=this.browserStorage.getUserData(t);if(!s)return this.removeAccountKeyFromMap(t,i),null;const c=this.validateAndParseJson(s);return!c||!lx(c)?null:Yh.toObject({},c)}async setAccount(t,i,s){this.logger.trace("1bz3wr",i);const c=this.generateAccountKey(oa(t)),u=Date.now().toString();t.lastUpdatedAt=u,await this.setUserData(c,JSON.stringify(t),i,u,s),this.addAccountKeyToMap(c,i),this.performanceClient.addFields({kmsi:s},i)}setAccountKeys(t,i,s=sl){t.length===0?this.removeItem(Vr(s)):this.setItem(Vr(s),JSON.stringify(t),i)}getAccountKeys(){return ea(this.browserStorage)}addAccountKeyToMap(t,i){this.logger.trace("0rb85k",i),this.logger.tracePii("1l9bdo",i);const s=this.getAccountKeys();return s.indexOf(t)===-1?(s.push(t),this.setItem(Vr(),JSON.stringify(s),i),this.logger.verbose("0xia39",i),!0):(this.logger.verbose("0161kk",i),!1)}removeAccountKeyFromMap(t,i){this.logger.trace("1jpigu",i),this.logger.tracePii("1xzspl",i);const s=this.getAccountKeys(),c=s.indexOf(t);c>-1?(s.splice(c,1),this.setAccountKeys(s,i)):this.logger.trace("1dytu2",i)}removeAccount(t,i){const s=this.getActiveAccount(i);s?.homeAccountId===t.homeAccountId&&s?.environment===t.environment&&this.setActiveAccount(null,i),super.removeAccount(t,i),this.removeAccountKeyFromMap(this.generateAccountKey(t),i),this.browserStorage.getKeys().forEach(c=>{c.includes(t.homeAccountId)&&c.includes(t.environment)&&this.browserStorage.removeItem(c)})}removeIdToken(t,i){super.removeIdToken(t,i);const s=this.getTokenKeys(),c=s.idToken.indexOf(t);c>-1&&(this.logger.info("05udv9",i),s.idToken.splice(c,1),this.setTokenKeys(s,i))}removeAccessToken(t,i,s=!0){super.removeAccessToken(t,i),s&&this.removeAccessTokenKeys([t],i)}removeAccessTokenKeys(t,i,s=Ot){this.logger.trace("17o18n",i);const c=this.getTokenKeys(s);let u=0;if(t.forEach(h=>{const m=c.accessToken.indexOf(h);m>-1&&(c.accessToken.splice(m,1),u++)}),u>0){this.logger.info("15i5d5",i),this.setTokenKeys(c,i,s);return}}removeRefreshToken(t,i){super.removeRefreshToken(t,i);const s=this.getTokenKeys(),c=s.refreshToken.indexOf(t);c>-1&&(this.logger.info("1f4fq3",i),s.refreshToken.splice(c,1),this.setTokenKeys(s,i))}getTokenKeys(t=Ot){return Mn(this.clientId,this.browserStorage,t)}setTokenKeys(t,i,s=Ot){if(t.idToken.length===0&&t.accessToken.length===0&&t.refreshToken.length===0){this.removeItem(Yr(this.clientId,s));return}else this.setItem(Yr(this.clientId,s),JSON.stringify(t),i)}getIdTokenCredential(t,i){const s=this.browserStorage.getUserData(t);if(!s)return this.logger.trace("1jukz6",i),this.removeIdToken(t,i),null;const c=this.validateAndParseJson(s);return!c||!Jx(c)?(this.logger.trace("1jukz6",i),null):(this.logger.trace("01ju66",i),c)}async setIdTokenCredential(t,i,s){this.logger.trace("13hjll",i);const c=this.generateCredentialKey(t),u=Date.now().toString();t.lastUpdatedAt=u,await this.setUserData(c,JSON.stringify(t),i,u,s);const h=this.getTokenKeys();h.idToken.indexOf(c)===-1&&(this.logger.info("07jy92",i),h.idToken.push(c),this.setTokenKeys(h,i))}getAccessTokenCredential(t,i){const s=this.browserStorage.getUserData(t);if(!s)return this.logger.trace("0bqvx8",i),this.removeAccessTokenKeys([t],i),null;const c=this.validateAndParseJson(s);return!c||!Wv(c)?(this.logger.trace("0bqvx8",i),null):(this.logger.trace("1o81rl",i),c)}async setAccessTokenCredential(t,i,s){this.logger.trace("1pondb",i);const c=this.generateCredentialKey(t),u=Date.now().toString();t.lastUpdatedAt=u,await this.setUserData(c,JSON.stringify(t),i,u,s);const h=this.getTokenKeys(),m=h.accessToken.indexOf(c);m!==-1&&h.accessToken.splice(m,1),this.logger.trace("1onhey",i),h.accessToken.push(c),this.setTokenKeys(h,i)}getRefreshTokenCredential(t,i){const s=this.browserStorage.getUserData(t);if(!s)return this.logger.trace("0jlizt",i),this.removeRefreshToken(t,i),null;const c=this.validateAndParseJson(s);return!c||!eC(c)?(this.logger.trace("0jlizt",i),null):(this.logger.trace("0nokxi",i),c)}async setRefreshTokenCredential(t,i,s){this.logger.trace("0tcg8d",i);const c=this.generateCredentialKey(t),u=Date.now().toString();t.lastUpdatedAt=u,await this.setUserData(c,JSON.stringify(t),i,u,s);const h=this.getTokenKeys();h.refreshToken.indexOf(c)===-1&&(this.logger.info("0eckjs",i),h.refreshToken.push(c),this.setTokenKeys(h,i))}getAppMetadata(t,i){const s=this.browserStorage.getItem(t);if(!s)return this.logger.trace("1q101h",i),null;const c=this.validateAndParseJson(s);return!c||!Wx(t,c)?(this.logger.trace("1q101h",i),null):(this.logger.trace("19pvg2",i),c)}setAppMetadata(t,i){this.logger.trace("0cyma6",i);const s=Zx(t);this.setItem(s,JSON.stringify(t),i)}getServerTelemetry(t,i){const s=this.browserStorage.getItem(t);if(!s)return this.logger.trace("0jk19c",i),null;const c=this.validateAndParseJson(s);return!c||!Xx(t,c)?(this.logger.trace("0jk19c",i),null):(this.logger.trace("12jguk",i),c)}setServerTelemetry(t,i,s){this.logger.trace("1poh61",s),this.setItem(t,JSON.stringify(i),s)}getAuthorityMetadata(t,i){const s=this.internalStorage.getItem(t);if(!s)return this.logger.trace("1r39oe",i),null;const c=this.validateAndParseJson(s);return c&&e0(t,c)?(this.logger.trace("1ohvk3",i),c):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter(i=>this.isAuthorityMetadata(i))}setWrapperMetadata(t,i){this.internalStorage.setItem(Zc.WRAPPER_SKU,t),this.internalStorage.setItem(Zc.WRAPPER_VER,i)}getWrapperMetadata(){const t=this.internalStorage.getItem(Zc.WRAPPER_SKU)||"",i=this.internalStorage.getItem(Zc.WRAPPER_VER)||"";return[t,i]}setAuthorityMetadata(t,i,s){this.logger.trace("07w8n2",s),this.internalStorage.setItem(t,JSON.stringify(i))}getActiveAccount(t){const i=this.generateCacheKey(Dv.ACTIVE_ACCOUNT_FILTERS),s=this.browserStorage.getItem(i);if(!s)return this.logger.trace("08gw0e",t),null;const c=this.validateAndParseJson(s);return c?(this.logger.trace("1t3ch7",t),this.getAccountInfoFilteredBy({homeAccountId:c.homeAccountId,localAccountId:c.localAccountId,tenantId:c.tenantId},t)):(this.logger.trace("0me1up",t),null)}setActiveAccount(t,i){const s=this.generateCacheKey(Dv.ACTIVE_ACCOUNT_FILTERS);if(t){this.logger.verbose("0rsj80",i);const c={homeAccountId:t.homeAccountId,localAccountId:t.localAccountId,tenantId:t.tenantId};this.setItem(s,JSON.stringify(c),i)}else this.logger.verbose("1bp5z5",i),this.browserStorage.removeItem(s);this.eventHandler.emitEvent(oe.ACTIVE_ACCOUNT_CHANGED)}getThrottlingCache(t,i){const s=this.browserStorage.getItem(t);if(!s)return this.logger.trace("1h4wa6",i),null;const c=this.validateAndParseJson(s);return!c||!$x(t,c)?(this.logger.trace("1h4wa6",i),null):(this.logger.trace("0of6n8",i),c)}setThrottlingCache(t,i,s){this.logger.trace("0wfgh6",s),this.setItem(t,JSON.stringify(i),s)}getTemporaryCache(t,i,s){const c=s?this.generateCacheKey(t):t,u=this.temporaryCacheStorage.getItem(c);if(!u){if(this.cacheConfig.cacheLocation===Tn.LocalStorage){const h=this.browserStorage.getItem(c);if(h)return this.logger.trace("1yt61y",i),h}return this.logger.trace("1qhy81",i),null}return u}setTemporaryCache(t,i,s){const c=s?this.generateCacheKey(t):t;this.temporaryCacheStorage.setItem(c,i)}removeItem(t){this.browserStorage.removeItem(t)}removeTemporaryItem(t){this.temporaryCacheStorage.removeItem(t)}getKeys(){return this.browserStorage.getKeys()}clear(t){this.removeAllAccounts(t),this.removeAppMetadata(t),this.temporaryCacheStorage.getKeys().forEach(i=>{(i.indexOf(Nt)!==-1||i.indexOf(this.clientId)!==-1)&&this.removeTemporaryItem(i)}),this.browserStorage.getKeys().forEach(i=>{(i.indexOf(Nt)!==-1||i.indexOf(this.clientId)!==-1)&&this.browserStorage.removeItem(i)}),this.internalStorage.clear()}generateCacheKey(t){return An.startsWith(t,Nt)?t:`${Nt}.${this.clientId}.${t}`}generateCredentialKey(t){const i=t.credentialType===xt.REFRESH_TOKEN&&t.familyId||t.clientId,s=t.tokenType&&t.tokenType.toLowerCase()!==Le.BEARER.toLowerCase()?t.tokenType.toLowerCase():"";return[`${Nt}.${Ot}`,t.homeAccountId,t.environment,t.credentialType,i,t.realm||"",t.target||"",s].join(CC).toLowerCase()}generateAccountKey(t){const i=t.homeAccountId.split(".")[1];return[`${Nt}.${sl}`,t.homeAccountId,t.environment,i||t.tenantId||""].join(CC).toLowerCase()}resetRequestCache(t){this.logger.trace("0h0ynu",t),this.removeTemporaryItem(this.generateCacheKey(gt.REQUEST_PARAMS)),this.removeTemporaryItem(this.generateCacheKey(gt.VERIFIER)),this.removeTemporaryItem(this.generateCacheKey(gt.ORIGIN_URI)),this.removeTemporaryItem(this.generateCacheKey(gt.URL_HASH)),this.removeTemporaryItem(this.generateCacheKey(gt.NATIVE_REQUEST)),this.setInteractionInProgress(!1,void 0)}cacheAuthorizeRequest(t,i,s){this.logger.trace("1tzef5",i);const c=vo(JSON.stringify(t));if(this.setTemporaryCache(gt.REQUEST_PARAMS,c,!0),s){const u=vo(s);this.setTemporaryCache(gt.VERIFIER,u,!0)}}getCachedRequest(t){this.logger.trace("0uen20",t);const i=this.getTemporaryCache(gt.REQUEST_PARAMS,t,!0);if(!i)throw Z(L0);const s=this.getTemporaryCache(gt.VERIFIER,t,!0);let c,u="";try{c=JSON.parse(un(i)),s&&(u=un(s))}catch{throw this.logger.errorPii("0ewsey",t),this.logger.error("0tvdic",t),Z(P0)}return[c,u]}getCachedNativeRequest(){this.logger.trace("1yxcdm","");const t=this.getTemporaryCache(gt.NATIVE_REQUEST,"",!0);if(!t)return this.logger.trace("0mnxd4",""),null;const i=this.validateAndParseJson(t);return i||(this.logger.error("0rrkip",""),null)}isInteractionInProgress(t){const i=this.getInteractionInProgress()?.clientId;return t?i===this.clientId:!!i}getInteractionInProgress(){const t=`${Nt}.${gt.INTERACTION_STATUS_KEY}`,i=this.getTemporaryCache(t,"",!1);try{return i?JSON.parse(i):null}catch{return this.logger.error("0jjyys",""),this.removeTemporaryItem(t),this.resetRequestCache(""),mS(window),null}}setInteractionInProgress(t,i=ta.SIGNIN,s=!1,c=""){const u=`${Nt}.${gt.INTERACTION_STATUS_KEY}`;if(t){if(this.getInteractionInProgress())if(s)this.logger.warning("1pmscr",c),yN(this.logger,c),this.removeTemporaryItem(u);else throw Z(N0);this.setTemporaryCache(u,JSON.stringify({clientId:this.clientId,type:i}),!1)}else!t&&this.getInteractionInProgress()?.clientId===this.clientId&&this.removeTemporaryItem(u)}async hydrateCache(t,i){const s=Hf(t.account?.homeAccountId,t.account?.environment,t.idToken,this.clientId,t.tenantId),c=Bf(t.account?.homeAccountId,t.account.environment,t.accessToken,this.clientId,t.tenantId,t.scopes.join(" "),t.expiresOn?Jv(t.expiresOn):0,t.extExpiresOn?Jv(t.extExpiresOn):0,un,void 0,t.tokenType,void 0,i.sshKid),u={idToken:s,accessToken:c};return this.saveCacheRecord(u,t.correlationId,Da(Si(t.idToken,un)))}async saveCacheRecord(t,i,s,c){try{await super.saveCacheRecord(t,i,s,c)}catch(u){if(u instanceof Fr&&this.performanceClient&&i)try{const h=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:h.refreshToken.length,cacheIdCount:h.idToken.length,cacheAtCount:h.accessToken.length},i)}catch{}throw u}}}function AC(r,t,i,s){try{switch(t){case Tn.LocalStorage:return new gR(r,i,s);case Tn.SessionStorage:return new pR;case Tn.MemoryStorage:default:break}}catch(c){i.error(c,"")}return new Yl}const vR=(r,t,i,s)=>{const c={cacheLocation:Tn.MemoryStorage,cacheRetentionDays:5};return new tf(r,c,Cl,t,i,s)};function CR(r,t,i,s,c){return r.verbose("1yd030",s),i?t.getAllAccounts(c,s):[]}function bR(r,t,i,s){if(t.trace("0u7b90",s),Object.keys(r).length===0)return t.warning("1kz0cu",s),null;const c=i.getAccountInfoFilteredBy(r,s);return c?(t.verbose("0btgll",s),c):(t.verbose("0ltaj5",s),null)}function SR(r,t,i){t.setActiveAccount(r,i)}function _R(r,t){return r.getActiveAccount(t)}const ER="msal.broadcast.event";class AR{constructor(t){this.eventCallbacks=new Map,this.logger=t||new zn({}),typeof BroadcastChannel<"u"&&(this.broadcastChannel=new BroadcastChannel(ER)),this.invokeCrossTabCallbacks=this.invokeCrossTabCallbacks.bind(this)}addEventCallback(t,i,s){if(typeof window<"u"){const c=s||Wh();return this.eventCallbacks.has(c)?(this.logger.error("1578i0",""),null):(this.eventCallbacks.set(c,[t,i||[]]),this.logger.verbose("1cnec4",""),c)}return null}removeEventCallback(t){this.eventCallbacks.delete(t),this.logger.verbose("12zotd","")}emitEvent(t,i,s,c){const u={eventType:t,interactionType:i||null,payload:s||null,error:c||null,timestamp:Date.now()};switch(t){case oe.LOGIN_SUCCESS:case oe.LOGOUT_SUCCESS:case oe.ACTIVE_ACCOUNT_CHANGED:this.broadcastChannel?.postMessage(u)}this.invokeCallbacks(u)}invokeCallbacks(t){this.eventCallbacks.forEach(([i,s],c)=>{(s.length===0||s.includes(t.eventType))&&(this.logger.verbose("15jpwk",""),i.apply(null,[t]))})}invokeCrossTabCallbacks(t){const i=t.data;this.invokeCallbacks(i)}subscribeCrossTab(){this.broadcastChannel?.addEventListener("message",this.invokeCrossTabCallbacks)}unsubscribeCrossTab(){this.broadcastChannel?.removeEventListener("message",this.invokeCrossTabCallbacks)}}class SS{constructor(t,i,s,c,u,h,m,g,p){this.config=t,this.browserStorage=i,this.browserCrypto=s,this.networkClient=this.config.system.networkClient,this.eventHandler=u,this.navigationClient=h,this.platformAuthProvider=p,this.correlationId=g,this.logger=c.clone(_n.MSAL_SKU,Ka),this.performanceClient=m}}function wl(r,t,i,s){i.verbose("0bd1la",s);const c=r||t||"";return ke.getAbsoluteUrl(c,ia())}function Wt(r,t,i,s,c,u){c.verbose("1p12tq",i);const h={clientId:t,correlationId:i,apiId:r,forceRefresh:!1,wrapperSKU:s.getWrapperMetadata()[0],wrapperVer:s.getWrapperMetadata()[1]};return new yo(h,s)}async function _i(r,t,i,s,c,u,h,m,g){const p=m&&m.hasOwnProperty("instance_aware")?m.instance_aware:void 0,v={protocolMode:r.system.protocolMode,OIDCOptions:r.auth.OIDCOptions,knownAuthorities:r.auth.knownAuthorities,cloudDiscoveryMetadata:r.auth.cloudDiscoveryMetadata,authorityMetadata:r.auth.authorityMetadata},C=u||r.auth.authority,S=p?.length?p==="true":r.auth.instanceAware,x=g&&S?r.auth.authority.replace(ke.getDomainFromUrl(C),g.environment):C,T=Jt.generateAuthority(x,h||r.auth.azureCloudOptions),N=await z(Jb,zN,c,i,t)(T,r.system.networkClient,s,v,c,t,i);if(g&&!N.isAlias(g.environment))throw Ge(yw);return N}async function rm(r,t,i,s,c){if(c)try{r.removeAccount(c,s),i.verbose("0s4z6h",s)}catch{i.error("0mgg1d",s)}else try{i.verbose("0zj631",s),r.clear(s),await t.clearKeystore(s)}catch{i.error("12ih0c",s)}}async function sm(r,t,i,s,c){const u=r.authority||t.auth.authority,h=[...r&&r.scopes||[]],m={...r,correlationId:r.correlationId,authority:u,scopes:h};if(!m.authenticationScheme)m.authenticationScheme=Le.BEARER,s.verbose("1l4fwv",c);else{if(m.authenticationScheme===Le.SSH){if(!r.sshJwk)throw Ge(bf);if(!r.sshKid)throw Ge(mw)}s.verbose("1ecmns",c)}return m}async function TR(r,t,i,s,c){const u=await z(sm,tm,c,s,r.correlationId)(r,i,s,c,r.correlationId);return{...r,...u,account:t,forceRefresh:r.forceRefresh||!1}}function _S(r,t){let i;const s=r.httpMethod;if(t===Zt.EAR){if(s&&s!==Kr.POST)throw Ge(vw);i=Kr.POST}else i=s||Kr.GET;return i}class es extends SS{initializeLogoutRequest(t){this.logger.verbose("0546u4",this.correlationId);const i={correlationId:this.correlationId,...t};if(t)if(t.logoutHint)this.logger.verbose("12k4l4",this.correlationId);else if(t.account){const s=this.getLogoutHintFromIdTokenClaims(t.account);s&&(this.logger.verbose("0st5di",this.correlationId),i.logoutHint=s)}else this.logger.verbose("0pdtc3",this.correlationId);else this.logger.verbose("07ndze",this.correlationId);return!t||t.postLogoutRedirectUri!==null?t&&t.postLogoutRedirectUri?(this.logger.verbose("1vamm6",i.correlationId),i.postLogoutRedirectUri=ke.getAbsoluteUrl(t.postLogoutRedirectUri,ia())):this.config.auth.postLogoutRedirectUri===null?this.logger.verbose("15m5g7",i.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("1f4xlz",i.correlationId),i.postLogoutRedirectUri=ke.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,ia())):(this.logger.verbose("17s5rf",i.correlationId),i.postLogoutRedirectUri=ke.getAbsoluteUrl(ia(),ia())):this.logger.verbose("0ljv63",i.correlationId),i}getLogoutHintFromIdTokenClaims(t){const i=t.idTokenClaims;if(i){if(i.login_hint)return i.login_hint;this.logger.verbose("0mvp54",this.correlationId)}else this.logger.verbose("1e7bdp",this.correlationId);return null}async createAuthCodeClient(t){const i=await z(this.getClientConfiguration.bind(this),ql,this.logger,this.performanceClient,this.correlationId)(t);return new Xb(i,this.performanceClient)}async getClientConfiguration(t){const{serverTelemetryManager:i,requestAuthority:s,requestAzureCloudOptions:c,requestExtraQueryParameters:u,account:h}=t,m=t.authority||await z(_i,Ua,this.logger,this.performanceClient,this.correlationId)(this.config,this.correlationId,this.performanceClient,this.browserStorage,this.logger,s,c,u,h),g=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:m,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:this.config.auth.redirectUri},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:g.loggerCallback,piiLoggingEnabled:g.piiLoggingEnabled,logLevel:g.logLevel,correlationId:this.correlationId},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:i,libraryInfo:{sku:_n.MSAL_SKU,version:Ka,cpu:"",os:""},telemetry:this.config.telemetry}}}async function Ql(r,t,i,s,c,u,h,m){const g=wl(r.redirectUri,i.auth.redirectUri,u,m),p={interactionType:t},v=Ax(s,r&&r.state||"",p),S={...await z(sm,tm,u,h,m)({...r,correlationId:m},i,h,u,m),redirectUri:g,state:v,nonce:r.nonce||Ha(),responseMode:i.auth.OIDCOptions.responseMode},x={...S,httpMethod:_S(S,i.system.protocolMode)};if(r.loginHint||r.sid)return x;const T=r.account||c.getActiveAccount(m);return T&&(u.verbose("1eqlb3",m),u.verbosePii("0tf99t",m),x.account=T),x}function wR(r,t){if(!t)return null;try{return _o(r.base64Decode,t).libraryState.meta}catch{throw Y(go)}}function fo(r,t,i,s){const c=vl(r);if(!c)throw Ob(r)?(i.error("13pl0s",s),i.errorPii("1097vx",s),Z(w0)):(i.error("18h0l1",s),Z(T0));return c}function xR(r,t,i){if(!r.state)throw Z(Vf);const s=wR(t,r.state);if(!s)throw Z(iS);if(s.interactionType!==i)throw Z(x0)}class ES{constructor(t,i,s,c,u){this.authModule=t,this.browserStorage=i,this.authCodeRequest=s,this.logger=c,this.performanceClient=u}async handleCodeResponse(t,i){let s;try{s=h0(t,i.state)}catch(c){throw c instanceof qa&&c.subError===$h?Z($h):c}return z(this.handleCodeResponseFromServer.bind(this),Kb,this.logger,this.performanceClient,i.correlationId)(s,i)}async handleCodeResponseFromServer(t,i,s=!0){if(this.logger.trace("0mf2hb",i.correlationId),this.authCodeRequest.code=t.code,s&&(t.nonce=i.nonce||void 0),t.state=i.state,t.client_info)this.authCodeRequest.clientInfo=t.client_info;else{const u=this.createCcsCredentials(i);u&&(this.authCodeRequest.ccsCredential=u)}return await z(this.authModule.acquireToken.bind(this.authModule),PN,this.logger,this.performanceClient,i.correlationId)(this.authCodeRequest,t)}createCcsCredentials(t){return t.account?{credential:t.account.homeAccountId,type:Ln.HOME_ACCOUNT_ID}:t.loginHint?{credential:t.loginHint,type:Ln.UPN}:null}}const NR="ContentError",RR="PageException",jR="user_switch";const OR="USER_INTERACTION_REQUIRED",IR="USER_CANCEL",kR="NO_NETWORK",MR="PERSISTENT_ERROR",DR="DISABLED",UR="ACCOUNT_UNAVAILABLE",LR="UX_NOT_ALLOWED";const PR=-2147186943;class $n extends Ke{constructor(t,i,s){super(t,i||Fl(t)),Object.setPrototypeOf(this,$n.prototype),this.name="NativeAuthError",this.ext=s}}function Hr(r){if(r.ext&&r.ext.status&&(r.ext.status===MR||r.ext.status===DR)||r.ext&&r.ext.error&&r.ext.error===PR)return!0;switch(r.errorCode){case NR:case RR:return!0;default:return!1}}function xl(r,t,i){if(i&&i.status)switch(i.status){case UR:return _l(Cx,Fl(r));case OR:return new wn(r,t);case IR:return Z($h);case kR:return Z(Zh);case LR:return _l(Hb)}return new $n(r,t,i)}class AS extends es{async acquireToken(t){const i=Wt(Me.acquireTokenSilent_silentFlow,this.config.auth.clientId,this.correlationId,this.browserStorage,this.logger),s=await z(this.getClientConfiguration.bind(this),ql,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:i,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,account:t.account}),c=new l0(s,this.performanceClient);this.logger.verbose("0wa871",this.correlationId);try{const h=(await z(c.acquireCachedToken.bind(c),DN,this.logger,this.performanceClient,t.correlationId)(t))[0];return this.performanceClient.addFields({fromCache:!0},t.correlationId),h}catch(u){throw u instanceof Ao&&u.errorCode===rS&&this.logger.verbose("06wena",this.correlationId),u}}logout(t){this.logger.verbose("1rkurh",this.correlationId);const i=this.initializeLogoutRequest(t);return rm(this.browserStorage,this.browserCrypto,this.logger,this.correlationId,i.account)}}class cl extends SS{constructor(t,i,s,c,u,h,m,g,p,v,C,S){super(t,i,s,c,u,h,g,S,p),this.apiId=m,this.accountId=v,this.platformAuthProvider=p,this.nativeStorageManager=C,this.silentCacheClient=new AS(t,this.nativeStorageManager,s,c,u,h,g,S,p);const x=this.platformAuthProvider.getExtensionName();this.skus=yo.makeExtraSkuString({libraryName:_n.MSAL_SKU,libraryVersion:Ka,extensionName:x,extensionVersion:this.platformAuthProvider.getExtensionVersion()})}addRequestSKUs(t){t.extraParameters={...t.extraParameters,[iw]:this.skus}}async acquireToken(t,i){this.logger.trace("03qeos",this.correlationId);const s=this.performanceClient.startMeasurement(vS,t.correlationId),c=Hn(),u=Wt(this.apiId,this.config.auth.clientId,this.correlationId,this.browserStorage,this.logger);try{const h=await this.initializeNativeRequest(t);try{const g=await this.acquireTokensFromCache(this.accountId,h);return s.end({success:!0,isNativeBroker:!1,fromCache:!0}),g}catch(g){if(i===zt.AccessToken)throw this.logger.info("0eitbc",this.correlationId),g;this.logger.info("0957j1",this.correlationId)}const m=await this.platformAuthProvider.sendMessage(h);return await this.handleNativeResponse(m,h,c).then(g=>(s.end({success:!0,isNativeBroker:!0,requestId:g.requestId}),u.clearNativeBrokerErrorCode(),g)).catch(g=>{throw s.end({success:!1,errorCode:g.errorCode,subErrorCode:g.subError,isNativeBroker:!0}),g})}catch(h){throw h instanceof $n&&u.setNativeBrokerErrorCode(h.errorCode),h}}createSilentCacheRequest(t,i){return{authority:t.authority,correlationId:this.correlationId,scopes:kt.fromString(t.scope).asArray(),account:i,forceRefresh:!1}}async acquireTokensFromCache(t,i){if(!t)throw this.logger.warning("1ndf3e",this.correlationId),Y(Bv);const s=this.browserStorage.getBaseAccountInfo({nativeAccountId:t},i.correlationId);if(!s)throw Y(Bv);try{const c=this.createSilentCacheRequest(i,s),u=await this.silentCacheClient.acquireToken(c),h={...s,idTokenClaims:u?.idTokenClaims,idToken:u?.idToken};return{...u,account:h}}catch(c){throw c}}async acquireTokenRedirect(t,i,s){this.logger.trace("0luikq",this.correlationId);const c=await this.initializeNativeRequest(t),u=s?.navigateToLoginRequestUrl??!0;try{await this.platformAuthProvider.sendMessage(c)}catch(g){if(g instanceof $n&&(Wt(this.apiId,this.config.auth.clientId,this.correlationId,this.browserStorage,this.logger).setNativeBrokerErrorCode(g.errorCode),Hr(g)))throw g}this.browserStorage.setTemporaryCache(gt.NATIVE_REQUEST,JSON.stringify(c),!0);const h={apiId:Me.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},m=u?window.location.href:wl(t.redirectUri,this.config.auth.redirectUri,this.logger,this.correlationId);i.end({success:!0}),await this.navigationClient.navigateExternal(m,h)}async handleRedirectPromise(t,i){if(this.logger.trace("1c5lhw",this.correlationId),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("0le6uv",this.correlationId),null;const s=this.browserStorage.getCachedNativeRequest();if(!s)return this.logger.verbose("0a6zjb",this.correlationId),t&&i&&t?.addFields({errorCode:"no_cached_request"},i),null;const{prompt:c,...u}=s;c&&this.logger.verbose("0ac34v",this.correlationId),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(gt.NATIVE_REQUEST));const h=Hn();try{this.logger.verbose("003x5a",this.correlationId);const m=await this.platformAuthProvider.sendMessage(u),g=await this.handleNativeResponse(m,u,h);return Wt(this.apiId,this.config.auth.clientId,this.correlationId,this.browserStorage,this.logger).clearNativeBrokerErrorCode(),g}catch(m){throw m}}logout(){return this.logger.trace("0u2sjm",this.correlationId),Promise.reject("Logout not implemented yet")}async handleNativeResponse(t,i,s){this.logger.trace("1bojln",this.correlationId);const c=Si(t.id_token,un),u=this.createHomeAccountIdentifier(t,c),h=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:i.accountId},this.correlationId)?.homeAccountId;if(i.extraParameters?.child_client_id&&t.account.id!==i.accountId)this.logger.info("1ub1in",this.correlationId);else if(u!==h&&t.account.id!==i.accountId)throw xl(jR);const m=await _i(this.config,this.correlationId,this.performanceClient,this.browserStorage,this.logger,i.authority),g=Fb(this.browserStorage,m,u,un,this.correlationId,c,t.client_info,void 0,c.tid,void 0,t.account.id);t.expires_in=Number(t.expires_in);const p=await this.generateAuthenticationResult(t,i,c,g,m.canonicalAuthority,s);return await this.cacheAccount(g,Da(c)),await this.cacheNativeTokens(t,i,u,c,t.access_token,p.tenantId,s),p}createHomeAccountIdentifier(t,i){return Db(t.client_info||"",Dn.Default,this.logger,this.browserCrypto,this.correlationId,i)}generateScopes(t,i){return i?kt.fromString(i):kt.fromString(t)}async generatePopAccessToken(t,i){if(i.tokenType===Le.POP&&i.signPopToken){if(t.shr)return this.logger.trace("0coqhu",this.correlationId),t.shr;const s=new Jr(this.browserCrypto,this.performanceClient),c={resourceRequestMethod:i.resourceRequestMethod,resourceRequestUri:i.resourceRequestUri,shrClaims:i.shrClaims,shrNonce:i.shrNonce,correlationId:this.correlationId};if(!i.keyId)throw Y(Sb);return s.signPopToken(t.access_token,i.keyId,c)}else return t.access_token}async generateAuthenticationResult(t,i,s,c,u,h){const m=this.addTelemetryFromNativeResponse(t.properties.MATS),g=this.generateScopes(i.scope,t.scope),p=t.account.properties||{},v=p.UID||s.oid||s.sub||"",C=p.TenantId||s.tid||"",S=kf(oa(c),void 0,s,t.id_token);S.nativeAccountId!==t.account.id&&(S.nativeAccountId=t.account.id);const x=await this.generatePopAccessToken(t,i),T=i.tokenType===Le.POP?Le.POP:Le.BEARER;return{authority:u,uniqueId:v,tenantId:C,scopes:g.asArray(),account:S,idToken:t.id_token,idTokenClaims:s,accessToken:x,fromCache:m?this.isResponseFromCache(m):!1,expiresOn:al(h+t.expires_in),tokenType:T,correlationId:this.correlationId,state:t.state,fromPlatformBroker:!0}}async cacheAccount(t,i){await this.browserStorage.setAccount(t,this.correlationId,i),this.browserStorage.removeAccountContext(oa(t),this.correlationId)}cacheNativeTokens(t,i,s,c,u,h,m){const g=Hf(s,i.authority,t.id_token||"",i.clientId,c.tid||""),p=i.tokenType===Le.POP?Ov:(typeof t.expires_in=="string"?parseInt(t.expires_in,10):t.expires_in)||0,v=m+p,C=this.generateScopes(t.scope,i.scope),S=Bf(s,i.authority,u,i.clientId,c.tid||h,C.printScopes(),v,0,un,void 0,i.tokenType,void 0,i.keyId),x={idToken:g,accessToken:S};return this.nativeStorageManager.saveCacheRecord(x,this.correlationId,Da(c),i.storeInCache)}getExpiresInValue(t,i){return t===Le.POP?Ov:(typeof i=="string"?parseInt(i,10):i)||0}addTelemetryFromNativeResponse(t){const i=this.getMATSFromResponse(t);return i?(this.performanceClient.addFields({extensionId:this.platformAuthProvider.getExtensionId(),extensionVersion:this.platformAuthProvider.getExtensionVersion(),matsBrokerVersion:i.broker_version,matsAccountJoinOnStart:i.account_join_on_start,matsAccountJoinOnEnd:i.account_join_on_end,matsDeviceJoin:i.device_join,matsPromptBehavior:i.prompt_behavior,matsApiErrorCode:i.api_error_code,matsUiVisible:i.ui_visible,matsSilentCode:i.silent_code,matsSilentBiSubCode:i.silent_bi_sub_code,matsSilentMessage:i.silent_message,matsSilentStatus:i.silent_status,matsHttpStatus:i.http_status,matsHttpEventCount:i.http_event_count},this.correlationId),i):null}getMATSFromResponse(t){if(t)try{return JSON.parse(t)}catch{this.logger.error("0b3l57",this.correlationId)}return null}isResponseFromCache(t){return typeof t.is_cached>"u"?(this.logger.verbose("1okqev",this.correlationId),!1):!!t.is_cached}async initializeNativeRequest(t){this.logger.trace("04j6wj",this.correlationId);const i=await this.getCanonicalAuthority(t),{scopes:s,...c}=t,u=new kt(s||[]);u.appendScopes(Zr);const h={...c,accountId:this.accountId,clientId:this.config.auth.clientId,authority:i.urlString,scope:u.printScopes(),redirectUri:wl(t.redirectUri,this.config.auth.redirectUri,this.logger,this.correlationId),prompt:this.getPrompt(t.prompt),correlationId:this.correlationId,tokenType:t.authenticationScheme,windowTitleSubstring:document.title,extraParameters:{...t.extraParameters},extendedExpiryToken:!1,keyId:t.popKid};if(h.signPopToken&&t.popKid)throw Z(J0);if(this.handleExtraBrokerParams(h),h.extraParameters=h.extraParameters||{},h.extraParameters.telemetry=En.MATS_TELEMETRY,t.authenticationScheme===Le.POP){const m={resourceRequestUri:t.resourceRequestUri,resourceRequestMethod:t.resourceRequestMethod,shrClaims:t.shrClaims,shrNonce:t.shrNonce,correlationId:this.correlationId},g=new Jr(this.browserCrypto,this.performanceClient);let p;if(h.keyId)p=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:h.keyId})),h.signPopToken=!1;else{const v=await z(g.generateCnf.bind(g),Eo,this.logger,this.performanceClient,this.correlationId)(m,this.logger);p=v.reqCnfString,h.keyId=v.kid,h.signPopToken=!0}h.reqCnf=p}return this.addRequestSKUs(h),h}async getCanonicalAuthority(t){const i=t.authority||this.config.auth.authority,{azureCloudOptions:s,account:c}=t;c&&await _i(this.config,this.correlationId,this.performanceClient,this.browserStorage,this.logger,i,s,void 0,c);const u=new ke(i);return u.validateAsUri(),u}getPrompt(t){switch(this.apiId){case Me.ssoSilent:case Me.acquireTokenSilent_silentFlow:return this.logger.trace("1hiwaz",this.correlationId),Xt.NONE}if(!t){this.logger.trace("1qlu04",this.correlationId);return}switch(t){case Xt.NONE:case Xt.CONSENT:case Xt.LOGIN:return this.logger.trace("1ynje4",this.correlationId),t;default:throw this.logger.trace("0nkr6q",this.correlationId),Z(Y0)}}handleExtraBrokerParams(t){const i=t.extraParameters&&t.extraParameters.hasOwnProperty(gl)&&t.extraParameters.hasOwnProperty(pl)&&t.extraParameters.hasOwnProperty(Pa);if(!t.embeddedClientId&&!i)return;let s="";const c=t.redirectUri;t.embeddedClientId?(t.redirectUri=this.config.auth.redirectUri,s=t.embeddedClientId):t.extraParameters&&(t.redirectUri=t.extraParameters[pl],s=t.extraParameters[Pa]),t.extraParameters={child_client_id:s,child_redirect_uri:c},this.performanceClient?.addFields({embeddedClientId:s,embeddedRedirectUri:c},t.correlationId)}}async function om(r,t,i,s,c){const u=d0({...r.auth,authority:t},i,s,c);if(xf(u,{sku:_n.MSAL_SKU,version:Ka,os:"",cpu:""}),r.system.protocolMode!==Zt.OIDC&&Nf(u,r.telemetry.application),i.platformBroker&&(Lw(u),i.authenticationScheme===Le.POP)){const h=new Ai(s,c),m=new Jr(h,c);let g;i.popKid?g=h.encodeKid(i.popKid):g=(await z(m.generateCnf.bind(m),Eo,s,c,i.correlationId)(i,s)).reqCnfString,Of(u,g)}return Dl(u,i.correlationId,c),u}async function cm(r,t,i,s,c){if(!i.codeChallenge)throw Ge(fb);const u=await z(om,UN,s,c,i.correlationId)(r,t,i,s,c);return Sf(u,mf.CODE),Rf(u,i.codeChallenge,ff),Zn(u,{...i.extraQueryParameters,...i.extraParameters}),Kf(t,u)}async function lm(r,t,i,s,c,u){if(!s.earJwk)throw Z(nS);const h=await om(t,i,s,c,u);Sf(h,mf.IDTOKEN_TOKEN_REFRESHTOKEN),Qw(h,s.earJwk),Rf(h,s.codeChallenge,ff),Zn(h,{...s.extraParameters});const m=new Map;Zn(m,s.extraQueryParameters||{});const g=Kf(i,m);return TS(r,g,h)}async function um(r,t,i,s,c,u){const h=await om(t,i,s,c,u);Sf(h,mf.CODE),Rf(h,s.codeChallenge,s.codeChallengeMethod||ff),Zn(h,{...s.extraParameters});const m=new Map;Zn(m,s.extraQueryParameters||{});const g=Kf(i,m);return TS(r,g,h)}function TS(r,t,i){const s=r.createElement("form");return s.method="post",s.action=t,i.forEach((c,u)=>{const h=r.createElement("input");h.hidden=!0,h.name=u,h.value=c,s.appendChild(h)}),r.body.appendChild(s),s}async function wS(r,t,i,s,c,u,h,m,g,p){if(m.verbose("11qcow",r.correlationId),!p)throw Z(oS);const v=new Ai(m,g),C=new cl(s,c,v,m,h,s.system.navigationClient,i,g,p,t,u,r.correlationId),{userRequestState:S}=_o(v.base64Decode,r.state);return z(C.acquireToken.bind(C),vS,m,g,r.correlationId)({...r,state:S,prompt:void 0})}async function Qr(r,t,i,s,c,u,h,m,g,p,v,C){if(Xn.removeThrottle(h,c.auth.clientId,r),t.accountId)return z(wS,CS,p,v,r.correlationId)(r,t.accountId,s,c,h,m,g,p,v,C);const S={...r,code:t.code||"",codeVerifier:i},x=new ES(u,h,S,p,v);return await z(x.handleCodeResponse.bind(x),LN,p,v,r.correlationId)(t,r)}async function dm(r,t,i,s,c,u,h,m,g,p,v){if(Xn.removeThrottle(u,s.auth.clientId,r),$b(t,r.state),!t.ear_jwe)throw Z(A0);if(!r.earJwk)throw Z(nS);const C=JSON.parse(await z(uN,WN,g,p,r.correlationId)(r.earJwk,t.ear_jwe));if(C.accountId)return z(wS,CS,g,p,r.correlationId)(r,C.accountId,i,s,u,h,m,g,p,v);const S=new za(s.auth.clientId,u,new Ai(g,p),g,p,null,null);S.validateTokenResponse(C,r.correlationId);const x={code:"",state:r.state,nonce:r.nonce,client_info:C.client_info,cloud_graph_host_name:C.cloud_graph_host_name,cloud_instance_host_name:C.cloud_instance_host_name,cloud_instance_name:C.cloud_instance_name,msgraph_host:C.msgraph_host};return await z(S.handleServerTokenResponse.bind(S),zf,g,p,r.correlationId)(C,c,Hn(),r,x,void 0,void 0,void 0,void 0)}const zR=32;async function Fa(r,t,i){const s=Pn(HR,qN,t,r,i)(r,t,i),c=await z(BR,VN,t,r,i)(s,r,t,i);return{verifier:s,challenge:c}}function HR(r,t,i){try{const s=new Uint8Array(zR);return Pn(rN,QN,t,r,i)(s),ca(s)}catch{throw Z(tS)}}async function BR(r,t,i,s){try{const c=await z(uS,YN,i,t,s)(r);return ca(new Uint8Array(c))}catch{throw Z(tS)}}class Nl{navigateInternal(t,i){return Nl.defaultNavigateWindow(t,i)}navigateExternal(t,i){return Nl.defaultNavigateWindow(t,i)}static defaultNavigateWindow(t,i){return i.noHistory?window.location.replace(t):window.location.assign(t),new Promise((s,c)=>{setTimeout(()=>{c(Z(Al,"failed_to_redirect"))},i.timeout)})}}class KR{async sendGetRequestAsync(t,i){let s,c={},u=0;const h=TC(i);try{s=await fetch(t,{method:rC.GET,headers:h})}catch(m){throw lo(Z(window.navigator.onLine?H0:Zh),void 0,void 0,m)}c=wC(s.headers);try{return u=s.status,{headers:c,body:await s.json(),status:u}}catch(m){throw lo(Z(cC),u,c,m)}}async sendPostRequestAsync(t,i){const s=i&&i.body||"",c=TC(i);let u,h=0,m={};try{u=await fetch(t,{method:rC.POST,headers:c,body:s})}catch(g){throw lo(Z(window.navigator.onLine?z0:Zh),void 0,void 0,g)}m=wC(u.headers);try{return h=u.status,{headers:m,body:await u.json(),status:h}}catch(g){throw lo(Z(cC),h,m,g)}}}function TC(r){try{const t=new Headers;if(!(r&&r.headers))return t;const i=r.headers;return Object.entries(i).forEach(([s,c])=>{t.append(s,c)}),t}catch(t){throw lo(Z(X0),void 0,void 0,t)}}function wC(r){try{const t={};return r.forEach((i,s)=>{t[s]=i}),t}catch{throw Z($0)}}const FR=6e4,GR=1e4,qR=3e4,xS=2e3;function VR({auth:r,cache:t,system:i,telemetry:s},c){const u={clientId:"",authority:`${WC}`,knownAuthorities:[],cloudDiscoveryMetadata:"",authorityMetadata:"",redirectUri:typeof window<"u"&&window.location?window.location.href.split("?")[0].split("#")[0]:"",postLogoutRedirectUri:"",clientCapabilities:[],OIDCOptions:{responseMode:gf.FRAGMENT,defaultScopes:[tb,nb,hf]},azureCloudOptions:{azureCloudInstance:If.None,tenant:""},instanceAware:!1},h={cacheLocation:Tn.SessionStorage,cacheRetentionDays:5},m={loggerCallback:()=>{},logLevel:Ze.Info,piiLoggingEnabled:!1},p={...{...Lb,loggerOptions:m,networkClient:c?new KR:u0,navigationClient:new Nl,popupBridgeTimeout:i?.popupBridgeTimeout||FR,iframeBridgeTimeout:i?.iframeBridgeTimeout||GR,redirectNavigationTimeout:qR,allowRedirectInIframe:!1,navigatePopups:!0,allowPlatformBroker:!1,nativeBrokerHandshakeTimeout:i?.nativeBrokerHandshakeTimeout||xS,protocolMode:Zt.AAD},...i,loggerOptions:i?.loggerOptions||m},v={application:{appName:"",appVersion:""},client:new Ub};if(i?.protocolMode!==Zt.OIDC&&r?.OIDCOptions&&new zn(p.loggerOptions).warning(JSON.stringify(Ge(gw)),""),i?.protocolMode&&i.protocolMode===Zt.OIDC&&p?.allowPlatformBroker)throw Ge(pw);return{auth:{...u,...r,OIDCOptions:{...u.OIDCOptions,...r?.OIDCOptions}},cache:{...h,...t},system:p,telemetry:{...v,...s}}}class Rl{constructor(t,i,s,c){this.logger=t,this.handshakeTimeoutMs=i,this.extensionId=c,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=s,this.handshakeEvent=s.startMeasurement(FN),this.platformAuthType=En.PLATFORM_EXTENSION_PROVIDER}async sendMessage(t){this.logger.trace("0on4p2",t.correlationId);const i={method:ao.GetToken,request:t},s={channel:En.CHANNEL_ID,extensionId:this.extensionId,responseId:Ha(),body:i};this.logger.trace("1qadfi",t.correlationId),this.logger.tracePii("1xm533",t.correlationId),this.messageChannel.port1.postMessage(s);const c=await new Promise((h,m)=>{this.resolvers.set(s.responseId,{resolve:h,reject:m})});return this.validatePlatformBrokerResponse(c)}static async createProvider(t,i,s,c){t.trace("15zfnw",c);try{const u=new Rl(t,i,s,En.PREFERRED_EXTENSION_ID);return await u.sendHandshakeRequest(c),u}catch{const h=new Rl(t,i,s);return await h.sendHandshakeRequest(c),h}}async sendHandshakeRequest(t){this.logger.trace("1dpg9o",t),window.addEventListener("message",this.windowListener,!1);const i={channel:En.CHANNEL_ID,extensionId:this.extensionId,responseId:Ha(),body:{method:ao.HandshakeRequest}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=s=>{this.onChannelMessage(s)},window.postMessage(i,window.origin,[this.messageChannel.port2]),new Promise((s,c)=>{this.handshakeResolvers.set(i.responseId,{resolve:s,reject:c}),this.timeoutId=window.setTimeout(()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),c(Z(q0)),this.handshakeResolvers.delete(i.responseId)},this.handshakeTimeoutMs)})}onWindowMessage(t){const i=Wh();if(this.logger.trace("0jpn5u",i),t.source!==window)return;const s=t.data;if(!(!s.channel||s.channel!==En.CHANNEL_ID)&&!(s.extensionId&&s.extensionId!==this.extensionId)&&s.body.method===ao.HandshakeRequest){const c=this.handshakeResolvers.get(s.responseId);if(!c){this.logger.trace("07buhm",i);return}this.logger.verbose(s.extensionId?"0xrkug":"No extension installed",i),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),c.reject(Z(V0))}}onChannelMessage(t){const i=Wh();this.logger.trace("1py8yf",i);const s=t.data,c=this.resolvers.get(s.responseId),u=this.handshakeResolvers.get(s.responseId);try{const h=s.body.method;if(h===ao.Response){if(!c)return;const m=s.body.response;if(this.logger.trace("19hpgm",i),this.logger.tracePii("179a24",i),m.status!=="Success")c.reject(xl(m.code,m.description,m.ext));else if(m.result)m.result.code&&m.result.description?c.reject(xl(m.result.code,m.result.description,m.result.ext)):c.resolve(m.result);else throw Gh(Jh,"Event does not contain result.");this.resolvers.delete(s.responseId)}else if(h===ao.HandshakeResponse){if(!u){this.logger.trace("082qnt",i);return}clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=s.extensionId,this.extensionVersion=s.body.version,this.logger.verbose("0yf5ib",i),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),u.resolve(),this.handshakeResolvers.delete(s.responseId)}}catch(h){this.logger.error("0xf978",i),this.logger.errorPii("04i99o",i),this.logger.errorPii("0xdvsy",i),c?c.reject(h):u&&u.reject(h)}}validatePlatformBrokerResponse(t){if(t.hasOwnProperty("access_token")&&t.hasOwnProperty("id_token")&&t.hasOwnProperty("client_info")&&t.hasOwnProperty("account")&&t.hasOwnProperty("scope")&&t.hasOwnProperty("expires_in"))return t;throw Gh(Jh,"Response missing expected properties.")}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}getExtensionName(){return this.getExtensionId()===En.PREFERRED_EXTENSION_ID?"chrome":this.getExtensionId()?.length?"unknown":void 0}}class hm{constructor(t,i,s){this.logger=t,this.performanceClient=i,this.correlationId=s,this.platformAuthType=En.PLATFORM_DOM_PROVIDER}static async createProvider(t,i,s){if(t.trace("12mj4a",s),window.navigator?.platformAuthentication&&(await window.navigator.platformAuthentication.getSupportedContracts(En.MICROSOFT_ENTRA_BROKERID))?.includes(En.PLATFORM_DOM_APIS))return t.trace("1h5q1r",s),new hm(t,i,s)}getExtensionId(){return En.MICROSOFT_ENTRA_BROKERID}getExtensionVersion(){return""}getExtensionName(){return En.DOM_API_NAME}async sendMessage(t){this.logger.trace("02bcil",t.correlationId);try{const i=this.initializePlatformDOMRequest(t),s=await window.navigator.platformAuthentication.executeGetToken(i);return this.validatePlatformBrokerResponse(s,t.correlationId)}catch(i){throw this.logger.error("11im7g",t.correlationId),i}}initializePlatformDOMRequest(t){this.logger.trace("15d6yv",t.correlationId);const{accountId:i,clientId:s,authority:c,scope:u,redirectUri:h,correlationId:m,state:g,storeInCache:p,embeddedClientId:v,extraParameters:C,...S}=t,x=this.getDOMExtraParams(S);return{accountId:i,brokerId:this.getExtensionId(),authority:c,clientId:s,correlationId:m||this.correlationId,extraParameters:{...C,...x},isSecurityTokenService:!1,redirectUri:h,scope:u,state:g,storeInCache:p,embeddedClientId:v}}validatePlatformBrokerResponse(t,i){if(t.hasOwnProperty("isSuccess")){if(t.hasOwnProperty("accessToken")&&t.hasOwnProperty("idToken")&&t.hasOwnProperty("clientInfo")&&t.hasOwnProperty("account")&&t.hasOwnProperty("scopes")&&t.hasOwnProperty("expiresIn"))return this.logger.trace("0h4vei",i),this.convertToPlatformBrokerResponse(t,i);if(t.hasOwnProperty("error")){const s=t;if(s.isSuccess===!1&&s.error&&s.error.code)throw this.logger.trace("0g92vm",i),xl(s.error.code,s.error.description,{error:parseInt(s.error.errorCode),protocol_error:s.error.protocolError,status:s.error.status,properties:s.error.properties})}}throw Gh(Jh,"Response missing expected properties.")}convertToPlatformBrokerResponse(t,i){return this.logger.trace("14913t",i),{access_token:t.accessToken,id_token:t.idToken,client_info:t.clientInfo,account:t.account,expires_in:t.expiresIn,scope:t.scopes,state:t.state||"",properties:t.properties||{},extendedLifetimeToken:t.extendedLifetimeToken??!1,shr:t.proofOfPossessionPayload}}getDOMExtraParams(t){return{...Object.entries(t).reduce((c,[u,h])=>(c[u]=String(h),c),{})}}}async function YR(r,t,i,s){r.trace("134j0v",i);const c=QR();r.trace("04c81g",i);let u;try{c&&(u=await hm.createProvider(r,t,i)),u||(r.trace("0l3na8",i),u=await Rl.createProvider(r,s||xS,t,i))}catch(h){r.trace("0icbd7",h)}return u}function QR(){let r;try{return r=window[Tn.SessionStorage],r?.getItem(dR)==="true"}catch{return!1}}function Co(r,t,i,s,c){if(t.trace("0uko3r",i),!r.system.allowPlatformBroker)return t.trace("04hozs",i),!1;if(!s)return t.trace("0kvv1r",i),!1;if(c)switch(c){case Le.BEARER:case Le.POP:return t.trace("18tev1",i),!0;default:return t.trace("1dd2nh",i),!1}return!0}class JR extends es{constructor(t,i,s,c,u,h,m,g,p,v){super(t,i,s,c,u,h,m,p,v),this.nativeStorage=g,this.eventHandler=u}acquireToken(t,i){let s;try{if(s={popupName:this.generatePopupName(t.scopes||Zr,t.authority||this.config.auth.authority),popupWindowAttributes:t.popupWindowAttributes||{},popupWindowParent:t.popupWindowParent??window},this.performanceClient.addFields({isAsyncPopup:!this.config.system.navigatePopups},this.correlationId),this.config.system.navigatePopups){const u={...t,httpMethod:_S(t,this.config.system.protocolMode)};return this.logger.verbose("1f9ok3",this.correlationId),s.popup=this.openSizedPopup("about:blank",s),this.acquireTokenPopupAsync(u,s,i)}else return this.logger.verbose("162h4u",this.correlationId),this.acquireTokenPopupAsync(t,s,i)}catch(c){return Promise.reject(c)}}logout(t){try{this.logger.verbose("068rup",this.correlationId);const i=this.initializeLogoutRequest(t),s={popupName:this.generateLogoutPopupName(i),popupWindowAttributes:t?.popupWindowAttributes||{},popupWindowParent:t?.popupWindowParent??window},c=t&&t.authority,u=t&&t.mainWindowRedirectUri;return this.config.system.navigatePopups?(this.logger.verbose("1a28da",this.correlationId),s.popup=this.openSizedPopup("about:blank",s),this.logoutPopupAsync(i,s,c,u)):(this.logger.verbose("1phd8u",this.correlationId),this.logoutPopupAsync(i,s,c,u))}catch(i){return Promise.reject(i)}}async acquireTokenPopupAsync(t,i,s){this.logger.verbose("1g77pg",this.correlationId);const c=await z(Ql,Vl,this.logger,this.performanceClient,this.correlationId)(t,le.Popup,this.config,this.browserCrypto,this.browserStorage,this.logger,this.performanceClient,this.correlationId);i.popup&&yS(c.authority);const u=Co(this.config,this.logger,this.correlationId,this.platformAuthProvider,t.authenticationScheme);return c.platformBroker=u,this.config.system.protocolMode===Zt.EAR?this.executeEarFlow(c,i,s):this.executeCodeFlow(c,i,s)}async executeCodeFlow(t,i,s){const c=t.correlationId,u=Wt(Me.acquireTokenPopup,this.config.auth.clientId,this.correlationId,this.browserStorage,this.logger),h=s||await z(Fa,Ba,this.logger,this.performanceClient,c)(this.performanceClient,this.logger,c),m={...t,codeChallenge:h.challenge};try{const g=await z(this.createAuthCodeClient.bind(this),sa,this.logger,this.performanceClient,c)({serverTelemetryManager:u,requestAuthority:m.authority,requestAzureCloudOptions:m.azureCloudOptions,requestExtraQueryParameters:m.extraQueryParameters,account:m.account});if(m.httpMethod===Kr.POST)return await this.executeCodeFlowWithPost(m,i,g,h.verifier);{const p=await z(cm,Pf,this.logger,this.performanceClient,c)(this.config,g.authority,m,this.logger,this.performanceClient),v=this.initiateAuthRequest(p,i);this.eventHandler.emitEvent(oe.POPUP_OPENED,le.Popup,{popupWindow:v},null);const C=await Br(this.config.system.popupBridgeTimeout,this.logger,this.browserCrypto,t),S=Pn(fo,ho,this.logger,this.performanceClient,this.correlationId)(C,this.config.auth.OIDCOptions.responseMode,this.logger,this.correlationId);return await z(Qr,qr,this.logger,this.performanceClient,c)(t,S,h.verifier,Me.acquireTokenPopup,this.config,g,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}}catch(g){throw i.popup?.close(),g instanceof Ke&&(g.setCorrelationId(this.correlationId),u.cacheFailedRequest(g)),g}}async executeEarFlow(t,i,s){const{correlationId:c,authority:u,azureCloudOptions:h,extraQueryParameters:m,account:g}=t,p=await z(_i,Ua,this.logger,this.performanceClient,c)(this.config,this.correlationId,this.performanceClient,this.browserStorage,this.logger,u,h,m,g),v=await z(Zf,im,this.logger,this.performanceClient,c)(),C=s||await z(Fa,Ba,this.logger,this.performanceClient,c)(this.performanceClient,this.logger,c),S={...t,earJwk:v,codeChallenge:C.challenge},x=i.popup||this.openPopup("about:blank",i);(await lm(x.document,this.config,p,S,this.logger,this.performanceClient)).submit();const N=await z(Br,Tl,this.logger,this.performanceClient,c)(this.config.system.popupBridgeTimeout,this.logger,this.browserCrypto,S),j=Pn(fo,ho,this.logger,this.performanceClient,this.correlationId)(N,this.config.auth.OIDCOptions.responseMode,this.logger,this.correlationId);if(!j.ear_jwe&&j.code){const F=await z(this.createAuthCodeClient.bind(this),sa,this.logger,this.performanceClient,c)({serverTelemetryManager:Wt(Me.acquireTokenPopup,this.config.auth.clientId,c,this.browserStorage,this.logger),requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account,authority:p});return z(Qr,qr,this.logger,this.performanceClient,c)(S,j,C.verifier,Me.acquireTokenPopup,this.config,F,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}else return z(dm,nm,this.logger,this.performanceClient,c)(S,j,Me.acquireTokenPopup,this.config,p,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async executeCodeFlowWithPost(t,i,s,c){const u=t.correlationId,h=await z(_i,Ua,this.logger,this.performanceClient,u)(this.config,this.correlationId,this.performanceClient,this.browserStorage,this.logger),m=i.popup||this.openPopup("about:blank",i);(await um(m.document,this.config,h,t,this.logger,this.performanceClient)).submit();const p=await z(Br,Tl,this.logger,this.performanceClient,u)(this.config.system.popupBridgeTimeout,this.logger,this.browserCrypto,t),v=Pn(fo,ho,this.logger,this.performanceClient,this.correlationId)(p,this.config.auth.OIDCOptions.responseMode,this.logger,this.correlationId);return z(Qr,qr,this.logger,this.performanceClient,u)(t,v,c,Me.acquireTokenPopup,this.config,s,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async logoutPopupAsync(t,i,s,c){this.logger.verbose("0b7yrk",this.correlationId),this.eventHandler.emitEvent(oe.LOGOUT_START,le.Popup,t);const u=Wt(Me.logoutPopup,this.config.auth.clientId,this.correlationId,this.browserStorage,this.logger);try{await rm(this.browserStorage,this.browserCrypto,this.logger,this.correlationId,t.account);const h=await z(this.createAuthCodeClient.bind(this),sa,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:u,requestAuthority:s,account:t.account||void 0});try{h.authority.endSessionEndpoint}catch{if(t.account?.homeAccountId&&t.postLogoutRedirectUri&&h.authority.protocolMode===Zt.OIDC){if(this.eventHandler.emitEvent(oe.LOGOUT_SUCCESS,le.Popup,t),c){const p={apiId:Me.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},v=ke.getAbsoluteUrl(c,ia());await this.navigationClient.navigateInternal(v,p)}i.popup?.close();return}}const m=h.getLogoutUri(t);this.eventHandler.emitEvent(oe.LOGOUT_SUCCESS,le.Popup,t);const g=this.openPopup(m,i);if(this.eventHandler.emitEvent(oe.POPUP_OPENED,le.Popup,{popupWindow:g},null),await Br(this.config.system.popupBridgeTimeout,this.logger,this.browserCrypto,t).catch(()=>{}),c){const p={apiId:Me.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},v=ke.getAbsoluteUrl(c,ia());this.logger.verbose("0qcur2",this.correlationId),this.logger.verbosePii("0oj7lk",this.correlationId),await this.navigationClient.navigateInternal(v,p)}else this.logger.verbose("03zgcf",this.correlationId)}catch(h){throw i.popup?.close(),h instanceof Ke&&(h.setCorrelationId(this.correlationId),u.cacheFailedRequest(h)),this.eventHandler.emitEvent(oe.LOGOUT_FAILURE,le.Popup,null,h),this.eventHandler.emitEvent(oe.LOGOUT_END,le.Popup),h}this.eventHandler.emitEvent(oe.LOGOUT_END,le.Popup)}initiateAuthRequest(t,i){if(t)return this.logger.infoPii("1kcr9k",this.correlationId),this.openPopup(t,i);throw this.logger.error("1l7hyp",this.correlationId),Z(qf)}openPopup(t,i){try{let s;if(i.popup?(s=i.popup,this.logger.verbosePii("0cgeo7",this.correlationId),s.location.assign(t)):typeof i.popup>"u"&&(this.logger.verbosePii("0c2awd",this.correlationId),s=this.openSizedPopup(t,i)),!s)throw Z(O0);return s.focus&&s.focus(),this.currentWindow=s,s}catch{throw this.logger.error("0dxfb9",this.correlationId),Z(j0)}}openSizedPopup(t,{popupName:i,popupWindowAttributes:s,popupWindowParent:c}){const u=c.screenLeft?c.screenLeft:c.screenX,h=c.screenTop?c.screenTop:c.screenY,m=c.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,g=c.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let p=s.popupSize?.width,v=s.popupSize?.height,C=s.popupPosition?.top,S=s.popupPosition?.left;return(!p||p<0||p>m)&&(this.logger.verbose("08vfmo",this.correlationId),p=_n.POPUP_WIDTH),(!v||v<0||v>g)&&(this.logger.verbose("09cxa0",this.correlationId),v=_n.POPUP_HEIGHT),(!C||C<0||C>g)&&(this.logger.verbose("1qh4wo",this.correlationId),C=Math.max(0,g/2-_n.POPUP_HEIGHT/2+h)),(!S||S<0||S>m)&&(this.logger.verbose("1sz3en",this.correlationId),S=Math.max(0,m/2-_n.POPUP_WIDTH/2+u)),c.open(t,i,`width=${p}, height=${v}, top=${C}, left=${S}, scrollbars=yes`)}generatePopupName(t,i){return`${_n.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${t.join("-")}.${i}.${this.correlationId}`}generateLogoutPopupName(t){const i=t.account&&t.account.homeAccountId;return`${_n.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${i}.${this.correlationId}`}}function XR(){if(typeof window>"u"||typeof window.performance>"u"||typeof window.performance.getEntriesByType!="function")return;const r=window.performance.getEntriesByType("navigation");return(r.length?r[0]:void 0)?.type}class $R extends es{constructor(t,i,s,c,u,h,m,g,p,v){super(t,i,s,c,u,h,m,p,v),this.nativeStorage=g}async acquireToken(t){const i=await z(Ql,Vl,this.logger,this.performanceClient,this.correlationId)(t,le.Redirect,this.config,this.browserCrypto,this.browserStorage,this.logger,this.performanceClient,this.correlationId);i.platformBroker=Co(this.config,this.logger,this.correlationId,this.platformAuthProvider,t.authenticationScheme);const s=u=>{u.persisted&&(this.logger.verbose("0udvtt",this.correlationId),this.browserStorage.resetRequestCache(this.correlationId),this.eventHandler.emitEvent(oe.RESTORE_FROM_BFCACHE,le.Redirect))},c=this.getRedirectStartPage(t.redirectStartPage);this.logger.verbosePii("0zao0a",this.correlationId),this.browserStorage.setTemporaryCache(gt.ORIGIN_URI,c,!0),window.addEventListener("pageshow",s);try{this.config.system.protocolMode===Zt.EAR?await this.executeEarFlow(i):await this.executeCodeFlow(i)}catch(u){throw u instanceof Ke&&u.setCorrelationId(this.correlationId),window.removeEventListener("pageshow",s),u}}async executeCodeFlow(t){const i=t.correlationId,s=Wt(Me.acquireTokenRedirect,this.config.auth.clientId,this.correlationId,this.browserStorage,this.logger),c=await z(Fa,Ba,this.logger,this.performanceClient,i)(this.performanceClient,this.logger,i),u={...t,codeChallenge:c.challenge};this.browserStorage.cacheAuthorizeRequest(u,this.correlationId,c.verifier);try{if(u.httpMethod===Kr.POST)return await this.executeCodeFlowWithPost(u);{const h=await z(this.createAuthCodeClient.bind(this),sa,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:s,requestAuthority:u.authority,requestAzureCloudOptions:u.azureCloudOptions,requestExtraQueryParameters:u.extraQueryParameters,account:u.account}),m=await z(cm,Pf,this.logger,this.performanceClient,t.correlationId)(this.config,h.authority,u,this.logger,this.performanceClient);return await this.initiateAuthRequest(m)}}catch(h){throw h instanceof Ke&&(h.setCorrelationId(this.correlationId),s.cacheFailedRequest(h)),h}}async executeEarFlow(t){const{correlationId:i,authority:s,azureCloudOptions:c,extraQueryParameters:u,account:h}=t,m=await z(_i,Ua,this.logger,this.performanceClient,i)(this.config,this.correlationId,this.performanceClient,this.browserStorage,this.logger,s,c,u,h),g=await z(Zf,im,this.logger,this.performanceClient,i)(),p=await z(Fa,Ba,this.logger,this.performanceClient,i)(this.performanceClient,this.logger,i),v={...t,earJwk:g,codeChallenge:p.challenge};return this.browserStorage.cacheAuthorizeRequest(v,this.correlationId,p.verifier),(await lm(document,this.config,m,v,this.logger,this.performanceClient)).submit(),new Promise((S,x)=>{setTimeout(()=>{x(Z(Al,"failed_to_redirect"))},this.config.system.redirectNavigationTimeout)})}async executeCodeFlowWithPost(t){const i=t.correlationId,s=await z(_i,Ua,this.logger,this.performanceClient,i)(this.config,this.correlationId,this.performanceClient,this.browserStorage,this.logger);return this.browserStorage.cacheAuthorizeRequest(t,this.correlationId),(await um(document,this.config,s,t,this.logger,this.performanceClient)).submit(),new Promise((u,h)=>{setTimeout(()=>{h(Z(Al,"failed_to_redirect"))},this.config.system.redirectNavigationTimeout)})}async handleRedirectPromise(t,i,s,c){const u=Wt(Me.handleRedirectPromise,this.config.auth.clientId,this.correlationId,this.browserStorage,this.logger),h=c?.navigateToLoginRequestUrl??!0;try{const[m,g]=this.getRedirectResponse(c?.hash||"");if(!m)return this.logger.info("1qmv0q",this.correlationId),this.browserStorage.resetRequestCache(this.correlationId),XR()!=="back_forward"?s.event.errorCode="no_server_response":this.logger.verbose("1eqegq",this.correlationId),null;const p=this.browserStorage.getTemporaryCache(gt.ORIGIN_URI,this.correlationId,!0)||"",v=Gv(p),C=Gv(window.location.href);if(v===C&&h)return this.logger.verbose("11yred",this.correlationId),p.indexOf("#")>-1&&gN(p),await this.handleResponse(m,t,i,u);if(h){if(!Gl()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(gt.URL_HASH,g,!0);const S={apiId:Me.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0};let x=!0;if(!p||p==="null"){const T=vN();this.browserStorage.setTemporaryCache(gt.ORIGIN_URI,T,!0),this.logger.warning("1dutq1",this.correlationId),x=await this.navigationClient.navigateInternal(T,S)}else this.logger.verbose("08jpy1",this.correlationId),x=await this.navigationClient.navigateInternal(p,S);if(!x)return await this.handleResponse(m,t,i,u)}}else return this.logger.verbose("0v4sdv",this.correlationId),await this.handleResponse(m,t,i,u);return null}catch(m){throw m instanceof Ke&&(m.setCorrelationId(this.correlationId),u.cacheFailedRequest(m)),m}}getRedirectResponse(t){this.logger.verbose("1c5i8m",this.correlationId);let i=t;i||(this.config.auth.OIDCOptions.responseMode===gf.QUERY?i=window.location.search:i=window.location.hash);let s=vl(i);if(s){try{xR(s,this.browserCrypto,le.Redirect)}catch(u){return u instanceof Ke&&this.logger.error("0bkq6p",this.correlationId),[null,""]}return mS(window),this.logger.verbose("00uvho",this.correlationId),[s,i]}const c=this.browserStorage.getTemporaryCache(gt.URL_HASH,this.correlationId,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(gt.URL_HASH)),c&&(s=vl(c),s)?(this.logger.verbose("001671",this.correlationId),[s,c]):[null,""]}async handleResponse(t,i,s,c){if(!t.state)throw Z(Vf);const{authority:h,azureCloudOptions:m,extraQueryParameters:g,account:p}=i;if(t.ear_jwe){const C=await z(_i,Ua,this.logger,this.performanceClient,i.correlationId)(this.config,this.correlationId,this.performanceClient,this.browserStorage,this.logger,h,m,g,p);return z(dm,nm,this.logger,this.performanceClient,i.correlationId)(i,t,Me.acquireTokenRedirect,this.config,C,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}const v=await z(this.createAuthCodeClient.bind(this),sa,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:c,requestAuthority:i.authority});return z(Qr,qr,this.logger,this.performanceClient,i.correlationId)(i,t,s,Me.acquireTokenRedirect,this.config,v,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async initiateAuthRequest(t){if(this.logger.verbose("0yaw2e",this.correlationId),t){this.logger.infoPii("1luf83",this.correlationId);const i={apiId:Me.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},s=this.config.auth.onRedirectNavigate;if(typeof s=="function")if(this.logger.verbose("1nehvl",this.correlationId),s(t)!==!1){this.logger.verbose("1a0jxh",this.correlationId),await this.navigationClient.navigateExternal(t,i);return}else{this.logger.verbose("09k5h5",this.correlationId);return}else{this.logger.verbose("0klwf7",this.correlationId),await this.navigationClient.navigateExternal(t,i);return}}else throw this.logger.info("0rlh4e",this.correlationId),Z(qf)}async logout(t){this.logger.verbose("1rkurh",this.correlationId);const i=this.initializeLogoutRequest(t),s=Wt(Me.logout,this.config.auth.clientId,this.correlationId,this.browserStorage,this.logger);try{this.eventHandler.emitEvent(oe.LOGOUT_START,le.Redirect,t),await rm(this.browserStorage,this.browserCrypto,this.logger,this.correlationId,i.account);const c={apiId:Me.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},u=await z(this.createAuthCodeClient.bind(this),sa,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:s,requestAuthority:t&&t.authority,requestExtraQueryParameters:t?.extraQueryParameters,account:t&&t.account||void 0});if(u.authority.protocolMode===Zt.OIDC)try{u.authority.endSessionEndpoint}catch{if(i.account?.homeAccountId){this.eventHandler.emitEvent(oe.LOGOUT_SUCCESS,le.Redirect,i);return}}const h=u.getLogoutUri(i);i.account?.homeAccountId&&this.eventHandler.emitEvent(oe.LOGOUT_SUCCESS,le.Redirect,i);const m=this.config.auth.onRedirectNavigate;if(typeof m=="function")if(m(h)!==!1){this.logger.verbose("06v57e",this.correlationId),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,ta.SIGNOUT),await this.navigationClient.navigateExternal(h,c);return}else this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("0xqes1",this.correlationId);else{this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,ta.SIGNOUT),await this.navigationClient.navigateExternal(h,c);return}}catch(c){throw c instanceof Ke&&(c.setCorrelationId(this.correlationId),s.cacheFailedRequest(c)),this.eventHandler.emitEvent(oe.LOGOUT_FAILURE,le.Redirect,null,c),this.eventHandler.emitEvent(oe.LOGOUT_END,le.Redirect),c}this.eventHandler.emitEvent(oe.LOGOUT_END,le.Redirect)}getRedirectStartPage(t){const i=t||window.location.href;return ke.getAbsoluteUrl(i,ia())}}async function ZR(r,t,i,s){if(!r)throw i.info("1l7hyp",s),Z(qf);return Pn(tj,MN,i,t,s)(r)}async function WR(r,t,i,s,c){const u=fm();if(!u.contentDocument)throw"No document associated with iframe!";return(await um(u.contentDocument,r,t,i,s,c)).submit(),u}async function ej(r,t,i,s,c){const u=fm();if(!u.contentDocument)throw"No document associated with iframe!";return(await lm(u.contentDocument,r,t,i,s,c)).submit(),u}function tj(r){const t=fm();return t.src=r,t}function fm(){const r=document.createElement("iframe");return r.className="msalSilentIframe",r.style.visibility="hidden",r.style.position="absolute",r.style.width=r.style.height="0",r.style.border="0",r.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),r.setAttribute("allow","local-network-access *"),document.body.appendChild(r),r}class nj extends es{constructor(t,i,s,c,u,h,m,g,p,v,C){super(t,i,s,c,u,h,g,v,C),this.apiId=m,this.nativeStorage=p}async acquireToken(t){!t.loginHint&&!t.sid&&(!t.account||!t.account.username)&&this.logger.warning("1kl318",this.correlationId);const i={...t};i.prompt?i.prompt!==Xt.NONE&&i.prompt!==Xt.NO_SESSION&&(this.logger.warning("0bmctg",this.correlationId),i.prompt=Xt.NONE):i.prompt=Xt.NONE;const s=await z(Ql,Vl,this.logger,this.performanceClient,this.correlationId)(i,le.Silent,this.config,this.browserCrypto,this.browserStorage,this.logger,this.performanceClient,this.correlationId);return s.platformBroker=Co(this.config,this.logger,this.correlationId,this.platformAuthProvider,s.authenticationScheme),yS(s.authority),this.config.system.protocolMode===Zt.EAR?this.executeEarFlow(s):this.executeCodeFlow(s)}async executeCodeFlow(t){let i;const s=Wt(this.apiId,this.config.auth.clientId,this.correlationId,this.browserStorage,this.logger);try{return i=await z(this.createAuthCodeClient.bind(this),sa,this.logger,this.performanceClient,t.correlationId)({serverTelemetryManager:s,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),await z(this.silentTokenHelper.bind(this),gC,this.logger,this.performanceClient,t.correlationId)(i,t)}catch(c){if(c instanceof Ke&&(c.setCorrelationId(this.correlationId),s.cacheFailedRequest(c)),!i||!(c instanceof Ke)||c.errorCode!==_n.INVALID_GRANT_ERROR)throw c;return this.performanceClient.addFields({retryError:c.errorCode},this.correlationId),await z(this.silentTokenHelper.bind(this),gC,this.logger,this.performanceClient,this.correlationId)(i,t)}}async executeEarFlow(t){const{correlationId:i,authority:s,azureCloudOptions:c,extraQueryParameters:u,account:h}=t,m=await z(_i,Ua,this.logger,this.performanceClient,i)(this.config,this.correlationId,this.performanceClient,this.browserStorage,this.logger,s,c,u,h),g=await z(Zf,im,this.logger,this.performanceClient,i)(),p=await z(Fa,Ba,this.logger,this.performanceClient,i)(this.performanceClient,this.logger,i),v={...t,earJwk:g,codeChallenge:p.challenge};await z(ej,jh,this.logger,this.performanceClient,i)(this.config,m,v,this.logger,this.performanceClient);const C=this.config.auth.OIDCOptions.responseMode,S=await z(Br,Tl,this.logger,this.performanceClient,i)(this.config.system.iframeBridgeTimeout,this.logger,this.browserCrypto,t),x=Pn(fo,ho,this.logger,this.performanceClient,i)(S,C,this.logger,this.correlationId);if(!x.ear_jwe&&x.code){const T=await z(this.createAuthCodeClient.bind(this),sa,this.logger,this.performanceClient,i)({serverTelemetryManager:Wt(this.apiId,this.config.auth.clientId,i,this.browserStorage,this.logger),requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account,authority:m});return z(Qr,qr,this.logger,this.performanceClient,i)(v,x,p.verifier,this.apiId,this.config,T,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}else return z(dm,nm,this.logger,this.performanceClient,i)(v,x,this.apiId,this.config,m,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}logout(){return Promise.reject(Z(Yf))}async silentTokenHelper(t,i){const s=i.correlationId,c=await z(Fa,Ba,this.logger,this.performanceClient,s)(this.performanceClient,this.logger,s),u={...i,codeChallenge:c.challenge};if(i.httpMethod===Kr.POST)await z(WR,jh,this.logger,this.performanceClient,s)(this.config,t.authority,u,this.logger,this.performanceClient);else{const p=await z(cm,Pf,this.logger,this.performanceClient,s)(this.config,t.authority,u,this.logger,this.performanceClient);await z(ZR,jh,this.logger,this.performanceClient,s)(p,this.performanceClient,this.logger,s)}const h=this.config.auth.OIDCOptions.responseMode,m=await z(Br,Tl,this.logger,this.performanceClient,s)(this.config.system.iframeBridgeTimeout,this.logger,this.browserCrypto,i),g=Pn(fo,ho,this.logger,this.performanceClient,s)(m,h,this.logger,this.correlationId);return z(Qr,qr,this.logger,this.performanceClient,s)(i,g,c.verifier,this.apiId,this.config,t,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}}class ij extends es{async acquireToken(t){const i=await z(sm,tm,this.logger,this.performanceClient,t.correlationId)(t,this.config,this.performanceClient,this.logger,this.correlationId),s={...t,...i};t.redirectUri&&(s.redirectUri=wl(t.redirectUri,this.config.auth.redirectUri,this.logger,this.correlationId));const c=Wt(Me.acquireTokenSilent_silentFlow,this.config.auth.clientId,this.correlationId,this.browserStorage,this.logger),u=await this.createRefreshTokenClient({serverTelemetryManager:c,authorityUrl:s.authority,azureCloudOptions:s.azureCloudOptions,account:s.account});return z(u.acquireTokenByRefreshToken.bind(u),ON,this.logger,this.performanceClient,t.correlationId)(s).catch(h=>{throw h.setCorrelationId(this.correlationId),c.cacheFailedRequest(h),h})}logout(){return Promise.reject(Z(Yf))}async createRefreshTokenClient(t){const i=await z(this.getClientConfiguration.bind(this),ql,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:t.serverTelemetryManager,requestAuthority:t.authorityUrl,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account});return new c0(i,this.performanceClient)}}class aj extends Xb{constructor(t,i){super(t,i),this.includeRedirectUri=!1}}class rj extends es{constructor(t,i,s,c,u,h,m,g,p,v){super(t,i,s,c,u,h,g,p,v),this.apiId=m}async acquireToken(t){if(!t.code)throw Z(B0);const i=await z(Ql,Vl,this.logger,this.performanceClient,this.correlationId)(t,le.Silent,this.config,this.browserCrypto,this.browserStorage,this.logger,this.performanceClient,this.correlationId),s=Wt(this.apiId,this.config.auth.clientId,this.correlationId,this.browserStorage,this.logger);try{const c={...i,code:t.code},u=await z(this.getClientConfiguration.bind(this),ql,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:s,requestAuthority:i.authority,requestAzureCloudOptions:i.azureCloudOptions,requestExtraQueryParameters:i.extraQueryParameters,account:i.account}),h=new aj(u,this.performanceClient);this.logger.verbose("1uic5e",this.correlationId);const m=new ES(h,this.browserStorage,c,this.logger,this.performanceClient);return await z(m.handleCodeResponseFromServer.bind(m),Kb,this.logger,this.performanceClient,this.correlationId)({code:t.code,msgraph_host:t.msGraphHost,cloud_graph_host_name:t.cloudGraphHostName,cloud_instance_host_name:t.cloudInstanceHostName},i,!1)}catch(c){throw c instanceof Ke&&(c.setCorrelationId(this.correlationId),s.cacheFailedRequest(c)),c}}logout(){return Promise.reject(Z(Yf))}}function sj(r,t,i,s){const c=window.msal?.clientIds||[],u=c.length,h=c.filter(m=>m===r).length;h>1&&i.warning("1e88vg",s),t.add({msalInstanceCount:u,sameClientIdInstanceCount:h})}function el(r,t,i){try{em(r)}catch(s){throw t.end({success:!1},s,i),s}}class mm{constructor(t){this.operatingContext=t,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=t.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new Ai(this.logger,this.performanceClient):Cl,this.eventHandler=new AR(this.logger),this.browserStorage=this.isBrowserEnvironment?new tf(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler,s0(this.config.auth)):vR(this.config.auth.clientId,this.logger,this.performanceClient,this.eventHandler);const i={cacheLocation:Tn.MemoryStorage,cacheRetentionDays:5};this.nativeInternalStorage=new tf(this.config.auth.clientId,i,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}static async createController(t,i){const s=new mm(t);return await s.initialize(i),s}trackPageVisibility(t){t&&(this.logger.info("16v6hv",t),this.performanceClient.incrementFields({visibilityChangeCount:1},t))}async initialize(t){const i=this.getRequestCorrelationId(t);if(this.logger.trace("1f7joy",i),this.initialized){this.logger.info("061m5x",i);return}if(!this.isBrowserEnvironment){this.logger.info("19fvpi",i),this.initialized=!0,this.eventHandler.emitEvent(oe.INITIALIZE_END);return}const s=t?.correlationId||this.getRequestCorrelationId(),c=this.config.system.allowPlatformBroker,u=this.performanceClient.startMeasurement(oR,s);if(this.eventHandler.emitEvent(oe.INITIALIZE_START),this.logMultipleInstances(u,s),await z(this.browserStorage.initialize.bind(this.browserStorage),kN,this.logger,this.performanceClient,s)(s),c)try{this.platformAuthProvider=await YR(this.logger,this.performanceClient,s,this.config.system.nativeBrokerHandshakeTimeout)}catch(h){this.logger.verbose(h,s)}this.config.cache.cacheLocation===Tn.LocalStorage&&this.eventHandler.subscribeCrossTab(),!this.config.system.navigatePopups&&await this.preGeneratePkceCodes(s),this.initialized=!0,this.eventHandler.emitEvent(oe.INITIALIZE_END),u.end({allowPlatformBroker:c,success:!0})}async handleRedirectPromise(t){if(this.logger.verbose("02l8bm",""),pS(this.initialized),this.isBrowserEnvironment){const i=t?.hash||"";let s=this.redirectResponse.get(i);return typeof s>"u"?(s=this.handleRedirectPromiseInternal(t),this.redirectResponse.set(i,s),this.logger.verbose("1wn9kp","")):this.logger.verbose("0w0gm3",""),s}return this.logger.verbose("12xi63",""),null}async handleRedirectPromiseInternal(t){if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("0le6uv",""),null;if(this.browserStorage.getInteractionInProgress()?.type===ta.SIGNOUT)return this.logger.verbose("1ywcv2",""),this.browserStorage.setInteractionInProgress(!1),Promise.resolve(null);const s=this.getAllAccounts(),c=this.browserStorage.getCachedNativeRequest(),u=c&&this.platformAuthProvider&&!t?.hash;let h;this.eventHandler.emitEvent(oe.HANDLE_REDIRECT_START,le.Redirect);let m;try{if(u&&this.platformAuthProvider){const g=c?.correlationId||"";h=this.performanceClient.startMeasurement(Oh,g),this.logger.trace("12v7is",g);const p=new cl(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Me.handleRedirectPromise,this.performanceClient,this.platformAuthProvider,c.accountId,this.nativeInternalStorage,c.correlationId);m=z(p.handleRedirectPromise.bind(p),KN,this.logger,this.performanceClient,h.event.correlationId)(this.performanceClient,h.event.correlationId)}else{const[g,p]=this.browserStorage.getCachedRequest(""),v=g.correlationId;h=this.performanceClient.startMeasurement(Oh,v),this.logger.trace("0znzs5",v);const C=this.createRedirectClient(v);m=z(C.handleRedirectPromise.bind(C),BN,this.logger,this.performanceClient,h.event.correlationId)(g,p,h,t)}}catch(g){throw this.browserStorage.resetRequestCache(""),g}return m.then(g=>(g?(this.browserStorage.resetRequestCache(g.correlationId),this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_SUCCESS,le.Redirect,g),this.logger.verbose("0ui8f5",g.correlationId),s.length<this.getAllAccounts().length&&(this.eventHandler.emitEvent(oe.LOGIN_SUCCESS,le.Redirect,g.account),this.logger.verbose("16im3l",g.correlationId)),h.end({success:!0},void 0,g.account)):h.event.errorCode?h.end({success:!1},void 0):h.discard(),this.eventHandler.emitEvent(oe.HANDLE_REDIRECT_END,le.Redirect),g)).catch(g=>{this.browserStorage.resetRequestCache(h.event.correlationId);const p=g;throw this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_FAILURE,le.Redirect,null,p),this.eventHandler.emitEvent(oe.HANDLE_REDIRECT_END,le.Redirect),h.end({success:!1},p),g})}async acquireTokenRedirect(t){const i=this.getRequestCorrelationId(t);this.logger.verbose("0os66p",i);const s=this.performanceClient.startMeasurement(rR,i);s.add({scenarioId:t.scenarioId});const c=this.config.auth.onRedirectNavigate;this.config.auth.onRedirectNavigate=u=>{const h=typeof c=="function"?c(u):void 0;return s.add({navigateCallbackResult:h!==!1}),s.event=s.end({success:!0},void 0,t.account)||s.event,h};try{fC(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,ta.SIGNIN),this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_START,le.Redirect,t);let u;return this.platformAuthProvider&&this.canUsePlatformBroker(t)?u=new cl(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Me.acquireTokenRedirect,this.performanceClient,this.platformAuthProvider,this.getNativeAccountId(t),this.nativeInternalStorage,i).acquireTokenRedirect(t,s).catch(m=>{if(m instanceof $n&&Hr(m))return this.platformAuthProvider=void 0,this.createRedirectClient(i).acquireToken(t);if(m instanceof wn)return this.logger.verbose("1ipyz4",i),this.createRedirectClient(i).acquireToken(t);throw m}):u=this.createRedirectClient(i).acquireToken(t),await u}catch(u){throw this.browserStorage.resetRequestCache(i),s.event.status===2?this.performanceClient.startMeasurement(Oh,i).end({success:!1},u,t.account):s.end({success:!1},u,t.account),this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_FAILURE,le.Redirect,null,u),u}}acquireTokenPopup(t){const i=this.getRequestCorrelationId(t),s=this.performanceClient.startMeasurement(aR,i);s.add({scenarioId:t.scenarioId});try{this.logger.verbose("0ch87b",i),el(this.initialized,s,t.account),this.browserStorage.setInteractionInProgress(!0,ta.SIGNIN,t.overrideInteractionInProgress,i)}catch(m){return Promise.reject(m)}const c=this.getAllAccounts();this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_START,le.Popup,t);let u;const h=this.getPreGeneratedPkceCodes(i);return this.canUsePlatformBroker(t)?u=this.acquireTokenNative({...t,correlationId:i},Me.acquireTokenPopup).then(m=>(s.end({success:!0,isNativeBroker:!0},void 0,m.account),m)).catch(m=>{if(m instanceof $n&&Hr(m))return this.platformAuthProvider=void 0,this.createPopupClient(i).acquireToken(t,h);if(m instanceof wn)return this.logger.verbose("0yy5fw",i),this.createPopupClient(i).acquireToken(t,h);throw m}):u=this.createPopupClient(i).acquireToken(t,h),u.then(m=>{const g=c.length<this.getAllAccounts().length;return this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_SUCCESS,le.Popup,m),g&&this.eventHandler.emitEvent(oe.LOGIN_SUCCESS,le.Popup,m.account),s.end({success:!0,accessTokenSize:m.accessToken.length,idTokenSize:m.idToken.length},void 0,m.account),m}).catch(m=>(this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_FAILURE,le.Popup,null,m),s.end({success:!1},m,t.account),Promise.reject(m))).finally(async()=>{this.browserStorage.setInteractionInProgress(!1),this.config.system.navigatePopups||await this.preGeneratePkceCodes(i)})}trackPageVisibilityWithMeasurement(){const t=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;t&&t.increment({visibilityChangeCount:1})}async ssoSilent(t){const i=this.getRequestCorrelationId(t),s={...t,prompt:t.prompt,correlationId:i};this.ssoSilentMeasurement=this.performanceClient.startMeasurement(sR,i),this.ssoSilentMeasurement?.add({scenarioId:t.scenarioId}),el(this.initialized,this.ssoSilentMeasurement,t.account),this.ssoSilentMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement);const c=this.getAllAccounts();this.logger.verbose("0w1b45",i),this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_START,le.Silent,s);let u;return this.canUsePlatformBroker(s)?u=this.acquireTokenNative(s,Me.ssoSilent).catch(h=>{if(h instanceof $n&&Hr(h))return this.platformAuthProvider=void 0,this.createSilentIframeClient(s.correlationId).acquireToken(s);throw h}):u=this.createSilentIframeClient(s.correlationId).acquireToken(s),u.then(h=>{const m=c.length<this.getAllAccounts().length;return this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_SUCCESS,le.Silent,h),m&&this.eventHandler.emitEvent(oe.LOGIN_SUCCESS,le.Silent,h.account),this.ssoSilentMeasurement?.end({success:!0,isNativeBroker:h.fromPlatformBroker,accessTokenSize:h.accessToken.length,idTokenSize:h.idToken.length},void 0,h.account),h}).catch(h=>{throw this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_FAILURE,le.Silent,null,h),this.ssoSilentMeasurement?.end({success:!1},h,t.account),h}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenByCode(t){const i=this.getRequestCorrelationId(t);this.logger.trace("0ch6ga",i);const s=this.performanceClient.startMeasurement(iR,i);el(this.initialized,s),this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_START,le.Silent,t),s.add({scenarioId:t.scenarioId});try{if(t.code&&t.nativeAccountId)throw Z(F0);if(t.code){const c=t.code;let u=this.hybridAuthCodeResponses.get(c);return u?(this.logger.verbose("0qgp28",i),s.discard()):(this.logger.verbose("06eh73",i),u=this.acquireTokenByCodeAsync({...t,correlationId:i}).then(h=>(this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_SUCCESS,le.Silent,h),this.hybridAuthCodeResponses.delete(c),s.end({success:!0,isNativeBroker:h.fromPlatformBroker,accessTokenSize:h.accessToken.length,idTokenSize:h.idToken.length},void 0,h.account),h)).catch(h=>{throw this.hybridAuthCodeResponses.delete(c),this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_FAILURE,le.Silent,null,h),s.end({success:!1},h),h}),this.hybridAuthCodeResponses.set(c,u)),await u}else if(t.nativeAccountId)if(this.canUsePlatformBroker(t,t.nativeAccountId)){const c=await this.acquireTokenNative({...t,correlationId:i},Me.acquireTokenByCode,t.nativeAccountId).catch(u=>{throw u instanceof $n&&Hr(u)&&(this.platformAuthProvider=void 0),u});return s.end({success:!0},void 0,c.account),c}else throw Z(G0);else throw Z(K0)}catch(c){throw this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_FAILURE,le.Silent,null,c),s.end({success:!1},c),c}}async acquireTokenByCodeAsync(t){const i=this.getRequestCorrelationId(t);return this.logger.trace("10d9hy",i),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(HN,i),this.acquireTokenByCodeAsyncMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),await this.createSilentAuthCodeClient(i).acquireToken(t).then(u=>(this.acquireTokenByCodeAsyncMeasurement?.end({success:!0,fromCache:u.fromCache,isNativeBroker:u.fromPlatformBroker}),u)).catch(u=>{throw this.acquireTokenByCodeAsyncMeasurement?.end({success:!1},u),u}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenFromCache(t,i){switch(i){case zt.Default:case zt.AccessToken:case zt.AccessTokenAndRefreshToken:const s=this.createSilentCacheClient(t.correlationId);return z(s.acquireToken.bind(s),xN,this.logger,this.performanceClient,t.correlationId)(t);default:throw Y(Ma)}}async acquireTokenByRefreshToken(t,i){switch(i){case zt.Default:case zt.AccessTokenAndRefreshToken:case zt.RefreshToken:case zt.RefreshTokenAndNetwork:const s=this.createSilentRefreshClient(t.correlationId);return z(s.acquireToken.bind(s),jN,this.logger,this.performanceClient,t.correlationId)(t);default:throw Y(Ma)}}async acquireTokenBySilentIframe(t){const i=this.createSilentIframeClient(t.correlationId);return z(i.acquireToken.bind(i),NN,this.logger,this.performanceClient,t.correlationId)(t)}async logoutRedirect(t){const i=this.getRequestCorrelationId(t);return fC(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,ta.SIGNOUT),this.createRedirectClient(i).logout(t)}logoutPopup(t){try{const i=this.getRequestCorrelationId(t);return em(this.initialized),this.browserStorage.setInteractionInProgress(!0,ta.SIGNOUT),this.createPopupClient(i).logout(t).finally(()=>{this.browserStorage.setInteractionInProgress(!1)})}catch(i){return Promise.reject(i)}}async clearCache(t){if(!this.isBrowserEnvironment)return;const i=this.getRequestCorrelationId(t);return this.createSilentCacheClient(i).logout(t)}getAllAccounts(t){return CR(this.logger,this.browserStorage,this.isBrowserEnvironment,this.getRequestCorrelationId(),t)}getAccount(t){return bR(t,this.logger,this.browserStorage,this.getRequestCorrelationId())}setActiveAccount(t){SR(t,this.browserStorage,this.getRequestCorrelationId())}getActiveAccount(){return _R(this.browserStorage,this.getRequestCorrelationId())}async hydrateCache(t,i){this.logger.verbose("16jycr",t.correlationId);const s=cx(t.account,t.cloudGraphHostName,t.msGraphHost);return await this.browserStorage.setAccount(s,t.correlationId,Da(t.idTokenClaims)),t.fromPlatformBroker?(this.logger.verbose("1fxyu8",t.correlationId),this.nativeInternalStorage.hydrateCache(t,i)):this.browserStorage.hydrateCache(t,i)}async acquireTokenNative(t,i,s,c){const u=this.getRequestCorrelationId(t);if(this.logger.trace("0b9y3p",u),!this.platformAuthProvider)throw Z(oS);return new cl(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,i,this.performanceClient,this.platformAuthProvider,s||this.getNativeAccountId(t),this.nativeInternalStorage,u).acquireToken(t,c)}canUsePlatformBroker(t,i){const s=this.getRequestCorrelationId(t);if(this.logger.trace("1n9lbl",s),!this.platformAuthProvider)return this.logger.trace("0vnu11",s),!1;if(!Co(this.config,this.logger,s,this.platformAuthProvider,t.authenticationScheme))return this.logger.trace("1m4bzf",s),!1;if(t.prompt)switch(t.prompt){case Xt.NONE:case Xt.CONSENT:case Xt.LOGIN:this.logger.trace("0vdv8e",s);break;default:return this.logger.trace("0pdzw6",s),!1}return!i&&!this.getNativeAccountId(t)?(this.logger.trace("16lbtk",s),!1):!0}getNativeAccountId(t){const i=t.account||this.getAccount({loginHint:t.loginHint,sid:t.sid})||this.getActiveAccount();return i&&i.nativeAccountId||""}createPopupClient(t){return new JR(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,t,this.platformAuthProvider)}createRedirectClient(t){return new $R(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,t,this.platformAuthProvider)}createSilentIframeClient(t){return new nj(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Me.ssoSilent,this.performanceClient,this.nativeInternalStorage,t,this.platformAuthProvider)}createSilentCacheClient(t){return new AS(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,t,this.platformAuthProvider)}createSilentRefreshClient(t){return new ij(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,t,this.platformAuthProvider)}createSilentAuthCodeClient(t){return new rj(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Me.acquireTokenByCode,this.performanceClient,t,this.platformAuthProvider)}addEventCallback(t,i){return this.eventHandler.addEventCallback(t,i)}removeEventCallback(t){this.eventHandler.removeEventCallback(t)}addPerformanceCallback(t){return gS(),this.performanceClient.addPerformanceCallback(t)}removePerformanceCallback(t){return this.performanceClient.removePerformanceCallback(t)}getLogger(){return this.logger}setLogger(t){this.logger=t}initializeWrapperLibrary(t,i){this.browserStorage.setWrapperMetadata(t,i)}setNavigationClient(t){this.navigationClient=t}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(t){return t?.correlationId?t.correlationId:this.isBrowserEnvironment?Ha():""}async loginRedirect(t){const i=this.getRequestCorrelationId(t);return this.logger.verbose("0lz9hf",i),this.acquireTokenRedirect({correlationId:i,...t||sC})}loginPopup(t){const i=this.getRequestCorrelationId(t);return this.logger.verbose("0qw7v5",i),this.acquireTokenPopup({correlationId:i,...t||sC})}async acquireTokenSilent(t){const i=this.getRequestCorrelationId(t),s=this.performanceClient.startMeasurement(nR,i);s.add({cacheLookupPolicy:t.cacheLookupPolicy,scenarioId:t.scenarioId}),el(this.initialized,s,t.account),this.logger.verbose("0x1c4s",i);const c=t.account||this.getActiveAccount();if(!c)throw Z(U0);return this.acquireTokenSilentDeduped(t,c,i).then(u=>(s.end({success:!0,fromCache:u.fromCache,isNativeBroker:u.fromPlatformBroker,accessTokenSize:u.accessToken.length,idTokenSize:u.idToken.length},void 0,u.account),{...u,state:t.state,correlationId:i})).catch(u=>{throw u instanceof Ke&&u.setCorrelationId(i),s.end({success:!1},u,c),u})}async acquireTokenSilentDeduped(t,i,s){const c=Hl(this.config.auth.clientId,{...t,authority:t.authority||this.config.auth.authority},i.homeAccountId),u=JSON.stringify(c),h=this.activeSilentTokenRequests.get(u);if(typeof h>"u"){this.logger.verbose("0fcjbk",s),this.performanceClient.addFields({deduped:!1},s);const m=z(this.acquireTokenSilentAsync.bind(this),AN,this.logger,this.performanceClient,s)({...t,correlationId:s},i);return this.activeSilentTokenRequests.set(u,m),m.finally(()=>{this.activeSilentTokenRequests.delete(u)})}else return this.logger.verbose("1yq7nb",s),this.performanceClient.addFields({deduped:!0},s),h}async acquireTokenSilentAsync(t,i){const s=()=>this.trackPageVisibility(t.correlationId);this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_START,le.Silent,t),t.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},t.correlationId),document.addEventListener("visibilitychange",s);const c=await z(TR,IN,this.logger,this.performanceClient,t.correlationId)(t,i,this.config,this.performanceClient,this.logger),u=t.cacheLookupPolicy||zt.Default;return this.acquireTokenSilentNoIframe(c,u).catch(async m=>{if(oj(m,u))if(this.activeIframeRequest)if(u!==zt.Skip){const[p,v]=this.activeIframeRequest;this.logger.verbose("1w8fso",c.correlationId);const C=this.performanceClient.startMeasurement(RN,c.correlationId);C.add({awaitIframeCorrelationId:v});const S=await p;if(C.end({success:S}),S)return this.logger.verbose("0ywzzi",c.correlationId),this.acquireTokenSilentNoIframe(c,u);throw this.logger.info("17y14q",c.correlationId),m}else return this.logger.warning("1bd4p8",c.correlationId),z(this.acquireTokenBySilentIframe.bind(this),mC,this.logger,this.performanceClient,c.correlationId)(c);else{let p;return this.activeIframeRequest=[new Promise(v=>{p=v}),c.correlationId],this.logger.verbose("0rh08z",c.correlationId),z(this.acquireTokenBySilentIframe.bind(this),mC,this.logger,this.performanceClient,c.correlationId)(c).then(v=>(p(!0),v)).catch(v=>{throw p(!1),v}).finally(()=>{this.activeIframeRequest=void 0})}else throw m}).then(m=>(this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_SUCCESS,le.Silent,m),t.correlationId&&this.performanceClient.addFields({fromCache:m.fromCache,isNativeBroker:m.fromPlatformBroker},t.correlationId),m)).catch(m=>{throw this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_FAILURE,le.Silent,null,m),m}).finally(()=>{document.removeEventListener("visibilitychange",s)})}async acquireTokenSilentNoIframe(t,i){return Co(this.config,this.logger,t.correlationId,this.platformAuthProvider,t.authenticationScheme)&&t.account.nativeAccountId?(this.logger.verbose("0sczo4",t.correlationId),this.acquireTokenNative(t,Me.acquireTokenSilent_silentFlow,t.account.nativeAccountId,i).catch(async s=>{throw s instanceof $n&&Hr(s)?(this.logger.verbose("07rkmb",t.correlationId),this.platformAuthProvider=void 0,Y(Ma)):s})):(this.logger.verbose("0ox81t",t.correlationId),i===zt.AccessToken&&this.logger.verbose("0fvwxe",t.correlationId),z(this.acquireTokenFromCache.bind(this),_N,this.logger,this.performanceClient,t.correlationId)(t,i).catch(s=>{if(i===zt.AccessToken)throw s;return this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_NETWORK_START,le.Silent,t),z(this.acquireTokenByRefreshToken.bind(this),EN,this.logger,this.performanceClient,t.correlationId)(t,i)}))}async preGeneratePkceCodes(t){return this.logger.verbose("1x6uj6",t),this.pkceCode=await z(Fa,Ba,this.logger,this.performanceClient,t)(this.performanceClient,this.logger,t),Promise.resolve()}getPreGeneratedPkceCodes(t){const i=this.pkceCode?{...this.pkceCode}:void 0;return this.pkceCode=void 0,i?this.logger.verbose("12js1o",t):this.logger.verbose("1oe9ci",t),this.performanceClient.addFields({usePreGeneratedPkce:!!i},t),i}logMultipleInstances(t,i){const s=this.config.auth.clientId;if(!window)return;window.msal=window.msal||{},window.msal.clientIds=window.msal.clientIds||[],window.msal.clientIds.length>0&&this.logger.verbose("1qtz3l",i),window.msal.clientIds.push(s),sj(s,t,this.logger,i)}}function oj(r,t){const i=!(r instanceof wn&&r.subError!==Lf),s=r.errorCode===_n.INVALID_GRANT_ERROR||r.errorCode===Ma,c=i&&s||r.errorCode===Qh||r.errorCode===zb,u=E0.includes(t);return c&&u}class gm{static loggerCallback(t,i){switch(t){case Ze.Error:console.error(i);return;case Ze.Info:console.info(i);return;case Ze.Verbose:console.debug(i);return;case Ze.Warning:console.warn(i);return;default:console.log(i);return}}constructor(t){this.browserEnvironment=typeof window<"u",this.config=VR(t,this.browserEnvironment);let i;try{i=window[Tn.SessionStorage]}catch{}const s=i?.getItem(lR),c=i?.getItem(uR)?.toLowerCase(),u=c==="true"?!0:c==="false"?!1:void 0,h={...this.config.system.loggerOptions},m=s&&Object.keys(Ze).includes(s)?Ze[s]:void 0;m&&(h.loggerCallback=gm.loggerCallback,h.logLevel=m),u!==void 0&&(h.piiLoggingEnabled=u),this.logger=new zn(h,yR,Ka),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}class Xr extends gm{getModuleName(){return Xr.MODULE_NAME}getId(){return Xr.ID}async initialize(t){return this.available=typeof window<"u",this.available}}Xr.MODULE_NAME="";Xr.ID="StandardOperatingContext";class cj{constructor(t,i){this.controller=i||new mm(new Xr(t))}async initialize(t){return this.controller.initialize(t)}async acquireTokenPopup(t){return this.controller.acquireTokenPopup(t)}acquireTokenRedirect(t){return this.controller.acquireTokenRedirect(t)}acquireTokenSilent(t){return this.controller.acquireTokenSilent(t)}acquireTokenByCode(t){return this.controller.acquireTokenByCode(t)}addEventCallback(t,i){return this.controller.addEventCallback(t,i)}removeEventCallback(t){return this.controller.removeEventCallback(t)}addPerformanceCallback(t){return this.controller.addPerformanceCallback(t)}removePerformanceCallback(t){return this.controller.removePerformanceCallback(t)}getAccount(t){return this.controller.getAccount(t)}getAllAccounts(t){return this.controller.getAllAccounts(t)}handleRedirectPromise(t){return this.controller.handleRedirectPromise(t)}loginPopup(t){return this.controller.loginPopup(t)}loginRedirect(t){return this.controller.loginRedirect(t)}logoutRedirect(t){return this.controller.logoutRedirect(t)}logoutPopup(t){return this.controller.logoutPopup(t)}ssoSilent(t){return this.controller.ssoSilent(t)}getLogger(){return this.controller.getLogger()}setLogger(t){this.controller.setLogger(t)}setActiveAccount(t){this.controller.setActiveAccount(t)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(t,i){return this.controller.initializeWrapperLibrary(t,i)}setNavigationClient(t){this.controller.setNavigationClient(t)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(t,i){return this.controller.hydrateCache(t,i)}clearCache(t){return this.controller.clearCache(t)}}const lj={initialize:()=>Promise.reject(Ct(Pt)),acquireTokenPopup:()=>Promise.reject(Ct(Pt)),acquireTokenRedirect:()=>Promise.reject(Ct(Pt)),acquireTokenSilent:()=>Promise.reject(Ct(Pt)),acquireTokenByCode:()=>Promise.reject(Ct(Pt)),getAllAccounts:()=>[],getAccount:()=>null,handleRedirectPromise:()=>Promise.reject(Ct(Pt)),loginPopup:()=>Promise.reject(Ct(Pt)),loginRedirect:()=>Promise.reject(Ct(Pt)),logoutRedirect:()=>Promise.reject(Ct(Pt)),logoutPopup:()=>Promise.reject(Ct(Pt)),ssoSilent:()=>Promise.reject(Ct(Pt)),addEventCallback:()=>null,removeEventCallback:()=>{},addPerformanceCallback:()=>"",removePerformanceCallback:()=>!1,getLogger:()=>{throw Ct(Pt)},setLogger:()=>{},setActiveAccount:()=>{},getActiveAccount:()=>null,initializeWrapperLibrary:()=>{},setNavigationClient:()=>{},getConfiguration:()=>{throw Ct(Pt)},hydrateCache:()=>Promise.reject(Ct(Pt)),clearCache:()=>Promise.reject(Ct(Pt))};class uj{static getInteractionStatusFromEvent(t,i){switch(t.eventType){case oe.ACQUIRE_TOKEN_START:if(t.interactionType===le.Redirect||t.interactionType===le.Popup)return bt.AcquireToken;break;case oe.HANDLE_REDIRECT_START:return bt.HandleRedirect;case oe.LOGOUT_START:return bt.Logout;case oe.LOGOUT_END:if(i&&i!==bt.Logout)break;return bt.None;case oe.HANDLE_REDIRECT_END:if(i&&i!==bt.HandleRedirect)break;return bt.None;case oe.ACQUIRE_TOKEN_SUCCESS:case oe.ACQUIRE_TOKEN_FAILURE:case oe.RESTORE_FROM_BFCACHE:if(t.interactionType===le.Redirect||t.interactionType===le.Popup){if(i&&i!==bt.AcquireToken)break;return bt.None}break}return null}}const dj={instance:lj,inProgress:bt.None,accounts:[],logger:new zn({})},pm=_.createContext(dj);pm.Consumer;function xC(r,t){if(r.length!==t.length)return!1;const i=[...t];return r.every(s=>{const c=i.shift();return!s||!c?!1:s.homeAccountId===c.homeAccountId&&s.localAccountId===c.localAccountId&&s.username===c.username})}const hj="@azure/msal-react",NC="5.0.2";const jl={UNBLOCK_INPROGRESS:"UNBLOCK_INPROGRESS",EVENT:"EVENT"},fj=(r,t)=>{const{type:i,payload:s}=t;let c=r.inProgress;switch(i){case jl.UNBLOCK_INPROGRESS:r.inProgress===bt.Startup&&(c=bt.None,s.logger.info("MsalProvider - handleRedirectPromise resolved, setting inProgress to 'none'",""));break;case jl.EVENT:const h=s.message,m=uj.getInteractionStatusFromEvent(h,r.inProgress);m&&(s.logger.info(`MsalProvider - '${h.eventType}' results in setting inProgress from '${r.inProgress}' to '${m}'`,""),c=m);break;default:throw new Error(`Unknown action type: ${i}`)}if(c===bt.Startup)return r;const u=s.instance.getAllAccounts();return c!==r.inProgress&&!xC(u,r.accounts)?{...r,inProgress:c,accounts:u}:c!==r.inProgress?{...r,inProgress:c}:xC(u,r.accounts)?r:{...r,accounts:u}};function mj({instance:r,children:t}){_.useEffect(()=>{r.initializeWrapperLibrary(b0.React,NC)},[r]);const i=_.useMemo(()=>r.getLogger().clone(hj,NC),[r]),[s,c]=_.useReducer(fj,void 0,()=>({inProgress:bt.Startup,accounts:[]}));_.useEffect(()=>{const h=r.addEventCallback(m=>{c({payload:{instance:r,logger:i,message:m},type:jl.EVENT})});return i.verbose(`MsalProvider - Registered event callback with id: '${h}'`,""),r.initialize().then(()=>{r.handleRedirectPromise().catch(()=>{}).finally(()=>{c({payload:{instance:r,logger:i},type:jl.UNBLOCK_INPROGRESS})})}).catch(()=>{}),()=>{h&&(i.verbose(`MsalProvider - Removing event callback '${h}'`,""),r.removeEventCallback(h))}},[r,i]);const u={instance:r,inProgress:s.inProgress,accounts:s.accounts,logger:i};return PA.createElement(pm.Provider,{value:u},t)}const NS=()=>_.useContext(pm);function gj(r,t){return r.length>0}function pj(r){const{accounts:t,inProgress:i}=NS();return _.useMemo(()=>i===bt.Startup?!1:gj(t),[t,i,r])}var RC="popstate";function yj(r={}){function t(s,c){let{pathname:u,search:h,hash:m}=s.location;return nf("",{pathname:u,search:h,hash:m},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(s,c){return typeof c=="string"?c:bo(c)}return Cj(t,i,null,r)}function et(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function xn(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function vj(){return Math.random().toString(36).substring(2,10)}function jC(r,t){return{usr:r.state,key:r.key,idx:t}}function nf(r,t,i=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?ts(t):t,state:i,key:t&&t.key||s||vj()}}function bo({pathname:r="/",search:t="",hash:i=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function ts(r){let t={};if(r){let i=r.indexOf("#");i>=0&&(t.hash=r.substring(i),r=r.substring(0,i));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function Cj(r,t,i,s={}){let{window:c=document.defaultView,v5Compat:u=!1}=s,h=c.history,m="POP",g=null,p=v();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function v(){return(h.state||{idx:null}).idx}function C(){m="POP";let j=v(),F=j==null?null:j-p;p=j,g&&g({action:m,location:N.location,delta:F})}function S(j,F){m="PUSH";let H=nf(N.location,j,F);p=v()+1;let M=jC(H,p),$=N.createHref(H);try{h.pushState(M,"",$)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;c.location.assign($)}u&&g&&g({action:m,location:N.location,delta:1})}function x(j,F){m="REPLACE";let H=nf(N.location,j,F);p=v();let M=jC(H,p),$=N.createHref(H);h.replaceState(M,"",$),u&&g&&g({action:m,location:N.location,delta:0})}function T(j){return bj(j)}let N={get action(){return m},get location(){return r(c,h)},listen(j){if(g)throw new Error("A history only accepts one active listener");return c.addEventListener(RC,C),g=j,()=>{c.removeEventListener(RC,C),g=null}},createHref(j){return t(c,j)},createURL:T,encodeLocation(j){let F=T(j);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:S,replace:x,go(j){return h.go(j)}};return N}function bj(r,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),et(i,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:bo(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function RS(r,t,i="/"){return Sj(r,t,i,!1)}function Sj(r,t,i,s){let c=typeof t=="string"?ts(t):t,u=Ti(c.pathname||"/",i);if(u==null)return null;let h=jS(r);_j(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let p=kj(u);m=Oj(h[g],p,s)}return m}function jS(r,t=[],i=[],s="",c=!1){let u=(h,m,g=c,p)=>{let v={relativePath:p===void 0?h.path||"":p,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&g)return;et(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let C=Ei([s,v.relativePath]),S=i.concat(v);h.children&&h.children.length>0&&(et(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${C}".`),jS(h.children,t,S,C,g)),!(h.path==null&&!h.index)&&t.push({path:C,score:Rj(C,h.index),routesMeta:S})};return r.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let g of OS(h.path))u(h,m,!0,g)}),t}function OS(r){let t=r.split("/");if(t.length===0)return[];let[i,...s]=t,c=i.endsWith("?"),u=i.replace(/\?$/,"");if(s.length===0)return c?[u,""]:[u];let h=OS(s.join("/")),m=[];return m.push(...h.map(g=>g===""?u:[u,g].join("/"))),c&&m.push(...h),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function _j(r){r.sort((t,i)=>t.score!==i.score?i.score-t.score:jj(t.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var Ej=/^:[\w-]+$/,Aj=3,Tj=2,wj=1,xj=10,Nj=-2,OC=r=>r==="*";function Rj(r,t){let i=r.split("/"),s=i.length;return i.some(OC)&&(s+=Nj),t&&(s+=Tj),i.filter(c=>!OC(c)).reduce((c,u)=>c+(Ej.test(u)?Aj:u===""?wj:xj),s)}function jj(r,t){return r.length===t.length&&r.slice(0,-1).every((s,c)=>s===t[c])?r[r.length-1]-t[t.length-1]:0}function Oj(r,t,i=!1){let{routesMeta:s}=r,c={},u="/",h=[];for(let m=0;m<s.length;++m){let g=s[m],p=m===s.length-1,v=u==="/"?t:t.slice(u.length)||"/",C=Ol({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},v),S=g.route;if(!C&&p&&i&&!s[s.length-1].route.index&&(C=Ol({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},v)),!C)return null;Object.assign(c,C.params),h.push({params:c,pathname:Ei([u,C.pathname]),pathnameBase:Lj(Ei([u,C.pathnameBase])),route:S}),C.pathnameBase!=="/"&&(u=Ei([u,C.pathnameBase]))}return h}function Ol(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,s]=Ij(r.path,r.caseSensitive,r.end),c=t.match(i);if(!c)return null;let u=c[0],h=u.replace(/(.)\/+$/,"$1"),m=c.slice(1);return{params:s.reduce((p,{paramName:v,isOptional:C},S)=>{if(v==="*"){let T=m[S]||"";h=u.slice(0,u.length-T.length).replace(/(.)\/+$/,"$1")}const x=m[S];return C&&!x?p[v]=void 0:p[v]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:h,pattern:r}}function Ij(r,t=!1,i=!0){xn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],c="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),c+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?c+="\\/*$":r!==""&&r!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,t?void 0:"i"),s]}function kj(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return xn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function Ti(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,s=r.charAt(i);return s&&s!=="/"?null:r.slice(i)||"/"}var IS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mj=r=>IS.test(r);function Dj(r,t="/"){let{pathname:i,search:s="",hash:c=""}=typeof r=="string"?ts(r):r,u;if(i)if(Mj(i))u=i;else{if(i.includes("//")){let h=i;i=i.replace(/\/\/+/g,"/"),xn(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${i}`)}i.startsWith("/")?u=IC(i.substring(1),"/"):u=IC(i,t)}else u=t;return{pathname:u,search:Pj(s),hash:zj(c)}}function IC(r,t){let i=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(c=>{c===".."?i.length>1&&i.pop():c!=="."&&i.push(c)}),i.length>1?i.join("/"):"/"}function Ih(r,t,i,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Uj(r){return r.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function kS(r){let t=Uj(r);return t.map((i,s)=>s===t.length-1?i.pathname:i.pathnameBase)}function MS(r,t,i,s=!1){let c;typeof r=="string"?c=ts(r):(c={...r},et(!c.pathname||!c.pathname.includes("?"),Ih("?","pathname","search",c)),et(!c.pathname||!c.pathname.includes("#"),Ih("#","pathname","hash",c)),et(!c.search||!c.search.includes("#"),Ih("#","search","hash",c)));let u=r===""||c.pathname==="",h=u?"/":c.pathname,m;if(h==null)m=i;else{let C=t.length-1;if(!s&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),C-=1;c.pathname=S.join("/")}m=C>=0?t[C]:"/"}let g=Dj(c,m),p=h&&h!=="/"&&h.endsWith("/"),v=(u||h===".")&&i.endsWith("/");return!g.pathname.endsWith("/")&&(p||v)&&(g.pathname+="/"),g}var Ei=r=>r.join("/").replace(/\/\/+/g,"/"),Lj=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Pj=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,zj=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Hj=class{constructor(r,t,i,s=!1){this.status=r,this.statusText=t||"",this.internal=s,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function Bj(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function Kj(r){return r.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var DS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function US(r,t){let i=r;if(typeof i!="string"||!IS.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let s=i,c=!1;if(DS)try{let u=new URL(window.location.href),h=i.startsWith("//")?new URL(u.protocol+i):new URL(i),m=Ti(h.pathname,t);h.origin===u.origin&&m!=null?i=m+h.search+h.hash:c=!0}catch{xn(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:c,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var LS=["POST","PUT","PATCH","DELETE"];new Set(LS);var Fj=["GET",...LS];new Set(Fj);var ns=_.createContext(null);ns.displayName="DataRouter";var Jl=_.createContext(null);Jl.displayName="DataRouterState";var Gj=_.createContext(!1),PS=_.createContext({isTransitioning:!1});PS.displayName="ViewTransition";var qj=_.createContext(new Map);qj.displayName="Fetchers";var Vj=_.createContext(null);Vj.displayName="Await";var Nn=_.createContext(null);Nn.displayName="Navigation";var To=_.createContext(null);To.displayName="Location";var Wn=_.createContext({outlet:null,matches:[],isDataRoute:!1});Wn.displayName="Route";var ym=_.createContext(null);ym.displayName="RouteError";var zS="REACT_ROUTER_ERROR",Yj="REDIRECT",Qj="ROUTE_ERROR_RESPONSE";function Jj(r){if(r.startsWith(`${zS}:${Yj}:{`))try{let t=JSON.parse(r.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function Xj(r){if(r.startsWith(`${zS}:${Qj}:{`))try{let t=JSON.parse(r.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new Hj(t.status,t.statusText,t.data)}catch{}}function $j(r,{relative:t}={}){et(wo(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=_.useContext(Nn),{hash:c,pathname:u,search:h}=xo(r,{relative:t}),m=u;return i!=="/"&&(m=u==="/"?i:Ei([i,u])),s.createHref({pathname:m,search:h,hash:c})}function wo(){return _.useContext(To)!=null}function la(){return et(wo(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(To).location}var HS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function BS(r){_.useContext(Nn).static||_.useLayoutEffect(r)}function is(){let{isDataRoute:r}=_.useContext(Wn);return r?uO():Zj()}function Zj(){et(wo(),"useNavigate() may be used only in the context of a <Router> component.");let r=_.useContext(ns),{basename:t,navigator:i}=_.useContext(Nn),{matches:s}=_.useContext(Wn),{pathname:c}=la(),u=JSON.stringify(kS(s)),h=_.useRef(!1);return BS(()=>{h.current=!0}),_.useCallback((g,p={})=>{if(xn(h.current,HS),!h.current)return;if(typeof g=="number"){i.go(g);return}let v=MS(g,JSON.parse(u),c,p.relative==="path");r==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:Ei([t,v.pathname])),(p.replace?i.replace:i.push)(v,p.state,p)},[t,i,u,c,r])}_.createContext(null);function vm(){let{matches:r}=_.useContext(Wn),t=r[r.length-1];return t?t.params:{}}function xo(r,{relative:t}={}){let{matches:i}=_.useContext(Wn),{pathname:s}=la(),c=JSON.stringify(kS(i));return _.useMemo(()=>MS(r,JSON.parse(c),s,t==="path"),[r,c,s,t])}function Wj(r,t){return KS(r,t)}function KS(r,t,i,s,c){et(wo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=_.useContext(Nn),{matches:h}=_.useContext(Wn),m=h[h.length-1],g=m?m.params:{},p=m?m.pathname:"/",v=m?m.pathnameBase:"/",C=m&&m.route;{let H=C&&C.path||"";GS(p,!C||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let S=la(),x;if(t){let H=typeof t=="string"?ts(t):t;et(v==="/"||H.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${H.pathname}" was given in the \`location\` prop.`),x=H}else x=S;let T=x.pathname||"/",N=T;if(v!=="/"){let H=v.replace(/^\//,"").split("/");N="/"+T.replace(/^\//,"").split("/").slice(H.length).join("/")}let j=RS(r,{pathname:N});xn(C||j!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),xn(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=aO(j&&j.map(H=>Object.assign({},H,{params:Object.assign({},g,H.params),pathname:Ei([v,u.encodeLocation?u.encodeLocation(H.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?v:Ei([v,u.encodeLocation?u.encodeLocation(H.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathnameBase])})),h,i,s,c);return t&&F?_.createElement(To.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},F):F}function eO(){let r=lO(),t=Bj(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:u},"ErrorBoundary")," or"," ",_.createElement("code",{style:u},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),i?_.createElement("pre",{style:c},i):null,h)}var tO=_.createElement(eO,null),FS=class extends _.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.onError?this.props.onError(r,t):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const i=Xj(r.digest);i&&(r=i)}let t=r!==void 0?_.createElement(Wn.Provider,{value:this.props.routeContext},_.createElement(ym.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?_.createElement(nO,{error:r},t):t}};FS.contextType=Gj;var kh=new WeakMap;function nO({children:r,error:t}){let{basename:i}=_.useContext(Nn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=Jj(t.digest);if(s){let c=kh.get(t);if(c)throw c;let u=US(s.location,i);if(DS&&!kh.get(t))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw kh.set(t,h),h}return _.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function iO({routeContext:r,match:t,children:i}){let s=_.useContext(ns);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),_.createElement(Wn.Provider,{value:r},i)}function aO(r,t=[],i=null,s=null,c=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let u=r,h=i?.errors;if(h!=null){let v=u.findIndex(C=>C.route.id&&h?.[C.route.id]!==void 0);et(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,v+1))}let m=!1,g=-1;if(i)for(let v=0;v<u.length;v++){let C=u[v];if((C.route.HydrateFallback||C.route.hydrateFallbackElement)&&(g=v),C.route.id){let{loaderData:S,errors:x}=i,T=C.route.loader&&!S.hasOwnProperty(C.route.id)&&(!x||x[C.route.id]===void 0);if(C.route.lazy||T){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let p=i&&s?(v,C)=>{s(v,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:Kj(i.matches),errorInfo:C})}:void 0;return u.reduceRight((v,C,S)=>{let x,T=!1,N=null,j=null;i&&(x=h&&C.route.id?h[C.route.id]:void 0,N=C.route.errorElement||tO,m&&(g<0&&S===0?(GS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,j=null):g===S&&(T=!0,j=C.route.hydrateFallbackElement||null)));let F=t.concat(u.slice(0,S+1)),H=()=>{let M;return x?M=N:T?M=j:C.route.Component?M=_.createElement(C.route.Component,null):C.route.element?M=C.route.element:M=v,_.createElement(iO,{match:C,routeContext:{outlet:v,matches:F,isDataRoute:i!=null},children:M})};return i&&(C.route.ErrorBoundary||C.route.errorElement||S===0)?_.createElement(FS,{location:i.location,revalidation:i.revalidation,component:N,error:x,children:H(),routeContext:{outlet:null,matches:F,isDataRoute:!0},onError:p}):H()},null)}function Cm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rO(r){let t=_.useContext(ns);return et(t,Cm(r)),t}function sO(r){let t=_.useContext(Jl);return et(t,Cm(r)),t}function oO(r){let t=_.useContext(Wn);return et(t,Cm(r)),t}function bm(r){let t=oO(r),i=t.matches[t.matches.length-1];return et(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function cO(){return bm("useRouteId")}function lO(){let r=_.useContext(ym),t=sO("useRouteError"),i=bm("useRouteError");return r!==void 0?r:t.errors?.[i]}function uO(){let{router:r}=rO("useNavigate"),t=bm("useNavigate"),i=_.useRef(!1);return BS(()=>{i.current=!0}),_.useCallback(async(c,u={})=>{xn(i.current,HS),i.current&&(typeof c=="number"?await r.navigate(c):await r.navigate(c,{fromRouteId:t,...u}))},[r,t])}var kC={};function GS(r,t,i){!t&&!kC[r]&&(kC[r]=!0,xn(!1,i))}_.memo(dO);function dO({routes:r,future:t,state:i,onError:s}){return KS(r,void 0,i,s,t)}function Sn(r){et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function hO({basename:r="/",children:t=null,location:i,navigationType:s="POP",navigator:c,static:u=!1,unstable_useTransitions:h}){et(!wo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),g=_.useMemo(()=>({basename:m,navigator:c,static:u,unstable_useTransitions:h,future:{}}),[m,c,u,h]);typeof i=="string"&&(i=ts(i));let{pathname:p="/",search:v="",hash:C="",state:S=null,key:x="default"}=i,T=_.useMemo(()=>{let N=Ti(p,m);return N==null?null:{location:{pathname:N,search:v,hash:C,state:S,key:x},navigationType:s}},[m,p,v,C,S,x,s]);return xn(T!=null,`<Router basename="${m}"> is not able to match the URL "${p}${v}${C}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:_.createElement(Nn.Provider,{value:g},_.createElement(To.Provider,{children:t,value:T}))}function fO({children:r,location:t}){return Wj(af(r),t)}function af(r,t=[]){let i=[];return _.Children.forEach(r,(s,c)=>{if(!_.isValidElement(s))return;let u=[...t,c];if(s.type===_.Fragment){i.push.apply(i,af(s.props.children,u));return}et(s.type===Sn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),et(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=af(s.props.children,u)),i.push(h)}),i}var ll="get",ul="application/x-www-form-urlencoded";function Xl(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function mO(r){return Xl(r)&&r.tagName.toLowerCase()==="button"}function gO(r){return Xl(r)&&r.tagName.toLowerCase()==="form"}function pO(r){return Xl(r)&&r.tagName.toLowerCase()==="input"}function yO(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function vO(r,t){return r.button===0&&(!t||t==="_self")&&!yO(r)}function rf(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((t,i)=>{let s=r[i];return t.concat(Array.isArray(s)?s.map(c=>[i,c]):[[i,s]])},[]))}function CO(r,t){let i=rf(r);return t&&t.forEach((s,c)=>{i.has(c)||t.getAll(c).forEach(u=>{i.append(c,u)})}),i}var tl=null;function bO(){if(tl===null)try{new FormData(document.createElement("form"),0),tl=!1}catch{tl=!0}return tl}var SO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Mh(r){return r!=null&&!SO.has(r)?(xn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ul}"`),null):r}function _O(r,t){let i,s,c,u,h;if(gO(r)){let m=r.getAttribute("action");s=m?Ti(m,t):null,i=r.getAttribute("method")||ll,c=Mh(r.getAttribute("enctype"))||ul,u=new FormData(r)}else if(mO(r)||pO(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?Ti(g,t):null,i=r.getAttribute("formmethod")||m.getAttribute("method")||ll,c=Mh(r.getAttribute("formenctype"))||Mh(m.getAttribute("enctype"))||ul,u=new FormData(m,r),!bO()){let{name:p,type:v,value:C}=r;if(v==="image"){let S=p?`${p}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else p&&u.append(p,C)}}else{if(Xl(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=ll,s=null,c=ul,h=r}return u&&c==="text/plain"&&(h=u,u=void 0),{action:s,method:i.toLowerCase(),encType:c,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Sm(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function EO(r,t,i,s){let c=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return i?c.pathname.endsWith("/")?c.pathname=`${c.pathname}_.${s}`:c.pathname=`${c.pathname}.${s}`:c.pathname==="/"?c.pathname=`_root.${s}`:t&&Ti(c.pathname,t)==="/"?c.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:c.pathname=`${c.pathname.replace(/\/$/,"")}.${s}`,c}async function AO(r,t){if(r.id in t)return t[r.id];try{let i=await import(r.module);return t[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function TO(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function wO(r,t,i){let s=await Promise.all(r.map(async c=>{let u=t.routes[c.route.id];if(u){let h=await AO(u,i);return h.links?h.links():[]}return[]}));return jO(s.flat(1).filter(TO).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function MC(r,t,i,s,c,u){let h=(g,p)=>i[p]?g.route.id!==i[p].route.id:!0,m=(g,p)=>i[p].pathname!==g.pathname||i[p].route.path?.endsWith("*")&&i[p].params["*"]!==g.params["*"];return u==="assets"?t.filter((g,p)=>h(g,p)||m(g,p)):u==="data"?t.filter((g,p)=>{let v=s.routes[g.route.id];if(!v||!v.hasLoader)return!1;if(h(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let C=g.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function xO(r,t,{includeHydrateFallback:i}={}){return NO(r.map(s=>{let c=t.routes[s.route.id];if(!c)return[];let u=[c.module];return c.clientActionModule&&(u=u.concat(c.clientActionModule)),c.clientLoaderModule&&(u=u.concat(c.clientLoaderModule)),i&&c.hydrateFallbackModule&&(u=u.concat(c.hydrateFallbackModule)),c.imports&&(u=u.concat(c.imports)),u}).flat(1))}function NO(r){return[...new Set(r)]}function RO(r){let t={},i=Object.keys(r).sort();for(let s of i)t[s]=r[s];return t}function jO(r,t){let i=new Set;return new Set(t),r.reduce((s,c)=>{let u=JSON.stringify(RO(c));return i.has(u)||(i.add(u),s.push({key:u,link:c})),s},[])}function qS(){let r=_.useContext(ns);return Sm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function OO(){let r=_.useContext(Jl);return Sm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var _m=_.createContext(void 0);_m.displayName="FrameworkContext";function VS(){let r=_.useContext(_m);return Sm(r,"You must render this element inside a <HydratedRouter> element"),r}function IO(r,t){let i=_.useContext(_m),[s,c]=_.useState(!1),[u,h]=_.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:v,onTouchStart:C}=t,S=_.useRef(null);_.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let N=F=>{F.forEach(H=>{h(H.isIntersecting)})},j=new IntersectionObserver(N,{threshold:.5});return S.current&&j.observe(S.current),()=>{j.disconnect()}}},[r]),_.useEffect(()=>{if(s){let N=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(N)}}},[s]);let x=()=>{c(!0)},T=()=>{c(!1),h(!1)};return i?r!=="intent"?[u,S,{}]:[u,S,{onFocus:so(m,x),onBlur:so(g,T),onMouseEnter:so(p,x),onMouseLeave:so(v,T),onTouchStart:so(C,x)}]:[!1,S,{}]}function so(r,t){return i=>{r&&r(i),i.defaultPrevented||t(i)}}function kO({page:r,...t}){let{router:i}=qS(),s=_.useMemo(()=>RS(i.routes,r,i.basename),[i.routes,r,i.basename]);return s?_.createElement(DO,{page:r,matches:s,...t}):null}function MO(r){let{manifest:t,routeModules:i}=VS(),[s,c]=_.useState([]);return _.useEffect(()=>{let u=!1;return wO(r,t,i).then(h=>{u||c(h)}),()=>{u=!0}},[r,t,i]),s}function DO({page:r,matches:t,...i}){let s=la(),{future:c,manifest:u,routeModules:h}=VS(),{basename:m}=qS(),{loaderData:g,matches:p}=OO(),v=_.useMemo(()=>MC(r,t,p,u,s,"data"),[r,t,p,u,s]),C=_.useMemo(()=>MC(r,t,p,u,s,"assets"),[r,t,p,u,s]),S=_.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let N=new Set,j=!1;if(t.forEach(H=>{let M=u.routes[H.route.id];!M||!M.hasLoader||(!v.some($=>$.route.id===H.route.id)&&H.route.id in g&&h[H.route.id]?.shouldRevalidate||M.hasClientLoader?j=!0:N.add(H.route.id))}),N.size===0)return[];let F=EO(r,m,c.unstable_trailingSlashAwareDataRequests,"data");return j&&N.size>0&&F.searchParams.set("_routes",t.filter(H=>N.has(H.route.id)).map(H=>H.route.id).join(",")),[F.pathname+F.search]},[m,c.unstable_trailingSlashAwareDataRequests,g,s,u,v,t,r,h]),x=_.useMemo(()=>xO(C,u),[C,u]),T=MO(C);return _.createElement(_.Fragment,null,S.map(N=>_.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...i})),x.map(N=>_.createElement("link",{key:N,rel:"modulepreload",href:N,...i})),T.map(({key:N,link:j})=>_.createElement("link",{key:N,nonce:i.nonce,...j})))}function UO(...r){return t=>{r.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var LO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{LO&&(window.__reactRouterVersion="7.12.0")}catch{}function PO({basename:r,children:t,unstable_useTransitions:i,window:s}){let c=_.useRef();c.current==null&&(c.current=yj({window:s,v5Compat:!0}));let u=c.current,[h,m]=_.useState({action:u.action,location:u.location}),g=_.useCallback(p=>{i===!1?m(p):_.startTransition(()=>m(p))},[i]);return _.useLayoutEffect(()=>u.listen(g),[u,g]),_.createElement(hO,{basename:r,children:t,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:i})}var YS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$t=_.forwardRef(function({onClick:t,discover:i="render",prefetch:s="none",relative:c,reloadDocument:u,replace:h,state:m,target:g,to:p,preventScrollReset:v,viewTransition:C,unstable_defaultShouldRevalidate:S,...x},T){let{basename:N,unstable_useTransitions:j}=_.useContext(Nn),F=typeof p=="string"&&YS.test(p),H=US(p,N);p=H.to;let M=$j(p,{relative:c}),[$,Q,ue]=IO(s,x),q=BO(p,{replace:h,state:m,target:g,preventScrollReset:v,relative:c,viewTransition:C,unstable_defaultShouldRevalidate:S,unstable_useTransitions:j});function ye(at){t&&t(at),at.defaultPrevented||q(at)}let Re=_.createElement("a",{...x,...ue,href:H.absoluteURL||M,onClick:H.isExternal||u?t:ye,ref:UO(T,Q),target:g,"data-discover":!F&&i==="render"?"true":void 0});return $&&!F?_.createElement(_.Fragment,null,Re,_.createElement(kO,{page:M})):Re});$t.displayName="Link";var QS=_.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:s="",end:c=!1,style:u,to:h,viewTransition:m,children:g,...p},v){let C=xo(h,{relative:p.relative}),S=la(),x=_.useContext(Jl),{navigator:T,basename:N}=_.useContext(Nn),j=x!=null&&YO(C)&&m===!0,F=T.encodeLocation?T.encodeLocation(C).pathname:C.pathname,H=S.pathname,M=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;i||(H=H.toLowerCase(),M=M?M.toLowerCase():null,F=F.toLowerCase()),M&&N&&(M=Ti(M,N)||M);const $=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let Q=H===F||!c&&H.startsWith(F)&&H.charAt($)==="/",ue=M!=null&&(M===F||!c&&M.startsWith(F)&&M.charAt(F.length)==="/"),q={isActive:Q,isPending:ue,isTransitioning:j},ye=Q?t:void 0,Re;typeof s=="function"?Re=s(q):Re=[s,Q?"active":null,ue?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let at=typeof u=="function"?u(q):u;return _.createElement($t,{...p,"aria-current":ye,className:Re,ref:v,style:at,to:h,viewTransition:m},typeof g=="function"?g(q):g)});QS.displayName="NavLink";var zO=_.forwardRef(({discover:r="render",fetcherKey:t,navigate:i,reloadDocument:s,replace:c,state:u,method:h=ll,action:m,onSubmit:g,relative:p,preventScrollReset:v,viewTransition:C,unstable_defaultShouldRevalidate:S,...x},T)=>{let{unstable_useTransitions:N}=_.useContext(Nn),j=qO(),F=VO(m,{relative:p}),H=h.toLowerCase()==="get"?"get":"post",M=typeof m=="string"&&YS.test(m),$=Q=>{if(g&&g(Q),Q.defaultPrevented)return;Q.preventDefault();let ue=Q.nativeEvent.submitter,q=ue?.getAttribute("formmethod")||h,ye=()=>j(ue||Q.currentTarget,{fetcherKey:t,method:q,navigate:i,replace:c,state:u,relative:p,preventScrollReset:v,viewTransition:C,unstable_defaultShouldRevalidate:S});N&&i!==!1?_.startTransition(()=>ye()):ye()};return _.createElement("form",{ref:T,method:H,action:F,onSubmit:s?g:$,...x,"data-discover":!M&&r==="render"?"true":void 0})});zO.displayName="Form";function HO(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JS(r){let t=_.useContext(ns);return et(t,HO(r)),t}function BO(r,{target:t,replace:i,state:s,preventScrollReset:c,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let p=is(),v=la(),C=xo(r,{relative:u});return _.useCallback(S=>{if(vO(S,t)){S.preventDefault();let x=i!==void 0?i:bo(v)===bo(C),T=()=>p(r,{replace:x,state:s,preventScrollReset:c,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m});g?_.startTransition(()=>T()):T()}},[v,p,C,i,s,t,r,c,u,h,m,g])}function KO(r){xn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=_.useRef(rf(r)),i=_.useRef(!1),s=la(),c=_.useMemo(()=>CO(s.search,i.current?null:t.current),[s.search]),u=is(),h=_.useCallback((m,g)=>{const p=rf(typeof m=="function"?m(new URLSearchParams(c)):m);i.current=!0,u("?"+p,g)},[u,c]);return[c,h]}var FO=0,GO=()=>`__${String(++FO)}__`;function qO(){let{router:r}=JS("useSubmit"),{basename:t}=_.useContext(Nn),i=cO(),s=r.fetch,c=r.navigate;return _.useCallback(async(u,h={})=>{let{action:m,method:g,encType:p,formData:v,body:C}=_O(u,t);if(h.navigate===!1){let S=h.fetcherKey||GO();await s(S,i,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:v,body:C,formMethod:h.method||g,formEncType:h.encType||p,flushSync:h.flushSync})}else await c(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:v,body:C,formMethod:h.method||g,formEncType:h.encType||p,replace:h.replace,state:h.state,fromRouteId:i,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,c,t,i])}function VO(r,{relative:t}={}){let{basename:i}=_.useContext(Nn),s=_.useContext(Wn);et(s,"useFormAction must be used inside a RouteContext");let[c]=s.matches.slice(-1),u={...xo(r||".",{relative:t})},h=la();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(v=>v==="")){m.delete("index"),g.filter(C=>C).forEach(C=>m.append("index",C));let v=m.toString();u.search=v?`?${v}`:""}}return(!r||r===".")&&c.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:Ei([i,u.pathname])),bo(u)}function YO(r,{relative:t}={}){let i=_.useContext(PS);et(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=JS("useViewTransitionState"),c=xo(r,{relative:t});if(!i.isTransitioning)return!1;let u=Ti(i.currentLocation.pathname,s)||i.currentLocation.pathname,h=Ti(i.nextLocation.pathname,s)||i.nextLocation.pathname;return Ol(c.pathname,h)!=null||Ol(c.pathname,u)!=null}function QO({showNav:r=!0,subscriptionId:t}){return l.jsxs("header",{className:"ct-header-container",children:[l.jsx("div",{className:"ct-header-logo",children:l.jsxs($t,{to:"/",className:"ct-header-logo__link",children:[l.jsx("span",{className:"ct-header-logo__icon",children:""}),l.jsx("span",{className:"ct-header-logo__text",children:"ComsignTrust Billing"})]})}),l.jsx("div",{className:"ct-header-actions",children:r&&l.jsxs("nav",{className:"ct-header-nav",children:[l.jsx($t,{to:"/pricing",className:"ct-header-nav__item",children:"Pricing"}),t&&l.jsx($t,{to:`/dashboard/${t}`,className:"ct-header-nav__item",children:"Dashboard"}),l.jsx($t,{to:"/admin",className:"ct-header-nav__item",children:"Admin"})]})})]})}function JO({items:r}){return l.jsx("aside",{className:"ct-sidebar",children:l.jsx("div",{className:"ct-sidebar__container",children:l.jsx("nav",{className:"ct-sidebar__nav",children:r.map(t=>l.jsxs(QS,{to:t.path,className:({isActive:i})=>`ct-sidebar__item ${i?"ct-sidebar__item--active":""}`,children:[l.jsx("span",{className:"ct-sidebar__icon",children:t.icon}),l.jsx("span",{className:"ct-sidebar__label",children:t.label})]},t.path))})})})}function ot({children:r,showSidebar:t=!1,subscriptionId:i}){const s=i?[{path:`/dashboard/${i}`,label:"Dashboard",icon:""},{path:`/dashboard/${i}/history`,label:"Usage History",icon:""}]:[];return l.jsxs("div",{className:"ct-layout",children:[l.jsx(QO,{showNav:!0,subscriptionId:i}),l.jsxs("div",{className:"ct-layout__content",children:[t&&i&&l.jsx(JO,{items:s}),l.jsx("main",{className:`ct-main ${t?"ct-main--with-sidebar":""}`,children:r})]})]})}function Ae({variant:r="primary",size:t="medium",children:i,loading:s=!1,className:c="",disabled:u,...h}){const m="ct-button",g=`ct-button--${r}`,p=`ct-button--${t}`;return l.jsx("button",{className:`${m} ${g} ${p} ${c}`,disabled:u||s,...h,children:s?l.jsxs("span",{className:"ct-button__loading",children:[l.jsx("span",{className:"ct-spinner"}),"Loading..."]}):i})}function Ye({children:r,className:t="",highlighted:i=!1,onClick:s}){return l.jsx("div",{className:`ct-card ${i?"ct-card--highlighted":""} ${t}`,onClick:s,role:s?"button":void 0,tabIndex:s?0:void 0,children:r})}function Mt({children:r,className:t=""}){return l.jsx("div",{className:`ct-card__header ${t}`,children:r})}function Qe({children:r,className:t=""}){return l.jsx("div",{className:`ct-card__body ${t}`,children:r})}function XO({children:r,className:t=""}){return l.jsx("div",{className:`ct-card__footer ${t}`,children:r})}function sf({columns:r,data:t,keyExtractor:i,onRowClick:s,emptyMessage:c="No data available",loading:u=!1}){return u?l.jsxs("div",{className:"ct-table--loading",children:[l.jsx("div",{className:"ct-spinner ct-spinner--large"}),l.jsx("p",{children:"Loading..."})]}):l.jsx("div",{className:"ct-table--overflow",children:l.jsxs("table",{className:"ct-table",children:[l.jsx("thead",{children:l.jsx("tr",{children:r.map(h=>l.jsx("th",{style:{width:h.width},children:h.header},h.key))})}),l.jsx("tbody",{children:t.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:r.length,className:"ct-table__empty",children:c})}):t.map(h=>l.jsx("tr",{onClick:()=>s?.(h),className:s?"ct-table__row--clickable":"",children:r.map(m=>l.jsx("td",{children:m.render?m.render(h):h[m.key]?.toString()??""},m.key))},i(h)))})]})})}function Il({type:r,message:t,onClose:i,autoClose:s=!0,duration:c=5e3}){const[u,h]=_.useState(!0);if(_.useEffect(()=>{if(s){const g=setTimeout(()=>{h(!1),i?.()},c);return()=>clearTimeout(g)}},[s,c,i]),!u)return null;const m=r==="success"?"is-confirm":r==="error"?"is-error":"";return l.jsxs("div",{className:`ct-alert ${m}`,children:[l.jsx("span",{className:"ct-alert__message",children:t}),i&&l.jsx("button",{className:"ct-alert__close",onClick:()=>{h(!1),i()},children:""})]})}function kl({isOpen:r,onClose:t,title:i,children:s,size:c="medium"}){return _.useEffect(()=>{const u=h=>{h.key==="Escape"&&t()};return r&&(document.addEventListener("keydown",u),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",u),document.body.style.overflow="unset"}},[r,t]),r?l.jsx("div",{className:"ct-modal-overlay",onClick:t,children:l.jsxs("div",{className:`ct-modal ct-modal--${c}`,onClick:u=>u.stopPropagation(),children:[l.jsxs("div",{className:"ct-modal__header",children:[l.jsx("h2",{className:"ct-modal__title",children:i}),l.jsx("button",{className:"ct-modal__close",onClick:t,children:""})]}),l.jsx("div",{className:"ct-modal__body",children:s})]})}):null}const Dh=[{code:"AF",name:"Afghanistan"},{code:"AX",name:"land Islands"},{code:"AL",name:"Albania"},{code:"DZ",name:"Algeria"},{code:"AS",name:"American Samoa"},{code:"AD",name:"Andorra"},{code:"AO",name:"Angola"},{code:"AI",name:"Anguilla"},{code:"AQ",name:"Antarctica"},{code:"AG",name:"Antigua and Barbuda"},{code:"AR",name:"Argentina"},{code:"AM",name:"Armenia"},{code:"AW",name:"Aruba"},{code:"AU",name:"Australia"},{code:"AT",name:"Austria"},{code:"AZ",name:"Azerbaijan"},{code:"BS",name:"Bahamas"},{code:"BH",name:"Bahrain"},{code:"BD",name:"Bangladesh"},{code:"BB",name:"Barbados"},{code:"BY",name:"Belarus"},{code:"BE",name:"Belgium"},{code:"BZ",name:"Belize"},{code:"BJ",name:"Benin"},{code:"BM",name:"Bermuda"},{code:"BT",name:"Bhutan"},{code:"BO",name:"Bolivia"},{code:"BQ",name:"Bonaire, Sint Eustatius and Saba"},{code:"BA",name:"Bosnia and Herzegovina"},{code:"BW",name:"Botswana"},{code:"BV",name:"Bouvet Island"},{code:"BR",name:"Brazil"},{code:"IO",name:"British Indian Ocean Territory"},{code:"BN",name:"Brunei Darussalam"},{code:"BG",name:"Bulgaria"},{code:"BF",name:"Burkina Faso"},{code:"BI",name:"Burundi"},{code:"CV",name:"Cabo Verde"},{code:"KH",name:"Cambodia"},{code:"CM",name:"Cameroon"},{code:"CA",name:"Canada"},{code:"KY",name:"Cayman Islands"},{code:"CF",name:"Central African Republic"},{code:"TD",name:"Chad"},{code:"CL",name:"Chile"},{code:"CN",name:"China"},{code:"CX",name:"Christmas Island"},{code:"CC",name:"Cocos (Keeling) Islands"},{code:"CO",name:"Colombia"},{code:"KM",name:"Comoros"},{code:"CG",name:"Congo"},{code:"CD",name:"Congo, Democratic Republic of the"},{code:"CK",name:"Cook Islands"},{code:"CR",name:"Costa Rica"},{code:"CI",name:"Cte d'Ivoire"},{code:"HR",name:"Croatia"},{code:"CU",name:"Cuba"},{code:"CW",name:"Curaao"},{code:"CY",name:"Cyprus"},{code:"CZ",name:"Czech Republic"},{code:"DK",name:"Denmark"},{code:"DJ",name:"Djibouti"},{code:"DM",name:"Dominica"},{code:"DO",name:"Dominican Republic"},{code:"EC",name:"Ecuador"},{code:"EG",name:"Egypt"},{code:"SV",name:"El Salvador"},{code:"GQ",name:"Equatorial Guinea"},{code:"ER",name:"Eritrea"},{code:"EE",name:"Estonia"},{code:"SZ",name:"Eswatini"},{code:"ET",name:"Ethiopia"},{code:"FK",name:"Falkland Islands (Malvinas)"},{code:"FO",name:"Faroe Islands"},{code:"FJ",name:"Fiji"},{code:"FI",name:"Finland"},{code:"FR",name:"France"},{code:"GF",name:"French Guiana"},{code:"PF",name:"French Polynesia"},{code:"TF",name:"French Southern Territories"},{code:"GA",name:"Gabon"},{code:"GM",name:"Gambia"},{code:"GE",name:"Georgia"},{code:"DE",name:"Germany"},{code:"GH",name:"Ghana"},{code:"GI",name:"Gibraltar"},{code:"GR",name:"Greece"},{code:"GL",name:"Greenland"},{code:"GD",name:"Grenada"},{code:"GP",name:"Guadeloupe"},{code:"GU",name:"Guam"},{code:"GT",name:"Guatemala"},{code:"GG",name:"Guernsey"},{code:"GN",name:"Guinea"},{code:"GW",name:"Guinea-Bissau"},{code:"GY",name:"Guyana"},{code:"HT",name:"Haiti"},{code:"HM",name:"Heard Island and McDonald Islands"},{code:"VA",name:"Holy See"},{code:"HN",name:"Honduras"},{code:"HK",name:"Hong Kong"},{code:"HU",name:"Hungary"},{code:"IS",name:"Iceland"},{code:"IN",name:"India"},{code:"ID",name:"Indonesia"},{code:"IR",name:"Iran"},{code:"IQ",name:"Iraq"},{code:"IE",name:"Ireland"},{code:"IM",name:"Isle of Man"},{code:"IL",name:"Israel"},{code:"IT",name:"Italy"},{code:"JM",name:"Jamaica"},{code:"JP",name:"Japan"},{code:"JE",name:"Jersey"},{code:"JO",name:"Jordan"},{code:"KZ",name:"Kazakhstan"},{code:"KE",name:"Kenya"},{code:"KI",name:"Kiribati"},{code:"KP",name:"Korea, Democratic People's Republic of"},{code:"KR",name:"Korea, Republic of"},{code:"KW",name:"Kuwait"},{code:"KG",name:"Kyrgyzstan"},{code:"LA",name:"Lao People's Democratic Republic"},{code:"LV",name:"Latvia"},{code:"LB",name:"Lebanon"},{code:"LS",name:"Lesotho"},{code:"LR",name:"Liberia"},{code:"LY",name:"Libya"},{code:"LI",name:"Liechtenstein"},{code:"LT",name:"Lithuania"},{code:"LU",name:"Luxembourg"},{code:"MO",name:"Macao"},{code:"MG",name:"Madagascar"},{code:"MW",name:"Malawi"},{code:"MY",name:"Malaysia"},{code:"MV",name:"Maldives"},{code:"ML",name:"Mali"},{code:"MT",name:"Malta"},{code:"MH",name:"Marshall Islands"},{code:"MQ",name:"Martinique"},{code:"MR",name:"Mauritania"},{code:"MU",name:"Mauritius"},{code:"YT",name:"Mayotte"},{code:"MX",name:"Mexico"},{code:"FM",name:"Micronesia"},{code:"MD",name:"Moldova"},{code:"MC",name:"Monaco"},{code:"MN",name:"Mongolia"},{code:"ME",name:"Montenegro"},{code:"MS",name:"Montserrat"},{code:"MA",name:"Morocco"},{code:"MZ",name:"Mozambique"},{code:"MM",name:"Myanmar"},{code:"NA",name:"Namibia"},{code:"NR",name:"Nauru"},{code:"NP",name:"Nepal"},{code:"NL",name:"Netherlands"},{code:"NC",name:"New Caledonia"},{code:"NZ",name:"New Zealand"},{code:"NI",name:"Nicaragua"},{code:"NE",name:"Niger"},{code:"NG",name:"Nigeria"},{code:"NU",name:"Niue"},{code:"NF",name:"Norfolk Island"},{code:"MK",name:"North Macedonia"},{code:"MP",name:"Northern Mariana Islands"},{code:"NO",name:"Norway"},{code:"OM",name:"Oman"},{code:"PK",name:"Pakistan"},{code:"PW",name:"Palau"},{code:"PS",name:"Palestinian Authority"},{code:"PA",name:"Panama"},{code:"PG",name:"Papua New Guinea"},{code:"PY",name:"Paraguay"},{code:"PE",name:"Peru"},{code:"PH",name:"Philippines"},{code:"PN",name:"Pitcairn"},{code:"PL",name:"Poland"},{code:"PT",name:"Portugal"},{code:"PR",name:"Puerto Rico"},{code:"QA",name:"Qatar"},{code:"RE",name:"Runion"},{code:"RO",name:"Romania"},{code:"RU",name:"Russian Federation"},{code:"RW",name:"Rwanda"},{code:"BL",name:"Saint Barthlemy"},{code:"SH",name:"Saint Helena, Ascension and Tristan da Cunha"},{code:"KN",name:"Saint Kitts and Nevis"},{code:"LC",name:"Saint Lucia"},{code:"MF",name:"Saint Martin (French part)"},{code:"PM",name:"Saint Pierre and Miquelon"},{code:"VC",name:"Saint Vincent and the Grenadines"},{code:"WS",name:"Samoa"},{code:"SM",name:"San Marino"},{code:"ST",name:"Sao Tome and Principe"},{code:"SA",name:"Saudi Arabia"},{code:"SN",name:"Senegal"},{code:"RS",name:"Serbia"},{code:"SC",name:"Seychelles"},{code:"SL",name:"Sierra Leone"},{code:"SG",name:"Singapore"},{code:"SX",name:"Sint Maarten (Dutch part)"},{code:"SK",name:"Slovakia"},{code:"SI",name:"Slovenia"},{code:"SB",name:"Solomon Islands"},{code:"SO",name:"Somalia"},{code:"ZA",name:"South Africa"},{code:"GS",name:"South Georgia and the South Sandwich Islands"},{code:"SS",name:"South Sudan"},{code:"ES",name:"Spain"},{code:"LK",name:"Sri Lanka"},{code:"SD",name:"Sudan"},{code:"SR",name:"Suriname"},{code:"SJ",name:"Svalbard and Jan Mayen"},{code:"SE",name:"Sweden"},{code:"CH",name:"Switzerland"},{code:"SY",name:"Syrian Arab Republic"},{code:"TW",name:"Taiwan"},{code:"TJ",name:"Tajikistan"},{code:"TZ",name:"Tanzania"},{code:"TH",name:"Thailand"},{code:"TL",name:"Timor-Leste"},{code:"TG",name:"Togo"},{code:"TK",name:"Tokelau"},{code:"TO",name:"Tonga"},{code:"TT",name:"Trinidad and Tobago"},{code:"TN",name:"Tunisia"},{code:"TR",name:"Turkey"},{code:"TM",name:"Turkmenistan"},{code:"TC",name:"Turks and Caicos Islands"},{code:"TV",name:"Tuvalu"},{code:"UG",name:"Uganda"},{code:"UA",name:"Ukraine"},{code:"AE",name:"United Arab Emirates"},{code:"GB",name:"United Kingdom"},{code:"UM",name:"United States Minor Outlying Islands"},{code:"US",name:"United States"},{code:"UY",name:"Uruguay"},{code:"UZ",name:"Uzbekistan"},{code:"VU",name:"Vanuatu"},{code:"VE",name:"Venezuela"},{code:"VN",name:"Vietnam"},{code:"VG",name:"Virgin Islands, British"},{code:"VI",name:"Virgin Islands, U.S."},{code:"WF",name:"Wallis and Futuna"},{code:"EH",name:"Western Sahara"},{code:"YE",name:"Yemen"},{code:"ZM",name:"Zambia"},{code:"ZW",name:"Zimbabwe"},{code:"XX",name:"Other"}].sort((r,t)=>r.name.localeCompare(t.name));function $O({countryCode:r,countryOther:t,onCountryCodeChange:i,onCountryOtherChange:s,countryError:c,countryOtherError:u,onErrorClear:h}){const[m,g]=_.useState(""),[p,v]=_.useState(!1),[C,S]=_.useState(-1),x=_.useRef(null),T=_.useRef(null);_.useEffect(()=>{if(r){const M=Dh.find($=>$.code===r);M&&g(M.name)}else g("")},[r]);const N=m?Dh.filter(M=>M.name.toLowerCase().includes(m.toLowerCase())||M.code.toLowerCase().includes(m.toLowerCase())).slice(0,15):Dh.slice(0,15),j=M=>{i(M.code),g(M.name),v(!1),S(-1),h&&h(),M.code!=="XX"&&s("")},F=M=>{g(M),v(!0),S(-1),M||(i(""),s(""),h&&h())},H=M=>{if(!p&&N.length>0&&(M.key==="ArrowDown"||M.key==="Enter")){M.preventDefault(),v(!0),S(0);return}M.key==="ArrowDown"?(M.preventDefault(),S($=>$<N.length-1?$+1:$),v(!0)):M.key==="ArrowUp"?(M.preventDefault(),S($=>$>0?$-1:-1)):M.key==="Enter"?(M.preventDefault(),C>=0&&C<N.length&&j(N[C])):M.key==="Escape"&&(v(!1),S(-1),x.current?.blur())};return _.useEffect(()=>{const M=$=>{T.current&&!T.current.contains($.target)&&x.current&&!x.current.contains($.target)&&(v(!1),S(-1))};if(p)return document.addEventListener("mousedown",M),()=>{document.removeEventListener("mousedown",M)}},[p]),l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"ct-autocomplete",ref:T,children:[l.jsx("input",{ref:x,type:"text",className:`ct-input--primary ${c?"ct-input--error":""}`,value:m,onChange:M=>F(M.target.value),onFocus:()=>v(!0),onKeyDown:H,placeholder:"Type to search country...",autoComplete:"off"}),p&&N.length>0&&l.jsx("div",{className:"ct-autocomplete__menu",children:N.map((M,$)=>l.jsxs("div",{className:`ct-autocomplete__item ${$===C?"ct-autocomplete__item--active":""}`,onClick:()=>j(M),onMouseEnter:()=>S($),children:[M.flag&&l.jsx("span",{className:"ct-autocomplete__flag",children:M.flag}),l.jsx("span",{className:"ct-autocomplete__name",children:M.name}),M.code!=="XX"&&l.jsx("span",{className:"ct-autocomplete__code",children:M.code})]},M.code))}),c&&l.jsx("div",{className:"ct-input-error",children:c})]}),r==="XX"&&l.jsxs("div",{className:"ct-input-group",style:{marginTop:"0.5rem"},children:[l.jsxs("label",{className:"ct-label--primary",children:["Country (Other) ",l.jsx("span",{className:"ct-required",children:"*"})]}),l.jsx("input",{type:"text",className:`ct-input--primary ${u?"ct-input--error":""}`,value:t,onChange:M=>{s(M.target.value),h&&h()},placeholder:"Type your country"}),u&&l.jsx("div",{className:"ct-input-error",children:u})]})]})}function ZO(){const r=is(),t=[{icon:"",titleKey:"pki",title:"PKI",description:"Complete subscription lifecycle management with Azure Marketplace integration."},{icon:"",titleKey:"print",title:"Print",description:"Track usage across 7 credential dimensions with automatic overage calculation."},{icon:"",titleKey:"desfire",title:"DESFire",description:"Monitor usage in real-time with visual progress indicators and alerts."},{icon:"",titleKey:"prox",title:"Prox",description:"Seamless integration with Azure Marketplace Metered Billing APIs."},{icon:"",titleKey:"biometric",title:"Biometric",description:"Complete subscription lifecycle management with Azure Marketplace integration."},{icon:"",titleKey:"wallet",title:"Wallet",description:"Track usage across 7 credential dimensions with automatic overage calculation."},{icon:"",titleKey:"fido",title:"FIDO",description:"Monitor usage in real-time with visual progress indicators and alerts."}];return l.jsx(ot,{children:l.jsxs("div",{className:"ct-landing",children:[l.jsxs("section",{className:"ct-hero",children:[l.jsxs("div",{className:"ct-hero__content",children:[l.jsxs("h1",{className:"ct-hero__title",children:["ComsignTrust ",l.jsx("span",{className:"ct-hero__highlight",children:"CMS"})]}),l.jsx("h2",{className:"ct-hero__subtitle",children:"Azure Marketplace - Billing Demo"}),l.jsx("p",{className:"ct-hero__description",children:"Experience the complete Azure Marketplace SaaS billing flow with metered usage tracking, overage calculations, and real-time billing simulation."}),l.jsxs("div",{className:"ct-hero__actions",children:[l.jsx(Ae,{variant:"primary",size:"large",onClick:()=>r("/pricing"),children:"View Pricing"}),l.jsx(Ae,{variant:"outline",size:"large",onClick:()=>r("/pricing"),children:"Learn More"})]})]}),l.jsx("div",{className:"ct-hero__visual",children:l.jsxs("div",{className:"ct-hero__card-stack",children:[l.jsx("div",{className:"ct-hero__card ct-hero__card--1",children:""}),l.jsx("div",{className:"ct-hero__card ct-hero__card--2",children:""}),l.jsx("div",{className:"ct-hero__card ct-hero__card--3",children:""})]})})]}),l.jsxs("section",{className:"ct-features",children:[l.jsx("h2",{className:"ct-features__title",children:"Platform Features"}),l.jsx("p",{className:"ct-features__subtitle",children:"This application runs in demo mode, simulating Azure Marketplace billing without requiring actual Azure credentials. Perfect for testing and demonstration purposes."}),l.jsx("div",{className:"ct-features__grid",children:t.map((i,s)=>l.jsxs("div",{className:"ct-feature-card",children:[l.jsx("div",{className:"ct-feature-card__icon",children:i.icon}),l.jsx("h3",{className:"ct-feature-card__title",children:i.title}),l.jsx("p",{className:"ct-feature-card__description",children:i.description})]},s))})]}),l.jsx("section",{className:"ct-cta",children:l.jsxs("div",{className:"ct-cta__content",children:[l.jsx("h2",{className:"ct-cta__title",children:"Demo Mode"}),l.jsx("p",{className:"ct-cta__description",children:"This application runs in demo mode, simulating Azure Marketplace billing without requiring actual Azure credentials. Perfect for testing and demonstration purposes."}),l.jsx(Ae,{variant:"primary",size:"large",onClick:()=>r("/pricing"),children:"View Pricing"})]})}),l.jsx("footer",{className:"ct-footer",children:l.jsxs("p",{className:"ct-footer__text",children:[" 2026 ComsignTrust. |",l.jsx("span",{className:"ct-footer__demo",children:" Demo Mode"})]})})]})})}function WO({plan:r,onSelect:t,isCurrentPlan:i=!1}){return l.jsxs(Ye,{highlighted:r.isPopular,className:"ct-plan-card",children:[r.isPopular&&l.jsx("div",{className:"ct-plan-card__badge",children:"Most Popular"}),l.jsxs(Mt,{className:"ct-plan-card__header",children:[l.jsx("h3",{className:"ct-plan-card__name",children:r.name}),l.jsxs("div",{className:"ct-plan-card__price",children:[l.jsx("span",{className:"ct-plan-card__currency",children:"$"}),l.jsx("span",{className:"ct-plan-card__amount",children:r.monthlyPrice}),l.jsx("span",{className:"ct-plan-card__period",children:"/month"})]}),l.jsx("p",{className:"ct-plan-card__description",children:r.description})]}),l.jsxs(Qe,{className:"ct-plan-card__body",children:[l.jsx("h4",{className:"ct-plan-card__section-title",children:"Included Credentials"}),l.jsx("ul",{className:"ct-plan-card__quotas",children:r.quotas.map(s=>l.jsxs("li",{className:"ct-plan-card__quota-item",children:[l.jsx("span",{className:"ct-plan-card__quota-name",children:s.displayName}),l.jsx("span",{className:"ct-plan-card__quota-value",children:s.includedQuantity.toLocaleString()})]},s.id))}),l.jsx("h4",{className:"ct-plan-card__section-title",children:"Overage Rate"}),l.jsx("ul",{className:"ct-plan-card__overages",children:r.quotas.map(s=>l.jsxs("li",{className:"ct-plan-card__overage-item",children:[l.jsx("span",{className:"ct-plan-card__overage-name",children:s.displayName}),l.jsxs("span",{className:"ct-plan-card__overage-price",children:["$",s.overagePrice.toFixed(2),"/per unit"]})]},s.id))})]}),l.jsx(XO,{className:"ct-plan-card__footer",children:l.jsx(Ae,{variant:r.isPopular?"primary":"outline",onClick:()=>t(r.id),disabled:i,className:"ct-plan-card__button",children:i?"Current Plan":"Subscribe"})})]})}function eI({dimension:r,showDetails:t=!0}){const i=Math.min(r.usagePercentage,100),s=r.usagePercentage>100?Math.min(r.usagePercentage-100,50):0,c=u=>{switch(u){case"Critical":return"ct-usage-bar--critical";case"Warning":return"ct-usage-bar--warning";default:return"ct-usage-bar--normal"}};return l.jsxs("div",{className:`ct-usage-bar ${c(r.status)}`,children:[l.jsxs("div",{className:"ct-usage-bar__header",children:[l.jsx("span",{className:"ct-usage-bar__name",children:r.displayName}),l.jsxs("span",{className:"ct-usage-bar__stats",children:[r.usedQuantity.toLocaleString()," / ",r.includedQuantity.toLocaleString(),r.overageQuantity>0&&l.jsxs("span",{className:"ct-usage-bar__overage",children:[" ","(+",r.overageQuantity.toLocaleString()," overage)"]})]})]}),l.jsxs("div",{className:"ct-usage-bar__track",children:[l.jsx("div",{className:"ct-usage-bar__fill",style:{width:`${i}%`}}),s>0&&l.jsx("div",{className:"ct-usage-bar__overage-fill",style:{left:"100%",width:`${s}%`}})]}),t&&l.jsxs("div",{className:"ct-usage-bar__details",children:[l.jsxs("span",{className:"ct-usage-bar__percentage",children:[r.usagePercentage.toFixed(1),"%"]}),r.overageCharges>0&&l.jsxs("span",{className:"ct-usage-bar__charges",children:["Overage Charges: $",r.overageCharges.toFixed(2)]})]})]})}var XS=(r=>(r[r.Print=0]="Print",r[r.Pki=1]="Pki",r[r.Desfire=2]="Desfire",r[r.Prox=3]="Prox",r[r.Biometric=4]="Biometric",r[r.Wallet=5]="Wallet",r[r.Fido=6]="Fido",r))(XS||{}),Un=(r=>(r[r.Active=0]="Active",r[r.Suspended=1]="Suspended",r[r.Cancelled=2]="Cancelled",r))(Un||{});const mo={0:"Print Jobs",1:"PKI Certificates",2:"DESFire Encodings",3:"Prox Encodings",4:"Biometric Enrollments",5:"Wallet Credentials",6:"FIDO Enrollments"};function $S(r,t){return function(){return r.apply(t,arguments)}}const{toString:tI}=Object.prototype,{getPrototypeOf:Em}=Object,{iterator:$l,toStringTag:ZS}=Symbol,Zl=(r=>t=>{const i=tI.call(t);return r[i]||(r[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),Bn=r=>(r=r.toLowerCase(),t=>Zl(t)===r),Wl=r=>t=>typeof t===r,{isArray:as}=Array,$r=Wl("undefined");function No(r){return r!==null&&!$r(r)&&r.constructor!==null&&!$r(r.constructor)&&en(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const WS=Bn("ArrayBuffer");function nI(r){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(r):t=r&&r.buffer&&WS(r.buffer),t}const iI=Wl("string"),en=Wl("function"),e_=Wl("number"),Ro=r=>r!==null&&typeof r=="object",aI=r=>r===!0||r===!1,dl=r=>{if(Zl(r)!=="object")return!1;const t=Em(r);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(ZS in r)&&!($l in r)},rI=r=>{if(!Ro(r)||No(r))return!1;try{return Object.keys(r).length===0&&Object.getPrototypeOf(r)===Object.prototype}catch{return!1}},sI=Bn("Date"),oI=Bn("File"),cI=Bn("Blob"),lI=Bn("FileList"),uI=r=>Ro(r)&&en(r.pipe),dI=r=>{let t;return r&&(typeof FormData=="function"&&r instanceof FormData||en(r.append)&&((t=Zl(r))==="formdata"||t==="object"&&en(r.toString)&&r.toString()==="[object FormData]"))},hI=Bn("URLSearchParams"),[fI,mI,gI,pI]=["ReadableStream","Request","Response","Headers"].map(Bn),yI=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function jo(r,t,{allOwnKeys:i=!1}={}){if(r===null||typeof r>"u")return;let s,c;if(typeof r!="object"&&(r=[r]),as(r))for(s=0,c=r.length;s<c;s++)t.call(null,r[s],s,r);else{if(No(r))return;const u=i?Object.getOwnPropertyNames(r):Object.keys(r),h=u.length;let m;for(s=0;s<h;s++)m=u[s],t.call(null,r[m],m,r)}}function t_(r,t){if(No(r))return null;t=t.toLowerCase();const i=Object.keys(r);let s=i.length,c;for(;s-- >0;)if(c=i[s],t===c.toLowerCase())return c;return null}const ka=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,n_=r=>!$r(r)&&r!==ka;function of(){const{caseless:r,skipUndefined:t}=n_(this)&&this||{},i={},s=(c,u)=>{const h=r&&t_(i,u)||u;dl(i[h])&&dl(c)?i[h]=of(i[h],c):dl(c)?i[h]=of({},c):as(c)?i[h]=c.slice():(!t||!$r(c))&&(i[h]=c)};for(let c=0,u=arguments.length;c<u;c++)arguments[c]&&jo(arguments[c],s);return i}const vI=(r,t,i,{allOwnKeys:s}={})=>(jo(t,(c,u)=>{i&&en(c)?r[u]=$S(c,i):r[u]=c},{allOwnKeys:s}),r),CI=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),bI=(r,t,i,s)=>{r.prototype=Object.create(t.prototype,s),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:t.prototype}),i&&Object.assign(r.prototype,i)},SI=(r,t,i,s)=>{let c,u,h;const m={};if(t=t||{},r==null)return t;do{for(c=Object.getOwnPropertyNames(r),u=c.length;u-- >0;)h=c[u],(!s||s(h,r,t))&&!m[h]&&(t[h]=r[h],m[h]=!0);r=i!==!1&&Em(r)}while(r&&(!i||i(r,t))&&r!==Object.prototype);return t},_I=(r,t,i)=>{r=String(r),(i===void 0||i>r.length)&&(i=r.length),i-=t.length;const s=r.indexOf(t,i);return s!==-1&&s===i},EI=r=>{if(!r)return null;if(as(r))return r;let t=r.length;if(!e_(t))return null;const i=new Array(t);for(;t-- >0;)i[t]=r[t];return i},AI=(r=>t=>r&&t instanceof r)(typeof Uint8Array<"u"&&Em(Uint8Array)),TI=(r,t)=>{const s=(r&&r[$l]).call(r);let c;for(;(c=s.next())&&!c.done;){const u=c.value;t.call(r,u[0],u[1])}},wI=(r,t)=>{let i;const s=[];for(;(i=r.exec(t))!==null;)s.push(i);return s},xI=Bn("HTMLFormElement"),NI=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,s,c){return s.toUpperCase()+c}),DC=(({hasOwnProperty:r})=>(t,i)=>r.call(t,i))(Object.prototype),RI=Bn("RegExp"),i_=(r,t)=>{const i=Object.getOwnPropertyDescriptors(r),s={};jo(i,(c,u)=>{let h;(h=t(c,u,r))!==!1&&(s[u]=h||c)}),Object.defineProperties(r,s)},jI=r=>{i_(r,(t,i)=>{if(en(r)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const s=r[i];if(en(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},OI=(r,t)=>{const i={},s=c=>{c.forEach(u=>{i[u]=!0})};return as(r)?s(r):s(String(r).split(t)),i},II=()=>{},kI=(r,t)=>r!=null&&Number.isFinite(r=+r)?r:t;function MI(r){return!!(r&&en(r.append)&&r[ZS]==="FormData"&&r[$l])}const DI=r=>{const t=new Array(10),i=(s,c)=>{if(Ro(s)){if(t.indexOf(s)>=0)return;if(No(s))return s;if(!("toJSON"in s)){t[c]=s;const u=as(s)?[]:{};return jo(s,(h,m)=>{const g=i(h,c+1);!$r(g)&&(u[m]=g)}),t[c]=void 0,u}}return s};return i(r,0)},UI=Bn("AsyncFunction"),LI=r=>r&&(Ro(r)||en(r))&&en(r.then)&&en(r.catch),a_=((r,t)=>r?setImmediate:t?((i,s)=>(ka.addEventListener("message",({source:c,data:u})=>{c===ka&&u===i&&s.length&&s.shift()()},!1),c=>{s.push(c),ka.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",en(ka.postMessage)),PI=typeof queueMicrotask<"u"?queueMicrotask.bind(ka):typeof process<"u"&&process.nextTick||a_,zI=r=>r!=null&&en(r[$l]),D={isArray:as,isArrayBuffer:WS,isBuffer:No,isFormData:dI,isArrayBufferView:nI,isString:iI,isNumber:e_,isBoolean:aI,isObject:Ro,isPlainObject:dl,isEmptyObject:rI,isReadableStream:fI,isRequest:mI,isResponse:gI,isHeaders:pI,isUndefined:$r,isDate:sI,isFile:oI,isBlob:cI,isRegExp:RI,isFunction:en,isStream:uI,isURLSearchParams:hI,isTypedArray:AI,isFileList:lI,forEach:jo,merge:of,extend:vI,trim:yI,stripBOM:CI,inherits:bI,toFlatObject:SI,kindOf:Zl,kindOfTest:Bn,endsWith:_I,toArray:EI,forEachEntry:TI,matchAll:wI,isHTMLForm:xI,hasOwnProperty:DC,hasOwnProp:DC,reduceDescriptors:i_,freezeMethods:jI,toObjectSet:OI,toCamelCase:NI,noop:II,toFiniteNumber:kI,findKey:t_,global:ka,isContextDefined:n_,isSpecCompliantForm:MI,toJSONObject:DI,isAsyncFn:UI,isThenable:LI,setImmediate:a_,asap:PI,isIterable:zI};function ge(r,t,i,s,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),s&&(this.request=s),c&&(this.response=c,this.status=c.status?c.status:null)}D.inherits(ge,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:D.toJSONObject(this.config),code:this.code,status:this.status}}});const r_=ge.prototype,s_={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{s_[r]={value:r}});Object.defineProperties(ge,s_);Object.defineProperty(r_,"isAxiosError",{value:!0});ge.from=(r,t,i,s,c,u)=>{const h=Object.create(r_);D.toFlatObject(r,h,function(v){return v!==Error.prototype},p=>p!=="isAxiosError");const m=r&&r.message?r.message:"Error",g=t==null&&r?r.code:t;return ge.call(h,m,g,i,s,c),r&&h.cause==null&&Object.defineProperty(h,"cause",{value:r,configurable:!0}),h.name=r&&r.name||"Error",u&&Object.assign(h,u),h};const HI=null;function cf(r){return D.isPlainObject(r)||D.isArray(r)}function o_(r){return D.endsWith(r,"[]")?r.slice(0,-2):r}function UC(r,t,i){return r?r.concat(t).map(function(c,u){return c=o_(c),!i&&u?"["+c+"]":c}).join(i?".":""):t}function BI(r){return D.isArray(r)&&!r.some(cf)}const KI=D.toFlatObject(D,{},null,function(t){return/^is[A-Z]/.test(t)});function eu(r,t,i){if(!D.isObject(r))throw new TypeError("target must be an object");t=t||new FormData,i=D.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,j){return!D.isUndefined(j[N])});const s=i.metaTokens,c=i.visitor||v,u=i.dots,h=i.indexes,g=(i.Blob||typeof Blob<"u"&&Blob)&&D.isSpecCompliantForm(t);if(!D.isFunction(c))throw new TypeError("visitor must be a function");function p(T){if(T===null)return"";if(D.isDate(T))return T.toISOString();if(D.isBoolean(T))return T.toString();if(!g&&D.isBlob(T))throw new ge("Blob is not supported. Use a Buffer instead.");return D.isArrayBuffer(T)||D.isTypedArray(T)?g&&typeof Blob=="function"?new Blob([T]):Buffer.from(T):T}function v(T,N,j){let F=T;if(T&&!j&&typeof T=="object"){if(D.endsWith(N,"{}"))N=s?N:N.slice(0,-2),T=JSON.stringify(T);else if(D.isArray(T)&&BI(T)||(D.isFileList(T)||D.endsWith(N,"[]"))&&(F=D.toArray(T)))return N=o_(N),F.forEach(function(M,$){!(D.isUndefined(M)||M===null)&&t.append(h===!0?UC([N],$,u):h===null?N:N+"[]",p(M))}),!1}return cf(T)?!0:(t.append(UC(j,N,u),p(T)),!1)}const C=[],S=Object.assign(KI,{defaultVisitor:v,convertValue:p,isVisitable:cf});function x(T,N){if(!D.isUndefined(T)){if(C.indexOf(T)!==-1)throw Error("Circular reference detected in "+N.join("."));C.push(T),D.forEach(T,function(F,H){(!(D.isUndefined(F)||F===null)&&c.call(t,F,D.isString(H)?H.trim():H,N,S))===!0&&x(F,N?N.concat(H):[H])}),C.pop()}}if(!D.isObject(r))throw new TypeError("data must be an object");return x(r),t}function LC(r){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function Am(r,t){this._pairs=[],r&&eu(r,this,t)}const c_=Am.prototype;c_.append=function(t,i){this._pairs.push([t,i])};c_.toString=function(t){const i=t?function(s){return t.call(this,s,LC)}:LC;return this._pairs.map(function(c){return i(c[0])+"="+i(c[1])},"").join("&")};function FI(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function l_(r,t,i){if(!t)return r;const s=i&&i.encode||FI;D.isFunction(i)&&(i={serialize:i});const c=i&&i.serialize;let u;if(c?u=c(t,i):u=D.isURLSearchParams(t)?t.toString():new Am(t,i).toString(s),u){const h=r.indexOf("#");h!==-1&&(r=r.slice(0,h)),r+=(r.indexOf("?")===-1?"?":"&")+u}return r}class PC{constructor(){this.handlers=[]}use(t,i,s){return this.handlers.push({fulfilled:t,rejected:i,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){D.forEach(this.handlers,function(s){s!==null&&t(s)})}}const u_={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},GI=typeof URLSearchParams<"u"?URLSearchParams:Am,qI=typeof FormData<"u"?FormData:null,VI=typeof Blob<"u"?Blob:null,YI={isBrowser:!0,classes:{URLSearchParams:GI,FormData:qI,Blob:VI},protocols:["http","https","file","blob","url","data"]},Tm=typeof window<"u"&&typeof document<"u",lf=typeof navigator=="object"&&navigator||void 0,QI=Tm&&(!lf||["ReactNative","NativeScript","NS"].indexOf(lf.product)<0),JI=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",XI=Tm&&window.location.href||"http://localhost",$I=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Tm,hasStandardBrowserEnv:QI,hasStandardBrowserWebWorkerEnv:JI,navigator:lf,origin:XI},Symbol.toStringTag,{value:"Module"})),It={...$I,...YI};function ZI(r,t){return eu(r,new It.classes.URLSearchParams,{visitor:function(i,s,c,u){return It.isNode&&D.isBuffer(i)?(this.append(s,i.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)},...t})}function WI(r){return D.matchAll(/\w+|\[(\w*)]/g,r).map(t=>t[0]==="[]"?"":t[1]||t[0])}function e1(r){const t={},i=Object.keys(r);let s;const c=i.length;let u;for(s=0;s<c;s++)u=i[s],t[u]=r[u];return t}function d_(r){function t(i,s,c,u){let h=i[u++];if(h==="__proto__")return!0;const m=Number.isFinite(+h),g=u>=i.length;return h=!h&&D.isArray(c)?c.length:h,g?(D.hasOwnProp(c,h)?c[h]=[c[h],s]:c[h]=s,!m):((!c[h]||!D.isObject(c[h]))&&(c[h]=[]),t(i,s,c[h],u)&&D.isArray(c[h])&&(c[h]=e1(c[h])),!m)}if(D.isFormData(r)&&D.isFunction(r.entries)){const i={};return D.forEachEntry(r,(s,c)=>{t(WI(s),c,i,0)}),i}return null}function t1(r,t,i){if(D.isString(r))try{return(t||JSON.parse)(r),D.trim(r)}catch(s){if(s.name!=="SyntaxError")throw s}return(i||JSON.stringify)(r)}const Oo={transitional:u_,adapter:["xhr","http","fetch"],transformRequest:[function(t,i){const s=i.getContentType()||"",c=s.indexOf("application/json")>-1,u=D.isObject(t);if(u&&D.isHTMLForm(t)&&(t=new FormData(t)),D.isFormData(t))return c?JSON.stringify(d_(t)):t;if(D.isArrayBuffer(t)||D.isBuffer(t)||D.isStream(t)||D.isFile(t)||D.isBlob(t)||D.isReadableStream(t))return t;if(D.isArrayBufferView(t))return t.buffer;if(D.isURLSearchParams(t))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let m;if(u){if(s.indexOf("application/x-www-form-urlencoded")>-1)return ZI(t,this.formSerializer).toString();if((m=D.isFileList(t))||s.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return eu(m?{"files[]":t}:t,g&&new g,this.formSerializer)}}return u||c?(i.setContentType("application/json",!1),t1(t)):t}],transformResponse:[function(t){const i=this.transitional||Oo.transitional,s=i&&i.forcedJSONParsing,c=this.responseType==="json";if(D.isResponse(t)||D.isReadableStream(t))return t;if(t&&D.isString(t)&&(s&&!this.responseType||c)){const h=!(i&&i.silentJSONParsing)&&c;try{return JSON.parse(t,this.parseReviver)}catch(m){if(h)throw m.name==="SyntaxError"?ge.from(m,ge.ERR_BAD_RESPONSE,this,null,this.response):m}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:It.classes.FormData,Blob:It.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};D.forEach(["delete","get","head","post","put","patch"],r=>{Oo.headers[r]={}});const n1=D.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),i1=r=>{const t={};let i,s,c;return r&&r.split(`
`).forEach(function(h){c=h.indexOf(":"),i=h.substring(0,c).trim().toLowerCase(),s=h.substring(c+1).trim(),!(!i||t[i]&&n1[i])&&(i==="set-cookie"?t[i]?t[i].push(s):t[i]=[s]:t[i]=t[i]?t[i]+", "+s:s)}),t},zC=Symbol("internals");function oo(r){return r&&String(r).trim().toLowerCase()}function hl(r){return r===!1||r==null?r:D.isArray(r)?r.map(hl):String(r)}function a1(r){const t=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=i.exec(r);)t[s[1]]=s[2];return t}const r1=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function Uh(r,t,i,s,c){if(D.isFunction(s))return s.call(this,t,i);if(c&&(t=i),!!D.isString(t)){if(D.isString(s))return t.indexOf(s)!==-1;if(D.isRegExp(s))return s.test(t)}}function s1(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,i,s)=>i.toUpperCase()+s)}function o1(r,t){const i=D.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(r,s+i,{value:function(c,u,h){return this[s].call(this,t,c,u,h)},configurable:!0})})}let tn=class{constructor(t){t&&this.set(t)}set(t,i,s){const c=this;function u(m,g,p){const v=oo(g);if(!v)throw new Error("header name must be a non-empty string");const C=D.findKey(c,v);(!C||c[C]===void 0||p===!0||p===void 0&&c[C]!==!1)&&(c[C||g]=hl(m))}const h=(m,g)=>D.forEach(m,(p,v)=>u(p,v,g));if(D.isPlainObject(t)||t instanceof this.constructor)h(t,i);else if(D.isString(t)&&(t=t.trim())&&!r1(t))h(i1(t),i);else if(D.isObject(t)&&D.isIterable(t)){let m={},g,p;for(const v of t){if(!D.isArray(v))throw TypeError("Object iterator must return a key-value pair");m[p=v[0]]=(g=m[p])?D.isArray(g)?[...g,v[1]]:[g,v[1]]:v[1]}h(m,i)}else t!=null&&u(i,t,s);return this}get(t,i){if(t=oo(t),t){const s=D.findKey(this,t);if(s){const c=this[s];if(!i)return c;if(i===!0)return a1(c);if(D.isFunction(i))return i.call(this,c,s);if(D.isRegExp(i))return i.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,i){if(t=oo(t),t){const s=D.findKey(this,t);return!!(s&&this[s]!==void 0&&(!i||Uh(this,this[s],s,i)))}return!1}delete(t,i){const s=this;let c=!1;function u(h){if(h=oo(h),h){const m=D.findKey(s,h);m&&(!i||Uh(s,s[m],m,i))&&(delete s[m],c=!0)}}return D.isArray(t)?t.forEach(u):u(t),c}clear(t){const i=Object.keys(this);let s=i.length,c=!1;for(;s--;){const u=i[s];(!t||Uh(this,this[u],u,t,!0))&&(delete this[u],c=!0)}return c}normalize(t){const i=this,s={};return D.forEach(this,(c,u)=>{const h=D.findKey(s,u);if(h){i[h]=hl(c),delete i[u];return}const m=t?s1(u):String(u).trim();m!==u&&delete i[u],i[m]=hl(c),s[m]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const i=Object.create(null);return D.forEach(this,(s,c)=>{s!=null&&s!==!1&&(i[c]=t&&D.isArray(s)?s.join(", "):s)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,i])=>t+": "+i).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...i){const s=new this(t);return i.forEach(c=>s.set(c)),s}static accessor(t){const s=(this[zC]=this[zC]={accessors:{}}).accessors,c=this.prototype;function u(h){const m=oo(h);s[m]||(o1(c,h),s[m]=!0)}return D.isArray(t)?t.forEach(u):u(t),this}};tn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);D.reduceDescriptors(tn.prototype,({value:r},t)=>{let i=t[0].toUpperCase()+t.slice(1);return{get:()=>r,set(s){this[i]=s}}});D.freezeMethods(tn);function Lh(r,t){const i=this||Oo,s=t||i,c=tn.from(s.headers);let u=s.data;return D.forEach(r,function(m){u=m.call(i,u,c.normalize(),t?t.status:void 0)}),c.normalize(),u}function h_(r){return!!(r&&r.__CANCEL__)}function rs(r,t,i){ge.call(this,r??"canceled",ge.ERR_CANCELED,t,i),this.name="CanceledError"}D.inherits(rs,ge,{__CANCEL__:!0});function f_(r,t,i){const s=i.config.validateStatus;!i.status||!s||s(i.status)?r(i):t(new ge("Request failed with status code "+i.status,[ge.ERR_BAD_REQUEST,ge.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function c1(r){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return t&&t[1]||""}function l1(r,t){r=r||10;const i=new Array(r),s=new Array(r);let c=0,u=0,h;return t=t!==void 0?t:1e3,function(g){const p=Date.now(),v=s[u];h||(h=p),i[c]=g,s[c]=p;let C=u,S=0;for(;C!==c;)S+=i[C++],C=C%r;if(c=(c+1)%r,c===u&&(u=(u+1)%r),p-h<t)return;const x=v&&p-v;return x?Math.round(S*1e3/x):void 0}}function u1(r,t){let i=0,s=1e3/t,c,u;const h=(p,v=Date.now())=>{i=v,c=null,u&&(clearTimeout(u),u=null),r(...p)};return[(...p)=>{const v=Date.now(),C=v-i;C>=s?h(p,v):(c=p,u||(u=setTimeout(()=>{u=null,h(c)},s-C)))},()=>c&&h(c)]}const Ml=(r,t,i=3)=>{let s=0;const c=l1(50,250);return u1(u=>{const h=u.loaded,m=u.lengthComputable?u.total:void 0,g=h-s,p=c(g),v=h<=m;s=h;const C={loaded:h,total:m,progress:m?h/m:void 0,bytes:g,rate:p||void 0,estimated:p&&m&&v?(m-h)/p:void 0,event:u,lengthComputable:m!=null,[t?"download":"upload"]:!0};r(C)},i)},HC=(r,t)=>{const i=r!=null;return[s=>t[0]({lengthComputable:i,total:r,loaded:s}),t[1]]},BC=r=>(...t)=>D.asap(()=>r(...t)),d1=It.hasStandardBrowserEnv?((r,t)=>i=>(i=new URL(i,It.origin),r.protocol===i.protocol&&r.host===i.host&&(t||r.port===i.port)))(new URL(It.origin),It.navigator&&/(msie|trident)/i.test(It.navigator.userAgent)):()=>!0,h1=It.hasStandardBrowserEnv?{write(r,t,i,s,c,u,h){if(typeof document>"u")return;const m=[`${r}=${encodeURIComponent(t)}`];D.isNumber(i)&&m.push(`expires=${new Date(i).toUTCString()}`),D.isString(s)&&m.push(`path=${s}`),D.isString(c)&&m.push(`domain=${c}`),u===!0&&m.push("secure"),D.isString(h)&&m.push(`SameSite=${h}`),document.cookie=m.join("; ")},read(r){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+r+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(r){this.write(r,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function f1(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function m1(r,t){return t?r.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):r}function m_(r,t,i){let s=!f1(t);return r&&(s||i==!1)?m1(r,t):t}const KC=r=>r instanceof tn?{...r}:r;function Ga(r,t){t=t||{};const i={};function s(p,v,C,S){return D.isPlainObject(p)&&D.isPlainObject(v)?D.merge.call({caseless:S},p,v):D.isPlainObject(v)?D.merge({},v):D.isArray(v)?v.slice():v}function c(p,v,C,S){if(D.isUndefined(v)){if(!D.isUndefined(p))return s(void 0,p,C,S)}else return s(p,v,C,S)}function u(p,v){if(!D.isUndefined(v))return s(void 0,v)}function h(p,v){if(D.isUndefined(v)){if(!D.isUndefined(p))return s(void 0,p)}else return s(void 0,v)}function m(p,v,C){if(C in t)return s(p,v);if(C in r)return s(void 0,p)}const g={url:u,method:u,data:u,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:m,headers:(p,v,C)=>c(KC(p),KC(v),C,!0)};return D.forEach(Object.keys({...r,...t}),function(v){const C=g[v]||c,S=C(r[v],t[v],v);D.isUndefined(S)&&C!==m||(i[v]=S)}),i}const g_=r=>{const t=Ga({},r);let{data:i,withXSRFToken:s,xsrfHeaderName:c,xsrfCookieName:u,headers:h,auth:m}=t;if(t.headers=h=tn.from(h),t.url=l_(m_(t.baseURL,t.url,t.allowAbsoluteUrls),r.params,r.paramsSerializer),m&&h.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):""))),D.isFormData(i)){if(It.hasStandardBrowserEnv||It.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if(D.isFunction(i.getHeaders)){const g=i.getHeaders(),p=["content-type","content-length"];Object.entries(g).forEach(([v,C])=>{p.includes(v.toLowerCase())&&h.set(v,C)})}}if(It.hasStandardBrowserEnv&&(s&&D.isFunction(s)&&(s=s(t)),s||s!==!1&&d1(t.url))){const g=c&&u&&h1.read(u);g&&h.set(c,g)}return t},g1=typeof XMLHttpRequest<"u",p1=g1&&function(r){return new Promise(function(i,s){const c=g_(r);let u=c.data;const h=tn.from(c.headers).normalize();let{responseType:m,onUploadProgress:g,onDownloadProgress:p}=c,v,C,S,x,T;function N(){x&&x(),T&&T(),c.cancelToken&&c.cancelToken.unsubscribe(v),c.signal&&c.signal.removeEventListener("abort",v)}let j=new XMLHttpRequest;j.open(c.method.toUpperCase(),c.url,!0),j.timeout=c.timeout;function F(){if(!j)return;const M=tn.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),Q={data:!m||m==="text"||m==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:M,config:r,request:j};f_(function(q){i(q),N()},function(q){s(q),N()},Q),j=null}"onloadend"in j?j.onloadend=F:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(F)},j.onabort=function(){j&&(s(new ge("Request aborted",ge.ECONNABORTED,r,j)),j=null)},j.onerror=function($){const Q=$&&$.message?$.message:"Network Error",ue=new ge(Q,ge.ERR_NETWORK,r,j);ue.event=$||null,s(ue),j=null},j.ontimeout=function(){let $=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded";const Q=c.transitional||u_;c.timeoutErrorMessage&&($=c.timeoutErrorMessage),s(new ge($,Q.clarifyTimeoutError?ge.ETIMEDOUT:ge.ECONNABORTED,r,j)),j=null},u===void 0&&h.setContentType(null),"setRequestHeader"in j&&D.forEach(h.toJSON(),function($,Q){j.setRequestHeader(Q,$)}),D.isUndefined(c.withCredentials)||(j.withCredentials=!!c.withCredentials),m&&m!=="json"&&(j.responseType=c.responseType),p&&([S,T]=Ml(p,!0),j.addEventListener("progress",S)),g&&j.upload&&([C,x]=Ml(g),j.upload.addEventListener("progress",C),j.upload.addEventListener("loadend",x)),(c.cancelToken||c.signal)&&(v=M=>{j&&(s(!M||M.type?new rs(null,r,j):M),j.abort(),j=null)},c.cancelToken&&c.cancelToken.subscribe(v),c.signal&&(c.signal.aborted?v():c.signal.addEventListener("abort",v)));const H=c1(c.url);if(H&&It.protocols.indexOf(H)===-1){s(new ge("Unsupported protocol "+H+":",ge.ERR_BAD_REQUEST,r));return}j.send(u||null)})},y1=(r,t)=>{const{length:i}=r=r?r.filter(Boolean):[];if(t||i){let s=new AbortController,c;const u=function(p){if(!c){c=!0,m();const v=p instanceof Error?p:this.reason;s.abort(v instanceof ge?v:new rs(v instanceof Error?v.message:v))}};let h=t&&setTimeout(()=>{h=null,u(new ge(`timeout ${t} of ms exceeded`,ge.ETIMEDOUT))},t);const m=()=>{r&&(h&&clearTimeout(h),h=null,r.forEach(p=>{p.unsubscribe?p.unsubscribe(u):p.removeEventListener("abort",u)}),r=null)};r.forEach(p=>p.addEventListener("abort",u));const{signal:g}=s;return g.unsubscribe=()=>D.asap(m),g}},v1=function*(r,t){let i=r.byteLength;if(i<t){yield r;return}let s=0,c;for(;s<i;)c=s+t,yield r.slice(s,c),s=c},C1=async function*(r,t){for await(const i of b1(r))yield*v1(i,t)},b1=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const t=r.getReader();try{for(;;){const{done:i,value:s}=await t.read();if(i)break;yield s}}finally{await t.cancel()}},FC=(r,t,i,s)=>{const c=C1(r,t);let u=0,h,m=g=>{h||(h=!0,s&&s(g))};return new ReadableStream({async pull(g){try{const{done:p,value:v}=await c.next();if(p){m(),g.close();return}let C=v.byteLength;if(i){let S=u+=C;i(S)}g.enqueue(new Uint8Array(v))}catch(p){throw m(p),p}},cancel(g){return m(g),c.return()}},{highWaterMark:2})},GC=64*1024,{isFunction:nl}=D,S1=(({Request:r,Response:t})=>({Request:r,Response:t}))(D.global),{ReadableStream:qC,TextEncoder:VC}=D.global,YC=(r,...t)=>{try{return!!r(...t)}catch{return!1}},_1=r=>{r=D.merge.call({skipUndefined:!0},S1,r);const{fetch:t,Request:i,Response:s}=r,c=t?nl(t):typeof fetch=="function",u=nl(i),h=nl(s);if(!c)return!1;const m=c&&nl(qC),g=c&&(typeof VC=="function"?(T=>N=>T.encode(N))(new VC):async T=>new Uint8Array(await new i(T).arrayBuffer())),p=u&&m&&YC(()=>{let T=!1;const N=new i(It.origin,{body:new qC,method:"POST",get duplex(){return T=!0,"half"}}).headers.has("Content-Type");return T&&!N}),v=h&&m&&YC(()=>D.isReadableStream(new s("").body)),C={stream:v&&(T=>T.body)};c&&["text","arrayBuffer","blob","formData","stream"].forEach(T=>{!C[T]&&(C[T]=(N,j)=>{let F=N&&N[T];if(F)return F.call(N);throw new ge(`Response type '${T}' is not supported`,ge.ERR_NOT_SUPPORT,j)})});const S=async T=>{if(T==null)return 0;if(D.isBlob(T))return T.size;if(D.isSpecCompliantForm(T))return(await new i(It.origin,{method:"POST",body:T}).arrayBuffer()).byteLength;if(D.isArrayBufferView(T)||D.isArrayBuffer(T))return T.byteLength;if(D.isURLSearchParams(T)&&(T=T+""),D.isString(T))return(await g(T)).byteLength},x=async(T,N)=>{const j=D.toFiniteNumber(T.getContentLength());return j??S(N)};return async T=>{let{url:N,method:j,data:F,signal:H,cancelToken:M,timeout:$,onDownloadProgress:Q,onUploadProgress:ue,responseType:q,headers:ye,withCredentials:Re="same-origin",fetchOptions:at}=g_(T),lt=t||fetch;q=q?(q+"").toLowerCase():"text";let te=y1([H,M&&M.toAbortSignal()],$),Xe=null;const We=te&&te.unsubscribe&&(()=>{te.unsubscribe()});let St;try{if(ue&&p&&j!=="get"&&j!=="head"&&(St=await x(ye,F))!==0){let A=new i(N,{method:"POST",body:F,duplex:"half"}),B;if(D.isFormData(F)&&(B=A.headers.get("content-type"))&&ye.setContentType(B),A.body){const[X,W]=HC(St,Ml(BC(ue)));F=FC(A.body,GC,X,W)}}D.isString(Re)||(Re=Re?"include":"omit");const L=u&&"credentials"in i.prototype,J={...at,signal:te,method:j.toUpperCase(),headers:ye.normalize().toJSON(),body:F,duplex:"half",credentials:L?Re:void 0};Xe=u&&new i(N,J);let ae=await(u?lt(Xe,at):lt(N,J));const Te=v&&(q==="stream"||q==="response");if(v&&(Q||Te&&We)){const A={};["status","statusText","headers"].forEach(de=>{A[de]=ae[de]});const B=D.toFiniteNumber(ae.headers.get("content-length")),[X,W]=Q&&HC(B,Ml(BC(Q),!0))||[];ae=new s(FC(ae.body,GC,X,()=>{W&&W(),We&&We()}),A)}q=q||"text";let Ne=await C[D.findKey(C,q)||"text"](ae,T);return!Te&&We&&We(),await new Promise((A,B)=>{f_(A,B,{data:Ne,headers:tn.from(ae.headers),status:ae.status,statusText:ae.statusText,config:T,request:Xe})})}catch(L){throw We&&We(),L&&L.name==="TypeError"&&/Load failed|fetch/i.test(L.message)?Object.assign(new ge("Network Error",ge.ERR_NETWORK,T,Xe),{cause:L.cause||L}):ge.from(L,L&&L.code,T,Xe)}}},E1=new Map,p_=r=>{let t=r&&r.env||{};const{fetch:i,Request:s,Response:c}=t,u=[s,c,i];let h=u.length,m=h,g,p,v=E1;for(;m--;)g=u[m],p=v.get(g),p===void 0&&v.set(g,p=m?new Map:_1(t)),v=p;return p};p_();const wm={http:HI,xhr:p1,fetch:{get:p_}};D.forEach(wm,(r,t)=>{if(r){try{Object.defineProperty(r,"name",{value:t})}catch{}Object.defineProperty(r,"adapterName",{value:t})}});const QC=r=>`- ${r}`,A1=r=>D.isFunction(r)||r===null||r===!1;function T1(r,t){r=D.isArray(r)?r:[r];const{length:i}=r;let s,c;const u={};for(let h=0;h<i;h++){s=r[h];let m;if(c=s,!A1(s)&&(c=wm[(m=String(s)).toLowerCase()],c===void 0))throw new ge(`Unknown adapter '${m}'`);if(c&&(D.isFunction(c)||(c=c.get(t))))break;u[m||"#"+h]=c}if(!c){const h=Object.entries(u).map(([g,p])=>`adapter ${g} `+(p===!1?"is not supported by the environment":"is not available in the build"));let m=i?h.length>1?`since :
`+h.map(QC).join(`
`):" "+QC(h[0]):"as no adapter specified";throw new ge("There is no suitable adapter to dispatch the request "+m,"ERR_NOT_SUPPORT")}return c}const y_={getAdapter:T1,adapters:wm};function Ph(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new rs(null,r)}function JC(r){return Ph(r),r.headers=tn.from(r.headers),r.data=Lh.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),y_.getAdapter(r.adapter||Oo.adapter,r)(r).then(function(s){return Ph(r),s.data=Lh.call(r,r.transformResponse,s),s.headers=tn.from(s.headers),s},function(s){return h_(s)||(Ph(r),s&&s.response&&(s.response.data=Lh.call(r,r.transformResponse,s.response),s.response.headers=tn.from(s.response.headers))),Promise.reject(s)})}const v_="1.13.2",tu={};["object","boolean","number","function","string","symbol"].forEach((r,t)=>{tu[r]=function(s){return typeof s===r||"a"+(t<1?"n ":" ")+r}});const XC={};tu.transitional=function(t,i,s){function c(u,h){return"[Axios v"+v_+"] Transitional option '"+u+"'"+h+(s?". "+s:"")}return(u,h,m)=>{if(t===!1)throw new ge(c(h," has been removed"+(i?" in "+i:"")),ge.ERR_DEPRECATED);return i&&!XC[h]&&(XC[h]=!0,console.warn(c(h," has been deprecated since v"+i+" and will be removed in the near future"))),t?t(u,h,m):!0}};tu.spelling=function(t){return(i,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function w1(r,t,i){if(typeof r!="object")throw new ge("options must be an object",ge.ERR_BAD_OPTION_VALUE);const s=Object.keys(r);let c=s.length;for(;c-- >0;){const u=s[c],h=t[u];if(h){const m=r[u],g=m===void 0||h(m,u,r);if(g!==!0)throw new ge("option "+u+" must be "+g,ge.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new ge("Unknown option "+u,ge.ERR_BAD_OPTION)}}const fl={assertOptions:w1,validators:tu},Jn=fl.validators;let La=class{constructor(t){this.defaults=t||{},this.interceptors={request:new PC,response:new PC}}async request(t,i){try{return await this._request(t,i)}catch(s){if(s instanceof Error){let c={};Error.captureStackTrace?Error.captureStackTrace(c):c=new Error;const u=c.stack?c.stack.replace(/^.+\n/,""):"";try{s.stack?u&&!String(s.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+u):s.stack=u}catch{}}throw s}}_request(t,i){typeof t=="string"?(i=i||{},i.url=t):i=t||{},i=Ga(this.defaults,i);const{transitional:s,paramsSerializer:c,headers:u}=i;s!==void 0&&fl.assertOptions(s,{silentJSONParsing:Jn.transitional(Jn.boolean),forcedJSONParsing:Jn.transitional(Jn.boolean),clarifyTimeoutError:Jn.transitional(Jn.boolean)},!1),c!=null&&(D.isFunction(c)?i.paramsSerializer={serialize:c}:fl.assertOptions(c,{encode:Jn.function,serialize:Jn.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),fl.assertOptions(i,{baseUrl:Jn.spelling("baseURL"),withXsrfToken:Jn.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let h=u&&D.merge(u.common,u[i.method]);u&&D.forEach(["delete","get","head","post","put","patch","common"],T=>{delete u[T]}),i.headers=tn.concat(h,u);const m=[];let g=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(i)===!1||(g=g&&N.synchronous,m.unshift(N.fulfilled,N.rejected))});const p=[];this.interceptors.response.forEach(function(N){p.push(N.fulfilled,N.rejected)});let v,C=0,S;if(!g){const T=[JC.bind(this),void 0];for(T.unshift(...m),T.push(...p),S=T.length,v=Promise.resolve(i);C<S;)v=v.then(T[C++],T[C++]);return v}S=m.length;let x=i;for(;C<S;){const T=m[C++],N=m[C++];try{x=T(x)}catch(j){N.call(this,j);break}}try{v=JC.call(this,x)}catch(T){return Promise.reject(T)}for(C=0,S=p.length;C<S;)v=v.then(p[C++],p[C++]);return v}getUri(t){t=Ga(this.defaults,t);const i=m_(t.baseURL,t.url,t.allowAbsoluteUrls);return l_(i,t.params,t.paramsSerializer)}};D.forEach(["delete","get","head","options"],function(t){La.prototype[t]=function(i,s){return this.request(Ga(s||{},{method:t,url:i,data:(s||{}).data}))}});D.forEach(["post","put","patch"],function(t){function i(s){return function(u,h,m){return this.request(Ga(m||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:u,data:h}))}}La.prototype[t]=i(),La.prototype[t+"Form"]=i(!0)});let x1=class C_{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(u){i=u});const s=this;this.promise.then(c=>{if(!s._listeners)return;let u=s._listeners.length;for(;u-- >0;)s._listeners[u](c);s._listeners=null}),this.promise.then=c=>{let u;const h=new Promise(m=>{s.subscribe(m),u=m}).then(c);return h.cancel=function(){s.unsubscribe(u)},h},t(function(u,h,m){s.reason||(s.reason=new rs(u,h,m),i(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const i=this._listeners.indexOf(t);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const t=new AbortController,i=s=>{t.abort(s)};return this.subscribe(i),t.signal.unsubscribe=()=>this.unsubscribe(i),t.signal}static source(){let t;return{token:new C_(function(c){t=c}),cancel:t}}};function N1(r){return function(i){return r.apply(null,i)}}function R1(r){return D.isObject(r)&&r.isAxiosError===!0}const uf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(uf).forEach(([r,t])=>{uf[t]=r});function b_(r){const t=new La(r),i=$S(La.prototype.request,t);return D.extend(i,La.prototype,t,{allOwnKeys:!0}),D.extend(i,t,null,{allOwnKeys:!0}),i.create=function(c){return b_(Ga(r,c))},i}const ct=b_(Oo);ct.Axios=La;ct.CanceledError=rs;ct.CancelToken=x1;ct.isCancel=h_;ct.VERSION=v_;ct.toFormData=eu;ct.AxiosError=ge;ct.Cancel=ct.CanceledError;ct.all=function(t){return Promise.all(t)};ct.spread=N1;ct.isAxiosError=R1;ct.mergeConfig=Ga;ct.AxiosHeaders=tn;ct.formToJSON=r=>d_(D.isHTMLForm(r)?new FormData(r):r);ct.getAdapter=y_.getAdapter;ct.HttpStatusCode=uf;ct.default=ct;const{Axios:nk,AxiosError:ik,CanceledError:ak,isCancel:rk,CancelToken:sk,VERSION:ok,all:ck,Cancel:lk,isAxiosError:uk,spread:dk,toFormData:hk,AxiosHeaders:fk,HttpStatusCode:mk,formToJSON:gk,getAdapter:pk,mergeConfig:yk}=ct,j1="/api",Je=ct.create({baseURL:j1,headers:{"Content-Type":"application/json"}}),O1={getAll:async()=>(await Je.get("/plans")).data,getById:async r=>(await Je.get(`/plans/${r}`)).data},Ia={create:async r=>(await Je.post("/subscriptions",r)).data,getById:async r=>(await Je.get(`/subscriptions/${r}`)).data,getUsage:async r=>(await Je.get(`/subscriptions/${r}/usage`)).data,changePlan:async(r,t)=>(await Je.put(`/subscriptions/${r}/plan`,{newPlanId:t})).data,cancel:async r=>{await Je.delete(`/subscriptions/${r}`)},startNewBillingPeriod:async r=>(await Je.post(`/subscriptions/${r}/new-billing-period`)).data},S_={record:async r=>{await Je.post("/usage/record",r)},getSummary:async r=>(await Je.get(`/usage/${r}`)).data,getHistory:async(r,t)=>(await Je.get(`/usage/${r}/history`,{params:t})).data},il={verifyPassword:async r=>{try{return(await Je.post("/admin/verify",{password:r})).data.valid}catch{return!1}},getSubscriptions:async(r,t=1,i=20,s)=>(await Je.get("/admin/subscriptions",{params:{page:t,pageSize:i,status:s},headers:{"X-Admin-Password":r}})).data,getUsageEvents:async(r,t=1,i=50,s)=>(await Je.get("/admin/usage-events",{params:{page:t,pageSize:i,subscriptionId:s},headers:{"X-Admin-Password":r}})).data,getDashboardStats:async r=>(await Je.get("/admin/dashboard",{headers:{"X-Admin-Password":r}})).data},$C={getEvents:async(r=1,t=50)=>(await Je.get("/webhook/azure/events",{params:{page:r,pageSize:t}})).data,getEvent:async r=>(await Je.get(`/webhook/azure/events/${r}`)).data,clearEvents:async()=>(await Je.delete("/webhook/azure/events")).data},co={resolveToken:async r=>(await Je.post("/marketplace/resolve",r)).data,getSubscription:async r=>(await Je.get(`/marketplace/${r}`)).data,submitCustomerInfo:async r=>(await Je.post("/marketplace/customer-info",r)).data,submitFeatureSelection:async r=>(await Je.post("/marketplace/features",r)).data,finalizeSubscription:async r=>(await Je.post("/marketplace/finalize",r)).data,getAvailableFeatures:async()=>(await Je.get("/marketplace/available-features")).data,getAllSubscriptions:async(r=1,t=20)=>(await Je.get("/marketplace",{params:{page:r,pageSize:t}})).data};function I1({subscriptionId:r}){const[t,i]=_.useState([]),[s,c]=_.useState(!0),[u,h]=_.useState({});_.useEffect(()=>{m()},[r,u]);const m=async()=>{try{c(!0);const v=await S_.getHistory(r,{startDate:u.startDate,endDate:u.endDate,dimensionType:u.dimensionType});i(v)}catch(v){console.error("Failed to load usage history:",v)}finally{c(!1)}},g=()=>{const v=["Date","Dimension","Used Quantity","Reported Overage"],C=t.map(N=>[new Date(N.lastUpdated).toLocaleDateString(),mo[N.dimensionType],N.usedQuantity.toString(),N.reportedOverage.toString()]),S=[v.join(","),...C.map(N=>N.join(","))].join(`
`),x=new Blob([S],{type:"text/csv;charset=utf-8;"}),T=document.createElement("a");T.href=URL.createObjectURL(x),T.download=`usage-history-${r}.csv`,T.click()},p=[{key:"lastUpdated",header:"Date",render:v=>new Date(v.lastUpdated).toLocaleDateString()},{key:"dimensionType",header:"Dimension",render:v=>mo[v.dimensionType]},{key:"usedQuantity",header:"Used Quantity",render:v=>v.usedQuantity.toLocaleString()},{key:"reportedOverage",header:"Reported Overage",render:v=>v.reportedOverage.toLocaleString()},{key:"billingPeriodStart",header:"Billing Period",render:v=>new Date(v.billingPeriodStart).toLocaleDateString()}];return l.jsxs("div",{className:"ct-usage-history",children:[l.jsxs("div",{className:"ct-usage-history__filters",children:[l.jsxs("div",{className:"ct-input-group",children:[l.jsx("label",{className:"ct-label--primary",children:"Start Date"}),l.jsx("input",{type:"date",className:"ct-input--lined",value:u.startDate||"",onChange:v=>h({...u,startDate:v.target.value||void 0})})]}),l.jsxs("div",{className:"ct-input-group",children:[l.jsx("label",{className:"ct-label--primary",children:"End Date"}),l.jsx("input",{type:"date",className:"ct-input--lined",value:u.endDate||"",onChange:v=>h({...u,endDate:v.target.value||void 0})})]}),l.jsxs("div",{className:"ct-input-group",children:[l.jsx("label",{className:"ct-label--primary",children:"Dimension"}),l.jsxs("select",{className:"ct-input--lined",value:u.dimensionType??"",onChange:v=>h({...u,dimensionType:v.target.value?Number(v.target.value):void 0}),children:[l.jsx("option",{value:"",children:"All Dimensions"}),Object.entries(mo).map(([v,C])=>l.jsx("option",{value:v,children:C},v))]})]}),l.jsx(Ae,{variant:"outline",onClick:g,children:"Export CSV"})]}),l.jsx(sf,{columns:p,data:t,keyExtractor:v=>v.id,loading:s,emptyMessage:"No usage history found"})]})}function k1(){const r=is(),[t,i]=_.useState([]),[s,c]=_.useState(!0),[u,h]=_.useState(null),[m,g]=_.useState(null),[p,v]=_.useState(!1),[C,S]=_.useState({customerName:"",customerEmail:"",companyName:"",planId:""}),[x,T]=_.useState(!1),[N,j]=_.useState(null),[F,H]=_.useState(!1);_.useEffect(()=>{M()},[]);const M=async()=>{try{c(!0);const q=await O1.getAll();i(q)}catch(q){h("Failed to load plans"),console.error(q)}finally{c(!1)}},$=q=>{const ye=t.find(Re=>Re.id===q);ye&&(g(ye),S({...C,planId:q}),v(!0))},Q=async q=>{if(q.preventDefault(),!F){j("An error occurred. Please try again.");return}try{T(!0),j(null);const ye=await Ia.create(C);r(`/subscription-success/${ye.id}`)}catch(ye){j("Failed to create subscription"),console.error(ye)}finally{T(!1)}},ue=()=>{v(!1),g(null),S({customerName:"",customerEmail:"",companyName:"",planId:""}),j(null),H(!1)};return s?l.jsx(ot,{children:l.jsxs("div",{className:"ct-pricing ct-pricing--loading",children:[l.jsx("div",{className:"ct-spinner ct-spinner--large"}),l.jsx("p",{children:"Loading..."})]})}):u?l.jsx(ot,{children:l.jsxs("div",{className:"ct-pricing ct-pricing--error",children:[l.jsx(Il,{type:"error",message:u,autoClose:!1}),l.jsx(Ae,{onClick:M,children:"Submit"})]})}):l.jsx(ot,{children:l.jsxs("div",{className:"ct-pricing",children:[l.jsxs("header",{className:"ct-pricing__header",children:[l.jsx("h1",{className:"ct-pricing__title",children:"Choose Your Plan"}),l.jsx("p",{className:"ct-pricing__subtitle",children:"Select the perfect plan for your credential management needs"})]}),l.jsx("div",{className:"ct-pricing__plans",children:t.map(q=>l.jsx(WO,{plan:q,onSelect:$},q.id))}),l.jsx(kl,{isOpen:p,onClose:ue,title:`Subscribe to ${m?.name}`,size:"medium",children:l.jsxs("form",{onSubmit:Q,className:"ct-signup-form",children:[N&&l.jsx(Il,{type:"error",message:N,autoClose:!1}),l.jsxs("div",{className:"ct-signup-form__plan-summary",children:[l.jsx("h3",{children:m?.name}),l.jsxs("p",{className:"ct-signup-form__price",children:["$",m?.monthlyPrice,"/month"]})]}),l.jsxs("div",{className:"ct-input-group",children:[l.jsx("label",{className:"ct-label--primary",children:"Company Name *"}),l.jsx("input",{type:"text",className:"ct-input--primary",value:C.companyName,onChange:q=>S({...C,companyName:q.target.value}),required:!0,placeholder:"Enter your company name"})]}),l.jsxs("div",{className:"ct-input-group",children:[l.jsx("label",{className:"ct-label--primary",children:"Full Name *"}),l.jsx("input",{type:"text",className:"ct-input--primary",value:C.customerName,onChange:q=>S({...C,customerName:q.target.value}),required:!0,placeholder:"Enter your full name"})]}),l.jsxs("div",{className:"ct-input-group",children:[l.jsx("label",{className:"ct-label--primary",children:"Email Address *"}),l.jsx("input",{type:"email",className:"ct-input--primary",value:C.customerEmail,onChange:q=>S({...C,customerEmail:q.target.value}),required:!0,placeholder:"Enter your email address"})]}),l.jsx("div",{className:"ct-input-group ct-input-group--checkbox",children:l.jsxs("label",{className:"ct-checkbox",children:[l.jsx("input",{type:"checkbox",checked:F,onChange:q=>H(q.target.checked)}),l.jsx("span",{className:"ct-checkbox__label",children:"Yes"})]})}),l.jsxs("div",{className:"ct-signup-form__actions",children:[l.jsx(Ae,{variant:"outline",type:"button",onClick:ue,children:"Cancel"}),l.jsx(Ae,{variant:"primary",type:"submit",loading:x,children:"Submit"})]})]})})]})})}function M1(){const{id:r}=vm(),t=is(),[i,s]=_.useState(null),[c,u]=_.useState(!0),[h,m]=_.useState(null);_.useEffect(()=>{r&&g()},[r]);const g=async()=>{try{u(!0);const v=await Ia.getById(r);s(v)}catch(v){m("Failed to load subscription"),console.error(v)}finally{u(!1)}},p=v=>new Date(v).toLocaleDateString("en-US");return c?l.jsx(ot,{children:l.jsxs("div",{className:"ct-success ct-success--loading",children:[l.jsx("div",{className:"ct-spinner ct-spinner--large"}),l.jsx("p",{children:"Loading..."})]})}):h||!i?l.jsx(ot,{children:l.jsxs("div",{className:"ct-success ct-success--error",children:[l.jsx("h1",{children:"Error"}),l.jsx("p",{children:h||"Failed to load subscription"}),l.jsx(Ae,{onClick:()=>t("/pricing"),children:"Pricing"})]})}):l.jsx(ot,{children:l.jsxs("div",{className:"ct-success",children:[l.jsx("div",{className:"ct-success__icon",children:""}),l.jsx("h1",{className:"ct-success__title",children:"Subscription Successful!"}),l.jsx("p",{className:"ct-success__subtitle",children:"Welcome to ComsignTrust! Your subscription has been activated."}),l.jsx(Ye,{className:"ct-success__details",children:l.jsxs(Qe,{children:[l.jsx("h2",{children:"Details"}),l.jsxs("div",{className:"ct-success__info-grid",children:[l.jsxs("div",{className:"ct-success__info-item",children:[l.jsx("span",{className:"ct-success__info-label",children:"Subscription ID"}),l.jsx("span",{className:"ct-success__info-value ct-success__info-value--mono",children:i.id})]}),l.jsxs("div",{className:"ct-success__info-item",children:[l.jsx("span",{className:"ct-success__info-label",children:"Company Name"}),l.jsx("span",{className:"ct-success__info-value",children:i.companyName})]}),l.jsxs("div",{className:"ct-success__info-item",children:[l.jsx("span",{className:"ct-success__info-label",children:"Full Name"}),l.jsx("span",{className:"ct-success__info-value",children:i.customerName})]}),l.jsxs("div",{className:"ct-success__info-item",children:[l.jsx("span",{className:"ct-success__info-label",children:"Email Address"}),l.jsx("span",{className:"ct-success__info-value",children:i.customerEmail})]}),l.jsxs("div",{className:"ct-success__info-item",children:[l.jsx("span",{className:"ct-success__info-label",children:"Plan"}),l.jsx("span",{className:"ct-success__info-value ct-success__info-value--highlight",children:i.plan?.name})]}),l.jsxs("div",{className:"ct-success__info-item",children:[l.jsx("span",{className:"ct-success__info-label",children:"Price"}),l.jsxs("span",{className:"ct-success__info-value",children:["$",i.plan?.monthlyPrice,"/month"]})]}),l.jsxs("div",{className:"ct-success__info-item",children:[l.jsx("span",{className:"ct-success__info-label",children:"Date"}),l.jsx("span",{className:"ct-success__info-value",children:p(i.startDate)})]}),l.jsxs("div",{className:"ct-success__info-item",children:[l.jsx("span",{className:"ct-success__info-label",children:"Billing Period"}),l.jsxs("span",{className:"ct-success__info-value",children:[p(i.billingPeriodStart)," - ",p(i.billingPeriodEnd)]})]})]})]})}),l.jsxs("div",{className:"ct-success__actions",children:[l.jsx(Ae,{variant:"primary",size:"large",onClick:()=>t(`/dashboard/${i.id}`),children:"Go to Dashboard"}),l.jsx(Ae,{variant:"outline",size:"large",onClick:()=>t("/pricing"),children:"Pricing"})]}),l.jsx("p",{className:"ct-success__note",children:" Subscription ID"})]})})}function __(r){const[t,i]=_.useState(null),[s,c]=_.useState(null),[u,h]=_.useState(!0),[m,g]=_.useState(null),p=_.useCallback(async()=>{if(!r){h(!1);return}try{h(!0),g(null);const[S,x]=await Promise.all([Ia.getById(r),Ia.getUsage(r)]);i(S),c(x)}catch(S){g(S instanceof Error?S.message:"Failed to load subscription data")}finally{h(!1)}},[r]);_.useEffect(()=>{p()},[p]);const v=_.useCallback(async(S,x)=>{if(!r)return;await S_.record({subscriptionId:r,dimensionType:S,quantity:x});const T=await Ia.getUsage(r);c(T)},[r]),C=_.useCallback(async()=>{if(!r)return;const S=await Ia.startNewBillingPeriod(r);i(S);const x=await Ia.getUsage(r);c(x)},[r]);return{subscription:t,usage:s,loading:u,error:m,refresh:p,recordUsage:v,startNewBillingPeriod:C}}function D1(){const{id:r}=vm(),{subscription:t,usage:i,loading:s,error:c,recordUsage:u,startNewBillingPeriod:h}=__(r),[m,g]=_.useState(XS.Pki),[p,v]=_.useState(10),[C,S]=_.useState(!1),[x,T]=_.useState(null),[N,j]=_.useState(!1),F=q=>mo[q],H=async()=>{try{S(!0),T(null),await u(m,p),T({type:"success",message:`Success: ${p} ${F(m)}`})}catch(q){T({type:"error",message:"Failed to record usage"}),console.error(q)}finally{S(!1)}},M=async()=>{if(window.confirm("Reset Billing Period?"))try{j(!0),T(null),await h(),T({type:"success",message:"Success"})}catch(q){T({type:"error",message:"An error occurred. Please try again."}),console.error(q)}finally{j(!1)}};if(s)return l.jsx(ot,{showSidebar:!0,subscriptionId:r,children:l.jsxs("div",{className:"ct-dashboard ct-dashboard--loading",children:[l.jsx("div",{className:"ct-spinner ct-spinner--large"}),l.jsx("p",{children:"Loading..."})]})});if(c||!t||!i)return l.jsx(ot,{children:l.jsxs("div",{className:"ct-dashboard ct-dashboard--error",children:[l.jsx("h1",{children:"Dashboard"}),l.jsx("p",{children:c||"Failed to load subscription"}),l.jsx("p",{className:"ct-dashboard__hint",children:l.jsx($t,{to:"/pricing",children:"Pricing"})})]})});const $={[Un.Active]:"Active",[Un.Suspended]:"Suspended",[Un.Cancelled]:"Cancelled"},Q={[Un.Active]:"ct-status--active",[Un.Suspended]:"ct-status--suspended",[Un.Cancelled]:"ct-status--cancelled"},ue=q=>new Date(q).toLocaleDateString("en-US");return l.jsx(ot,{showSidebar:!0,subscriptionId:r,children:l.jsxs("div",{className:"ct-dashboard",children:[x&&l.jsx(Il,{type:x.type,message:x.message,onClose:()=>T(null)}),l.jsxs("header",{className:"ct-dashboard__header",children:[l.jsxs("div",{className:"ct-dashboard__header-info",children:[l.jsx("h1",{className:"ct-dashboard__title",children:t.companyName}),l.jsxs("div",{className:"ct-dashboard__meta",children:[l.jsx("span",{className:`ct-status ${Q[t.status]}`,children:$[t.status]}),l.jsxs("span",{className:"ct-dashboard__plan",children:[t.plan?.name," - $",t.plan?.monthlyPrice,"/month"]})]})]}),l.jsx("div",{className:"ct-dashboard__header-actions",children:l.jsx($t,{to:`/dashboard/${r}/history`,children:l.jsx(Ae,{variant:"outline",children:"Usage History"})})})]}),l.jsx(Ye,{className:"ct-dashboard__billing-period",children:l.jsx(Qe,{children:l.jsxs("div",{className:"ct-billing-period",children:[l.jsxs("div",{className:"ct-billing-period__info",children:[l.jsx("h3",{children:"Billing Period"}),l.jsxs("p",{children:[ue(i.billingPeriodStart)," - ",ue(i.billingPeriodEnd)]})]}),l.jsxs("div",{className:"ct-billing-period__summary",children:[l.jsxs("div",{className:"ct-billing-period__item",children:[l.jsx("span",{className:"ct-billing-period__label",children:"Base Price"}),l.jsxs("span",{className:"ct-billing-period__value",children:["$",t.plan?.monthlyPrice.toFixed(2)]})]}),l.jsxs("div",{className:"ct-billing-period__item",children:[l.jsx("span",{className:"ct-billing-period__label",children:"Overage Charges"}),l.jsxs("span",{className:"ct-billing-period__value ct-billing-period__value--overage",children:["$",i.totalOverageCharges.toFixed(2)]})]}),l.jsxs("div",{className:"ct-billing-period__item ct-billing-period__item--total",children:[l.jsx("span",{className:"ct-billing-period__label",children:"Estimated Total"}),l.jsxs("span",{className:"ct-billing-period__value",children:["$",((t.plan?.monthlyPrice||0)+i.totalOverageCharges).toFixed(2)]})]})]})]})})}),l.jsxs(Ye,{className:"ct-dashboard__usage",children:[l.jsx(Mt,{children:l.jsx("h2",{children:"Usage Summary"})}),l.jsx(Qe,{children:l.jsx("div",{className:"ct-usage-grid",children:i.dimensions.map(q=>l.jsx(eI,{dimension:q},q.dimensionId))})})]}),l.jsxs(Ye,{className:"ct-dashboard__demo-controls",children:[l.jsxs(Mt,{children:[l.jsx("h2",{children:" Demo Controls"}),l.jsx("span",{className:"ct-demo-badge",children:"Demo Mode"})]}),l.jsxs(Qe,{children:[l.jsx("p",{className:"ct-demo-controls__description",children:"This application runs in demo mode, simulating Azure Marketplace billing without requiring actual Azure credentials. Perfect for testing and demonstration purposes."}),l.jsxs("div",{className:"ct-demo-controls__form",children:[l.jsxs("div",{className:"ct-input-group",children:[l.jsx("label",{className:"ct-label--primary",children:"Credential Type"}),l.jsx("select",{className:"ct-input--primary",value:m,onChange:q=>g(Number(q.target.value)),children:Object.entries(mo).map(([q,ye])=>l.jsx("option",{value:q,children:F(Number(q))},q))})]}),l.jsxs("div",{className:"ct-input-group",children:[l.jsx("label",{className:"ct-label--primary",children:"Quantity"}),l.jsx("input",{type:"number",className:"ct-input--primary",value:p,onChange:q=>v(Math.max(1,parseInt(q.target.value)||1)),min:"1",max:"1000"})]}),l.jsx(Ae,{variant:"primary",onClick:H,loading:C,children:"Simulate Usage"})]}),l.jsx("div",{className:"ct-demo-controls__divider"}),l.jsxs("div",{className:"ct-demo-controls__period",children:[l.jsx("h3",{children:"Billing Period"}),l.jsx("p",{children:"This application runs in demo mode, simulating Azure Marketplace billing without requiring actual Azure credentials. Perfect for testing and demonstration purposes."}),l.jsx(Ae,{variant:"outline",onClick:M,loading:N,children:"Reset Billing Period"})]})]})]})]})})}function U1(){const{id:r}=vm(),{subscription:t,loading:i,error:s}=__(r);return i?l.jsx(ot,{showSidebar:!0,subscriptionId:r,children:l.jsxs("div",{className:"ct-usage-page ct-usage-page--loading",children:[l.jsx("div",{className:"ct-spinner ct-spinner--large"}),l.jsx("p",{children:"Loading..."})]})}):s||!t?l.jsx(ot,{children:l.jsxs("div",{className:"ct-usage-page ct-usage-page--error",children:[l.jsx("h1",{children:"Usage History"}),l.jsx("p",{children:s||"Failed to load subscription"}),l.jsx($t,{to:"/pricing",children:l.jsx(Ae,{children:"Pricing"})})]})}):l.jsx(ot,{showSidebar:!0,subscriptionId:r,children:l.jsxs("div",{className:"ct-usage-page",children:[l.jsxs("header",{className:"ct-usage-page__header",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"ct-usage-page__title",children:"Usage History"}),l.jsxs("p",{className:"ct-usage-page__subtitle",children:[t.companyName," - ",t.plan?.name]})]}),l.jsx($t,{to:`/dashboard/${r}`,children:l.jsx(Ae,{variant:"outline",children:"Back"})})]}),l.jsxs(Ye,{children:[l.jsx(Mt,{children:l.jsx("h2",{children:"Usage History"})}),l.jsx(Qe,{children:l.jsx(I1,{subscriptionId:r})})]})]})})}function L1(){const r=is(),[t,i]=_.useState(!1),[s,c]=_.useState(""),[u,h]=_.useState(null),[m,g]=_.useState(!1),[p,v]=_.useState(null),[C,S]=_.useState(null),[x,T]=_.useState(null),[N,j]=_.useState(!1),[F,H]=_.useState("overview"),[M,$]=_.useState(null);_.useEffect(()=>{t&&ue()},[t]);const Q=async te=>{te.preventDefault(),g(!0),h(null),await il.verifyPassword(s)?i(!0):h("Invalid password"),g(!1)},ue=async()=>{try{j(!0);const[te,Xe,We]=await Promise.all([il.getDashboardStats(s),il.getSubscriptions(s),il.getUsageEvents(s)]);v(te),S(Xe),T(We)}catch(te){console.error("Failed to load admin data:",te)}finally{j(!1)}},q={[Un.Active]:"Active",[Un.Suspended]:"Suspended",[Un.Cancelled]:"Cancelled"},ye=te=>new Date(te).toLocaleDateString("en-US"),Re=te=>new Date(te).toLocaleString("en-US"),at=[{key:"companyName",header:"Company"},{key:"plan",header:"Plan",render:te=>te.plan?.name||te.planId},{key:"status",header:"Status",render:te=>l.jsx("span",{className:`ct-status-badge ct-status-badge--${Un[te.status].toLowerCase()}`,children:q[te.status]})},{key:"startDate",header:"Start Date",render:te=>ye(te.startDate)},{key:"customerEmail",header:"Customer",render:te=>te.customerEmail}],lt=[{key:"createdAt",header:"Date",render:te=>Re(te.createdAt)},{key:"resourceId",header:"Subscription",render:te=>te.resourceId.substring(0,8)+"..."},{key:"dimension",header:"Dimension"},{key:"quantity",header:"Quantity"},{key:"amount",header:"Amount",render:te=>`$${te.amount.toFixed(2)}`},{key:"status",header:"Status",render:te=>l.jsx("span",{className:`ct-status-badge ct-status-badge--${te.status.toLowerCase()}`,children:te.status})}];return t?N&&!p?l.jsx(ot,{children:l.jsxs("div",{className:"ct-admin ct-admin--loading",children:[l.jsx("div",{className:"ct-spinner ct-spinner--large"}),l.jsx("p",{children:"Loading..."})]})}):l.jsx(ot,{children:l.jsxs("div",{className:"ct-admin",children:[l.jsxs("header",{className:"ct-admin__header",children:[l.jsx("h1",{className:"ct-admin__title",children:"Admin Dashboard"}),l.jsx(Ae,{variant:"outline",onClick:ue,disabled:N,children:N?"Loading...":"Submit"})]}),l.jsxs("div",{className:"ct-admin__stats",children:[l.jsx(Ye,{className:"ct-stat-card",children:l.jsxs(Qe,{children:[l.jsx("div",{className:"ct-stat-card__icon",children:""}),l.jsx("div",{className:"ct-stat-card__value",children:p?.totalActiveSubscriptions||0}),l.jsx("div",{className:"ct-stat-card__label",children:"Active Subscriptions"})]})}),l.jsx(Ye,{className:"ct-stat-card",children:l.jsxs(Qe,{children:[l.jsx("div",{className:"ct-stat-card__icon",children:""}),l.jsxs("div",{className:"ct-stat-card__value",children:["$",p?.monthlyRecurringRevenue.toFixed(2)||"0.00"]}),l.jsx("div",{className:"ct-stat-card__label",children:"Total Revenue"})]})}),l.jsx(Ye,{className:"ct-stat-card",children:l.jsxs(Qe,{children:[l.jsx("div",{className:"ct-stat-card__icon",children:""}),l.jsxs("div",{className:"ct-stat-card__value",children:["$",p?.totalMeteredRevenue.toFixed(2)||"0.00"]}),l.jsx("div",{className:"ct-stat-card__label",children:"Total Overage"})]})}),l.jsx(Ye,{className:"ct-stat-card",children:l.jsxs(Qe,{children:[l.jsx("div",{className:"ct-stat-card__icon",children:""}),l.jsx("div",{className:"ct-stat-card__value",children:p?.usageEventsToday||0}),l.jsx("div",{className:"ct-stat-card__label",children:"Billing Events"})]})})]}),l.jsxs("div",{className:"ct-admin__tabs",children:[l.jsx("button",{className:`ct-admin__tab ${F==="overview"?"ct-admin__tab--active":""}`,onClick:()=>H("overview"),children:"Overview"}),l.jsx("button",{className:`ct-admin__tab ${F==="subscriptions"?"ct-admin__tab--active":""}`,onClick:()=>H("subscriptions"),children:"Subscriptions"}),l.jsx("button",{className:`ct-admin__tab ${F==="events"?"ct-admin__tab--active":""}`,onClick:()=>H("events"),children:"Billing Events"})]}),F==="overview"&&l.jsx("div",{className:"ct-admin__overview",children:l.jsxs(Ye,{children:[l.jsx(Mt,{children:l.jsx("h2",{children:"Subscriptions"})}),l.jsx(Qe,{children:l.jsxs("div",{className:"ct-plan-distribution",children:[p?.subscriptionsByPlan&&Object.entries(p.subscriptionsByPlan).map(([te,Xe])=>l.jsxs("div",{className:"ct-plan-distribution__item",children:[l.jsx("span",{className:"ct-plan-distribution__plan",children:te}),l.jsx("div",{className:"ct-plan-distribution__bar",children:l.jsx("div",{className:"ct-plan-distribution__fill",style:{width:`${Xe/(p.totalActiveSubscriptions||1)*100}%`}})}),l.jsx("span",{className:"ct-plan-distribution__count",children:Xe})]},te)),(!p?.subscriptionsByPlan||Object.keys(p.subscriptionsByPlan).length===0)&&l.jsx("p",{className:"ct-admin__empty",children:"No usage history available"})]})})]})}),F==="subscriptions"&&l.jsxs(Ye,{children:[l.jsx(Mt,{children:l.jsx("h2",{children:"Subscriptions"})}),l.jsx(Qe,{children:l.jsx(sf,{columns:at,data:C?.data||[],keyExtractor:te=>te.id,onRowClick:te=>r(`/dashboard/${te.id}`),emptyMessage:"No usage history available"})})]}),F==="events"&&l.jsxs(Ye,{children:[l.jsxs(Mt,{children:[l.jsx("h2",{children:"Billing Events"}),l.jsx("p",{className:"ct-admin__events-description",children:"This is the exact JSON payload that would be sent to the Azure Marketplace Metered Billing API."})]}),l.jsx(Qe,{children:l.jsx(sf,{columns:lt,data:x?.data||[],keyExtractor:te=>te.id,onRowClick:te=>$(te),emptyMessage:"No usage history available"})})]}),l.jsx(kl,{isOpen:!!M,onClose:()=>$(null),title:"Azure Metered Billing API Payload",size:"medium",children:M&&l.jsxs("div",{className:"ct-event-detail",children:[l.jsx("h3",{children:"Azure Metered Billing API Payload"}),l.jsx("pre",{className:"ct-event-detail__json",children:JSON.stringify({resourceId:M.resourceId,planId:M.planId,dimension:M.dimension,quantity:M.quantity,effectiveStartTime:M.effectiveStartTime},null,2)}),l.jsxs("div",{className:"ct-event-detail__info",children:[l.jsxs("div",{className:"ct-event-detail__row",children:[l.jsx("span",{children:"Status:"}),l.jsx("span",{className:`ct-status-badge ct-status-badge--${M.status.toLowerCase()}`,children:M.status})]}),l.jsxs("div",{className:"ct-event-detail__row",children:[l.jsx("span",{children:"Amount:"}),l.jsxs("span",{children:["$",M.amount.toFixed(2)]})]}),l.jsxs("div",{className:"ct-event-detail__row",children:[l.jsx("span",{children:"Date:"}),l.jsx("span",{children:Re(M.createdAt)})]})]})]})})]})}):l.jsx(ot,{children:l.jsx("div",{className:"ct-admin-login",children:l.jsxs(Ye,{className:"ct-admin-login__card",children:[l.jsx(Mt,{children:l.jsx("h1",{children:"Admin Dashboard"})}),l.jsx(Qe,{children:l.jsxs("form",{onSubmit:Q,className:"ct-admin-login__form",children:[u&&l.jsx(Il,{type:"error",message:u,autoClose:!1}),l.jsxs("div",{className:"ct-input-group",children:[l.jsx("label",{className:"ct-label--primary",children:"Enter Admin Password"}),l.jsx("input",{type:"password",className:"ct-input--primary",value:s,onChange:te=>c(te.target.value),placeholder:"Password",required:!0})]}),l.jsx(Ae,{variant:"primary",type:"submit",loading:m,children:"Login"})]})})]})})})}function P1(){return l.jsx(ot,{children:l.jsxs("div",{className:"ct-privacy-policy",children:[l.jsxs("div",{className:"ct-privacy-header",children:[l.jsx("h1",{children:"Privacy Policy"}),l.jsx("p",{className:"ct-privacy-subtitle",children:"ComsignTrust CCMS Commercial Platform"})]}),l.jsxs("div",{className:"ct-privacy-content",children:[l.jsxs("section",{className:"ct-privacy-section",children:[l.jsx("h2",{children:"In this Privacy Policy, we describe how we collect, store, and use your data"}),l.jsx("p",{children:"We use your personal data to provide you with the best service for you. We take our responsibility seriously to handle your data and we are committed to protecting your privacy. There are steps you can take in order to control what we do with your data and we will explain the following steps in this privacy policy."}),l.jsx("p",{children:"When we talk about data and personal data in this privacy policy, we mean personal data that identifies you or can be used to identify you, such as your name and contact information. This may also include information on how you use our websites and applications."})]}),l.jsxs("section",{className:"ct-privacy-section",children:[l.jsx("h2",{children:"Responsibility for the information"}),l.jsx("p",{children:"ComsignTrust Ltd. is responsible for your information. Our address is Kiryat Atidim Building 4, Tel Aviv, Israel, Zip Code: 61580. We are the controller of the personal information we collect from you  which means that we control your personal data collection methods and the goals for which they are collected and processed."})]}),l.jsxs("section",{className:"ct-privacy-section",children:[l.jsx("h2",{children:"Personal information we collect"}),l.jsx("p",{children:"Depending on your use of the CCMS Commercial Platform, here is the information we collect:"}),l.jsx("div",{className:"ct-privacy-table-wrapper",children:l.jsxs("table",{className:"ct-privacy-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"When we collect"}),l.jsx("th",{children:"What we collect"})]})}),l.jsxs("tbody",{children:[l.jsxs("tr",{children:[l.jsx("td",{children:"When you subscribe through Azure Marketplace"}),l.jsx("td",{children:"Contact details (name, email address, company name), Azure subscription information"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:"When you use our services"}),l.jsx("td",{children:"Usage data, service interaction logs, feature utilization metrics"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:"When you contact us for support"}),l.jsx("td",{children:"Communication records (emails, support tickets, chat messages)"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:"When you use our platform"}),l.jsx("td",{children:"Information about your activity, preferences, and service configuration"})]})]})]})})]}),l.jsxs("section",{className:"ct-privacy-section",children:[l.jsx("h2",{children:"Sensitive personal information"}),l.jsx("p",{children:"Certain types of personal information such as medical, biometric, racial, religious, etc. are sensitive information that requires separate attention and protection because of its importance. We do not require such information for the CCMS Commercial Platform services."})]}),l.jsxs("section",{className:"ct-privacy-section",children:[l.jsx("h2",{children:"How we use personal information"}),l.jsx("p",{children:"We may use personal information only when we have a reasonable reason to do so. According to the GDPR, we may only use the information in one or more of the following cases:"}),l.jsxs("ol",{children:[l.jsx("li",{children:"The information is necessary to fulfill a contract between us"}),l.jsx("li",{children:"The information is necessary for compliance with the law"}),l.jsx("li",{children:"When you agree to it (give us your consent)"}),l.jsx("li",{children:"When it is part of our legitimate interest as an organization"})]}),l.jsx("p",{children:"Legitimate interests are our business or marketing reasons for using your data, but we will not place our legitimate interests above your best interests."}),l.jsx("div",{className:"ct-privacy-table-wrapper",children:l.jsxs("table",{className:"ct-privacy-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"What we use your data for"}),l.jsx("th",{children:"Lawful basis"}),l.jsx("th",{children:"Our legitimate interest"})]})}),l.jsxs("tbody",{children:[l.jsxs("tr",{children:[l.jsx("td",{children:"Provide CCMS services and manage your subscription"}),l.jsx("td",{children:"Fulfilling a contract between us"}),l.jsx("td",{children:"Be effective about how we comply with our contracts and provide our services"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:"Communicate with you about your subscription and usage"}),l.jsx("td",{children:"Fulfilling a contract, Our legitimate interest"}),l.jsx("td",{children:"Keeping our records updated and providing relevant service information"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:"Process billing and usage-based charges through Azure"}),l.jsx("td",{children:"Fulfilling a contract, Legal duty"}),l.jsx("td",{children:"Manage our business efficiently including accounting and billing"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:"Improve our services and develop new features"}),l.jsx("td",{children:"Our legitimate interest, Your consent"}),l.jsx("td",{children:"Development of services and products"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:"Respond to support requests and complaints"}),l.jsx("td",{children:"Fulfilling a contract, Our legitimate interest"}),l.jsx("td",{children:"Identifying customer needs and improving service quality"})]})]})]})})]}),l.jsxs("section",{className:"ct-privacy-section",children:[l.jsx("h2",{children:"Marketing communications"}),l.jsx("p",{children:"We may send you email marketing communications if you indicate that you wish to receive such emails. Our marketing communications include information about our new and existing services, special offers we believe you may like, and other products that we believe may be useful to you."}),l.jsx("p",{children:"If you've previously opted in to receive emails from us, you can opt out of receiving marketing emails by clicking the link to unsubscribe from all of our marketing emails."}),l.jsx("p",{children:"Please note that if you let us know that you do not wish to receive marketing emails, you will still receive service emails related to your subscription, usage alerts, and important service updates."})]}),l.jsxs("section",{className:"ct-privacy-section",children:[l.jsx("h2",{children:"Data retention"}),l.jsx("p",{children:"We save your data only as long as we need it. The amount of time we need your data depends on our use of that data, whether it is to provide you with services, for our legitimate interests (described above), or to comply with the law."}),l.jsx("p",{children:"We will actively review the information we hold and when there is no longer a need for a customer, legal need or business need to hold the information, we will delete it securely or in some cases make it anonymous."})]}),l.jsxs("section",{className:"ct-privacy-section",children:[l.jsx("h2",{children:"How we protect your information"}),l.jsx("p",{children:"We protect your personal data from unauthorized access, illegal use, loss, manipulation, or destruction. We use technical means such as encryption and password protection to protect the data and the systems in which they are held."}),l.jsx("p",{children:"We also use operational data protection measures, for example by limiting the number of people who have access to the databases in which the information is held."}),l.jsx("p",{children:"We maintain these security measures in review and address industry security standards to keep up to date on best practices."})]}),l.jsxs("section",{className:"ct-privacy-section",children:[l.jsx("h2",{children:"Sharing your data"}),l.jsx("p",{children:"We share some of your personal data with or receive personal data from the following categories of third parties:"}),l.jsxs("ol",{children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Microsoft Azure:"})," Your subscription and usage information is shared with Microsoft Azure for billing and marketplace integration purposes."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Payment processors:"})," To process payments, prevent, and identify fraud, we process payment information through Microsoft Azure Marketplace billing."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Service providers:"})," We may share your data with companies that provide us with products and/or services that are relevant to delivering our services to you. We will ensure that our suppliers respect your personal data and comply with data protection laws."]})]})]}),l.jsxs("section",{className:"ct-privacy-section",children:[l.jsx("h2",{children:"Your rights"}),l.jsxs("ol",{children:[l.jsx("li",{children:"You are entitled to see copies of all of your personal data that we hold, to request correction or deletion of such data. You can also restrict or resist processing your data."}),l.jsx("li",{children:"If you've given us your consent to use your data, such as to be able to send you marketing emails, you can opt out at any time."}),l.jsx("li",{children:"You may object to our use of your data in the event that we rely on our legitimate interests to do so."}),l.jsxs("li",{children:["To raise any objection, remove consent or exercise your rights, you may email us at ",l.jsx("a",{href:"mailto:support@comda.co.il",children:"support@comda.co.il"}),"."]}),l.jsxs("li",{children:["You may also contact the Company's Data Protection Officer (DPO) directly at ",l.jsx("a",{href:"mailto:yaire@comda.co.il",children:"yaire@comda.co.il"}),"."]})]}),l.jsx("p",{children:"When you contact us, we will get back to you as soon as possible and when possible within less than a month. If your request is more complicated, we may respond to you with a slight delay, but not later than two months since the request."})]}),l.jsxs("section",{className:"ct-privacy-section",children:[l.jsx("h2",{children:"Complaints"}),l.jsxs("p",{children:["If you have complaints regarding the processing of your personal data by ComsignTrust, please email us at ",l.jsx("a",{href:"mailto:support@comda.co.il",children:"support@comda.co.il"})," or by mail to the company's offices at Kiryat Atidim 4, Tel Aviv, Israel 61580."]}),l.jsxs("p",{children:["In addition, you can contact the Company's Data Protection Officer (DPO) directly at ",l.jsx("a",{href:"mailto:yaire@comda.co.il",children:"yaire@comda.co.il"}),"."]}),l.jsx("p",{children:"Please note that you have the right to file a complaint with the regulatory authority responsible for protecting personal data in the country in which you live or work, in case you believe that data protection laws are in violation."})]}),l.jsxs("section",{className:"ct-privacy-section",children:[l.jsx("h2",{children:"Contact us"}),l.jsxs("p",{children:["For any matter relating to the protection of privacy and the use of your personal data, please send an email to ",l.jsx("a",{href:"mailto:support@comda.co.il",children:"support@comda.co.il"})," or by mail to the company's offices at:"]}),l.jsxs("address",{className:"ct-privacy-address",children:[l.jsx("strong",{children:"ComsignTrust Ltd."}),l.jsx("br",{}),"Atidim Tech Park, Building #4",l.jsx("br",{}),"P.O.Box 58007",l.jsx("br",{}),"Tel-Aviv 61580, Israel",l.jsx("br",{}),l.jsx("br",{}),l.jsx("strong",{children:"Email:"})," ",l.jsx("a",{href:"mailto:info@comsigntrust.com",children:"info@comsigntrust.com"}),l.jsx("br",{}),l.jsx("strong",{children:"Phone:"})," +972-3-6485255",l.jsx("br",{}),l.jsx("strong",{children:"Fax:"})," +972-3-6474206"]}),l.jsxs("p",{children:["You can also contact the Company's Data Protection Officer (DPO) directly at ",l.jsx("a",{href:"mailto:yaire@comda.co.il",children:"yaire@comda.co.il"}),"."]})]}),l.jsxs("section",{className:"ct-privacy-section ct-privacy-footer",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Last updated:"})," January 2026"]}),l.jsx("p",{className:"ct-privacy-copyright",children:"ComsignTrust  The Most Secured Digital Signature Solution. ComsignTrust, SIGNER-1, CCMS, and other service names are the trademarks and copyright of ComsignTrust Ltd."})]})]})]})})}function z1(){return l.jsx(ot,{children:l.jsxs("div",{className:"ct-support-page",children:[l.jsxs("div",{className:"ct-support-header",children:[l.jsx("h1",{children:"Support"}),l.jsx("p",{className:"ct-support-subtitle",children:"ComsignTrust CCMS Commercial Platform"})]}),l.jsxs("div",{className:"ct-support-content",children:[l.jsxs(Ye,{children:[l.jsx(Mt,{children:l.jsx("h2",{children:"Contact Support"})}),l.jsx(Qe,{children:l.jsxs("div",{className:"ct-support-contact-grid",children:[l.jsxs("div",{className:"ct-support-contact-item",children:[l.jsx("div",{className:"ct-support-contact-icon",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),l.jsx("polyline",{points:"22,6 12,13 2,6"})]})}),l.jsxs("div",{className:"ct-support-contact-details",children:[l.jsx("h3",{children:"Email"}),l.jsx("a",{href:"mailto:support@comsigntrust.com",children:"support@comsigntrust.com"})]})]}),l.jsxs("div",{className:"ct-support-contact-item",children:[l.jsx("div",{className:"ct-support-contact-icon",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:l.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})})}),l.jsxs("div",{className:"ct-support-contact-details",children:[l.jsx("h3",{children:"Phone"}),l.jsx("a",{href:"tel:+972-3-6485255",children:"+972-3-6485255"})]})]}),l.jsxs("div",{className:"ct-support-contact-item",children:[l.jsx("div",{className:"ct-support-contact-icon",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),l.jsx("circle",{cx:"12",cy:"10",r:"3"})]})}),l.jsxs("div",{className:"ct-support-contact-details",children:[l.jsx("h3",{children:"Address"}),l.jsxs("address",{children:["Atidim Tech Park, Building #4",l.jsx("br",{}),"Tel-Aviv 61580, Israel"]})]})]}),l.jsxs("div",{className:"ct-support-contact-item",children:[l.jsx("div",{className:"ct-support-contact-icon",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("circle",{cx:"12",cy:"12",r:"10"}),l.jsx("polyline",{points:"12 6 12 12 16 14"})]})}),l.jsxs("div",{className:"ct-support-contact-details",children:[l.jsx("h3",{children:"Business Hours"}),l.jsxs("p",{children:["Sunday - Thursday",l.jsx("br",{}),"09:00 - 17:00 (IST)"]})]})]})]})})]}),l.jsxs(Ye,{children:[l.jsx(Mt,{children:l.jsx("h2",{children:"How Can We Help?"})}),l.jsx(Qe,{children:l.jsxs("div",{className:"ct-support-options",children:[l.jsxs("div",{className:"ct-support-option",children:[l.jsx("h3",{children:"Technical Support"}),l.jsx("p",{children:"For technical issues, API questions, or integration support with the CCMS Commercial Platform, please contact our technical team."}),l.jsx("a",{href:"mailto:support@comsigntrust.com?subject=Technical Support - CCMS Commercial Platform",className:"ct-support-link",children:"Contact Technical Support"})]}),l.jsxs("div",{className:"ct-support-option",children:[l.jsx("h3",{children:"Billing & Subscriptions"}),l.jsx("p",{children:"For questions about your Azure Marketplace subscription, billing, usage, or plan changes."}),l.jsx("a",{href:"mailto:support@comsigntrust.com?subject=Billing Inquiry - CCMS Commercial Platform",className:"ct-support-link",children:"Contact Billing Support"})]}),l.jsxs("div",{className:"ct-support-option",children:[l.jsx("h3",{children:"Sales & General Inquiries"}),l.jsx("p",{children:"For sales questions, partnership opportunities, or general information about ComsignTrust products."}),l.jsx("a",{href:"mailto:info@comsigntrust.com?subject=Sales Inquiry - CCMS Commercial Platform",className:"ct-support-link",children:"Contact Sales"})]})]})})]}),l.jsxs(Ye,{children:[l.jsx(Mt,{children:l.jsx("h2",{children:"Resources"})}),l.jsx(Qe,{children:l.jsxs("div",{className:"ct-support-resources",children:[l.jsxs("a",{href:"https://www.comsigntrust.com",target:"_blank",rel:"noopener noreferrer",className:"ct-support-resource",children:[l.jsx("span",{className:"ct-support-resource-title",children:"ComsignTrust Website"}),l.jsx("span",{className:"ct-support-resource-desc",children:"Learn more about our products and solutions"})]}),l.jsxs("a",{href:"/privacy-policy",className:"ct-support-resource",children:[l.jsx("span",{className:"ct-support-resource-title",children:"Privacy Policy"}),l.jsx("span",{className:"ct-support-resource-desc",children:"How we handle your data"})]})]})})]}),l.jsxs("div",{className:"ct-support-footer",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"ComsignTrust Ltd."})," - The Most Secured Digital Signature Solution"]}),l.jsxs("p",{className:"ct-support-copyright",children:[" ",new Date().getFullYear()," ComsignTrust Ltd. All Rights Reserved."]})]})]})]})})}async function H1(){const r=await fetch("/api/config");if(!r.ok)throw new Error("Failed to fetch configuration from server");return r.json()}function B1(r){return{auth:{clientId:r.entraId.clientId,authority:r.entraId.authority,redirectUri:r.entraId.redirectUri,postLogoutRedirectUri:r.entraId.postLogoutRedirectUri},cache:{cacheLocation:"sessionStorage"},system:{loggerOptions:{logLevel:0,loggerCallback:(t,i,s)=>{if(!s)switch(t){case 0:console.error("[MSAL]",i);break;case 1:console.warn("[MSAL]",i);break;case 2:console.info("[MSAL]",i);break;case 3:console.debug("[MSAL]",i);break}},piiLoggingEnabled:!1}}}}const K1={auth:{clientId:"5aa80cab-8812-4ea5-8052-2bf21e289e68",authority:"https://login.microsoftonline.com/common",redirectUri:typeof window<"u"?`${window.location.origin}/azure-landing`:"http://localhost:5173/azure-landing",postLogoutRedirectUri:"/"},cache:{cacheLocation:"sessionStorage"},system:{loggerOptions:{logLevel:0,loggerCallback:(r,t,i)=>{if(!i)switch(r){case 0:console.error("[MSAL]",t);break;case 1:console.warn("[MSAL]",t);break;case 2:console.info("[MSAL]",t);break;case 3:console.debug("[MSAL]",t);break}},piiLoggingEnabled:!1}}},F1={scopes:["User.Read","openid","profile","email"]},G1={graphMeEndpoint:"https://graph.microsoft.com/v1.0/me",graphMeOrgEndpoint:"https://graph.microsoft.com/v1.0/me?$select=displayName,givenName,surname,mail,jobTitle,companyName,mobilePhone,country,preferredLanguage"},q1={scopes:["User.Read"]};function V1(r){const t=r.idTokenClaims||{};return{objectId:t.oid||r.localAccountId,tenantId:t.tid||r.tenantId,preferredUsername:t.preferred_username||r.username,name:t.name||"",email:t.email||r.username,givenName:t.given_name,surname:t.family_name}}async function Y1(r){try{const t=await fetch(G1.graphMeOrgEndpoint,{headers:{Authorization:`Bearer ${r}`}});if(!t.ok)return console.warn("[EntraAuth] Graph API returned non-OK status:",t.status),{};const i=await t.json();return{displayName:i.displayName,givenName:i.givenName,surname:i.surname,email:i.mail||i.userPrincipalName,jobTitle:i.jobTitle,companyName:i.companyName,mobilePhone:i.mobilePhone,country:i.country,preferredLanguage:i.preferredLanguage}}catch(t){return console.warn("[EntraAuth] Failed to fetch Graph user info:",t),{}}}function Q1(){const{instance:r,accounts:t,inProgress:i}=NS(),s=pj(),[c,u]=_.useState(null),[h,m]=_.useState(null),[g,p]=_.useState(!1),v=t[0]||null,C=_.useCallback(async()=>{try{m(null),await r.loginRedirect(F1)}catch(N){console.error("[EntraAuth] Login failed:",N),m("Failed to sign in. Please try again.")}},[r]),S=_.useCallback(async()=>{try{await r.logoutRedirect({postLogoutRedirectUri:"/"})}catch(N){console.error("[EntraAuth] Logout failed:",N)}},[r]),x=_.useCallback(async()=>{if(v){p(!0),m(null);try{const N=V1(v);let j={};try{const H=await r.acquireTokenSilent({...q1,account:v});H.accessToken&&(j=await Y1(H.accessToken))}catch(H){H instanceof wn?console.info("[EntraAuth] Token acquisition requires interaction"):console.warn("[EntraAuth] Silent token acquisition failed:",H)}const F={objectId:N.objectId||"",tenantId:N.tenantId||"",preferredUsername:N.preferredUsername||"",name:j.displayName||N.name||"",email:j.email||N.email||N.preferredUsername||"",givenName:j.givenName||N.givenName,surname:j.surname||N.surname,displayName:j.displayName||N.name,jobTitle:j.jobTitle,companyName:j.companyName,mobilePhone:j.mobilePhone,country:j.country,preferredLanguage:j.preferredLanguage};u(F)}catch(N){console.error("[EntraAuth] Failed to refresh user info:",N),m("Failed to load user information.")}finally{p(!1)}}},[v,r]);_.useEffect(()=>{s&&v&&!c&&i===bt.None&&x()},[s,v,c,i,x]),_.useEffect(()=>{if(!s&&i===bt.None&&t.length===0){const N=setTimeout(()=>{},100);return()=>clearTimeout(N)}},[s,i,t.length]);const T=i!==bt.None||g;return{isAuthenticated:s,isLoading:T,userInfo:c,error:h,account:v,login:C,logout:S,refreshUserInfo:x}}function J1(){const[r]=KO(),t=r.get("token"),{isAuthenticated:i,isLoading:s,userInfo:c,error:u,login:h}=Q1(),[m,g]=_.useState("sign-in"),[p,v]=_.useState(null),[C,S]=_.useState(!1),[x,T]=_.useState(!1),[N,j]=_.useState(!1),[F,H]=_.useState(null),[M,$]=_.useState(null),[Q,ue]=_.useState([]),[q,ye]=_.useState(""),[Re,at]=_.useState(""),[lt,te]=_.useState(""),[Xe,We]=_.useState(""),[St,L]=_.useState(""),[J,ae]=_.useState(""),[Te,Ne]=_.useState(""),[A,B]=_.useState(""),[X,W]=_.useState(""),[de,ve]=_.useState(""),[fe,tt]=_.useState({}),[Fe,wi]=_.useState(""),[ei,Va]=_.useState(""),[ss,Kn]=_.useState(""),[xi,Ya]=_.useState(""),[Bt,ti]=_.useState({}),[Rn,ua]=_.useState([]),[Qa,Io]=_.useState(""),[os,ut]=_.useState();_.useEffect(()=>{i&&m==="sign-in"&&g("resolving")},[i,m]),_.useEffect(()=>{if(!i||m!=="resolving")return;if(!t){v("No token provided. Please access this page from Azure Marketplace.");return}(async()=>{try{S(!0);const ee=await co.resolveToken({token:t});H(ee);const ie=await co.getAvailableFeatures();ue(ie.map(xe=>({...xe,isEnabled:!1,quantity:xe.minQuantity}))),g("customer-info")}catch(ee){console.error("Failed to resolve token:",ee);let ie="Failed to resolve marketplace token.";if(ee&&typeof ee=="object"){const xe=ee;xe.response?.data?.error?ie=xe.response.data.error:xe.response?.data?.message?ie=xe.response.data.message:xe.message&&(ie=xe.message)}v(ie)}finally{S(!1)}})()},[i,m,t]),_.useEffect(()=>{if(c&&!N&&m==="customer-info"){if(c.displayName||c.name?ye(c.displayName||c.name):c.givenName&&c.surname&&ye(`${c.givenName} ${c.surname}`),c.email&&at(c.email),c.companyName&&te(c.companyName),c.mobilePhone&&We(c.mobilePhone),c.jobTitle&&L(c.jobTitle),c.country){const ee={"United States":"US",USA:"US",Israel:"IL","United Kingdom":"GB",UK:"GB",Germany:"DE",France:"FR",Canada:"CA",Australia:"AU"}[c.country];ee?ae(ee):(ae("XX"),Ne(c.country))}j(!0)}},[c,N,m]);const nu=V=>{const ee=/^(\d{1,3}\.){3}\d{1,3}$/,ie=/^(\d{1,3}\.){3}\d{1,3}\/\d{1,2}$/,xe=/^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$/,ni=/^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}\/\d{1,3}$/,Ut=V.trim();if(ee.test(Ut))return Ut.split(".").every(us=>{const ha=parseInt(us,10);return ha>=0&&ha<=255});if(ie.test(Ut)){const[Gn,us]=Ut.split("/"),ha=Gn.split("."),ds=parseInt(us,10);return ha.every(Do=>{const Wa=parseInt(Do,10);return Wa>=0&&Wa<=255})&&ds>=0&&ds<=32}return xe.test(Ut)||ni.test(Ut)},cs=()=>{const V=Qa.trim();if(!V){ut("Please enter an IP address");return}if(!nu(V)){ut("Please enter a valid IP address or CIDR range (e.g., 192.168.1.1 or 10.0.0.0/24)");return}if(Rn.includes(V)){ut("This IP address is already in the list");return}ua([...Rn,V]),Io(""),ut(void 0)},ko=V=>{ua(Rn.filter((ee,ie)=>ie!==V))},Ja=V=>{if(V.preventDefault(),!F)return;const ee=J||"XX";J||ae("XX");let ie=!0;const xe={};B(""),q.trim()?q.trim().length<2&&(xe.customerName="Full name must be at least 2 characters",ie=!1):(xe.customerName="Full name is required",ie=!1);const ni=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;Re.trim()?ni.test(Re.trim())||(xe.customerEmail="Please enter a valid email address",ie=!1):(xe.customerEmail="Email address is required",ie=!1),lt.trim()?lt.trim().length<2&&(xe.companyName="Company name must be at least 2 characters",ie=!1):(xe.companyName="Company name is required",ie=!1),Xe.trim()&&(/^[+]?[\d\s\-().]{7,20}$/.test(Xe.trim())||(xe.phoneNumber="Please enter a valid phone number (7-20 characters)",ie=!1)),tt(xe),ee==="XX"&&!Te.trim()?(W("Please specify your country"),ie=!1):W(""),ie&&g("technical-config")},iu=async V=>{if(V.preventDefault(),!F)return;let ee=!0;const ie={};Fe.trim()?/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(Fe.trim())||(ie.clientId="Please enter a valid GUID format (e.g., 12345678-1234-1234-1234-123456789abc)",ee=!1):(ie.clientId="Application (Client) ID is required",ee=!1),ei.trim()?ei.trim().length<10&&(ie.clientSecret="Client Secret appears too short. Please verify you copied the full value.",ee=!1):(ie.clientSecret="Client Secret is required",ee=!1);const xe=ss.trim()||c?.tenantId||"";if(xe?/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(xe)||(ie.tenantId="Please enter a valid GUID format (e.g., 12345678-1234-1234-1234-123456789abc)",ee=!1):(ie.tenantId="Directory (Tenant) ID is required",ee=!1),xi.trim()?/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(xi.trim())||(ie.adminGroupObjectId="Please enter a valid GUID format (e.g., 12345678-1234-1234-1234-123456789abc)",ee=!1):(ie.adminGroupObjectId="Admin Group Object ID is required",ee=!1),ti(ie),!ee)return;const ni=J||"XX";try{S(!0),v(null);const Ut=await co.submitCustomerInfo({marketplaceSubscriptionId:F.marketplaceSubscriptionId,customerName:q,customerEmail:Re,companyName:lt,phoneNumber:Xe,jobTitle:St,countryCode:ni,countryOther:ni==="XX"?Te:void 0,comments:de,entraClientId:Fe.trim(),entraClientSecret:ei.trim(),entraTenantId:xe,entraAdminGroupObjectId:xi.trim(),whitelistIps:Rn.filter(Gn=>Gn.trim())});$(Ut),g("feature-selection")}catch(Ut){console.error("Failed to submit technical configuration:",Ut),v("Failed to submit configuration. Please try again.")}finally{S(!1)}},Mo=V=>{ue(ee=>ee.map(ie=>ie.featureId===V?{...ie,isEnabled:!ie.isEnabled}:ie))},ls=(V,ee)=>{ue(ie=>ie.map(xe=>xe.featureId===V?{...xe,quantity:Math.max(xe.minQuantity,Math.min(xe.maxQuantity,ee))}:xe))},au=async()=>{if(!(!F||x||C))try{S(!0),v(null);const V=Q.filter(ie=>ie.isEnabled).map(ie=>({featureId:ie.featureId,featureName:ie.featureName,isEnabled:!0,quantity:ie.quantity,pricePerUnit:ie.pricePerUnit}));V.length>0&&await co.submitFeatureSelection({marketplaceSubscriptionId:F.marketplaceSubscriptionId,features:V});const ee=await co.finalizeSubscription({marketplaceSubscriptionId:F.marketplaceSubscriptionId});$(ee),T(!0),g("thank-you")}catch(V){console.error("Failed to finalize subscription:",V);let ee="Failed to finalize subscription. Please try again.";if(V&&typeof V=="object"){const ie=V;ie.response?.data?.error?ee=ie.response.data.error:ie.response?.data?.message?ee=ie.response.data.message:ie.message&&(ee=ie.message)}v(ee)}finally{S(!1)}},da=()=>Q.filter(V=>V.isEnabled).reduce((V,ee)=>V+ee.quantity*ee.pricePerUnit,0),Dt=()=>{switch(m){case"sign-in":return 1;case"resolving":return 2;case"customer-info":return 3;case"technical-config":return 4;case"feature-selection":return 5;case"thank-you":return 6;default:return 1}},Fn=()=>{const V=[{num:1,label:"Sign In"},{num:2,label:"Verify"},{num:3,label:"Details"},{num:4,label:"Setup"},{num:5,label:"Tokens"},{num:6,label:"Done"}],ee=Dt();return l.jsx("div",{className:"ct-wizard-steps",children:V.map((ie,xe)=>l.jsxs("div",{className:`ct-wizard-step ${ie.num<ee?"ct-wizard-step--completed":""} ${ie.num===ee?"ct-wizard-step--active":""}`,children:[l.jsx("div",{className:"ct-wizard-step__number",children:ie.num<ee?"":ie.num}),l.jsx("div",{className:"ct-wizard-step__label",children:ie.label}),xe<V.length-1&&l.jsx("div",{className:"ct-wizard-step__line"})]},ie.num))})},Rt=()=>l.jsx(Ye,{children:l.jsx(Qe,{children:l.jsxs("div",{className:"ct-sign-in",children:[l.jsx("div",{className:"ct-sign-in__icon",children:""}),l.jsx("h2",{children:"Sign in to Continue"}),l.jsx("p",{className:"ct-sign-in__message",children:"To complete your Azure Marketplace subscription setup, please sign in with your Microsoft account. This verifies your identity and allows us to securely configure your subscription."}),u&&l.jsxs("div",{className:"ct-sign-in__error",children:[l.jsx("span",{children:""})," ",u]}),!t&&l.jsxs("div",{className:"ct-sign-in__warning",children:[l.jsx("span",{children:""}),l.jsx("p",{children:"No marketplace token detected. Please access this page from Azure Marketplace."})]}),l.jsx("div",{className:"ct-sign-in__actions",children:l.jsx(Ae,{variant:"primary",size:"large",onClick:h,disabled:s||!t,children:s?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"ct-spinner ct-spinner--small"}),"Signing in..."]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"ct-sign-in__ms-icon",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"21",viewBox:"0 0 21 21",children:[l.jsx("rect",{x:"1",y:"1",width:"9",height:"9",fill:"#f25022"}),l.jsx("rect",{x:"11",y:"1",width:"9",height:"9",fill:"#7fba00"}),l.jsx("rect",{x:"1",y:"11",width:"9",height:"9",fill:"#00a4ef"}),l.jsx("rect",{x:"11",y:"11",width:"9",height:"9",fill:"#ffb900"})]})}),"Sign in with Microsoft"]})})}),l.jsxs("p",{className:"ct-sign-in__note",children:["By signing in, you agree to our"," ",l.jsx($t,{to:"/privacy-policy",target:"_blank",children:"Privacy Policy"}),"."]})]})})}),ru=()=>l.jsx(Ye,{children:l.jsx(Qe,{children:l.jsxs("div",{className:"ct-resolving",children:[l.jsx("div",{className:"ct-spinner ct-spinner--large"}),l.jsx("h2",{children:"Verifying your subscription..."}),l.jsx("p",{children:"Please wait while we verify your Azure Marketplace purchase."})]})})}),su=()=>l.jsxs(Ye,{children:[l.jsx(Mt,{children:l.jsx("h2",{children:"Tell us about yourself"})}),l.jsxs(Qe,{children:[c&&l.jsxs("div",{className:"ct-sso-info",children:[l.jsxs("div",{className:"ct-sso-info__header",children:[l.jsx("span",{className:"ct-sso-info__icon",children:""}),l.jsxs("span",{children:["Signed in as ",l.jsx("strong",{children:c.email||c.preferredUsername})]})]}),l.jsx("p",{className:"ct-sso-info__note",children:"Your information has been pre-filled from your Microsoft account. Please review and update if needed."})]}),F&&l.jsxs("div",{className:"ct-resolved-info",children:[l.jsxs("div",{className:"ct-resolved-info__item",children:[l.jsx("span",{className:"ct-resolved-info__label",children:"Subscription:"}),l.jsx("span",{className:"ct-resolved-info__value",children:F.subscriptionName})]}),l.jsxs("div",{className:"ct-resolved-info__item",children:[l.jsx("span",{className:"ct-resolved-info__label",children:"Plan:"}),l.jsx("span",{className:"ct-resolved-info__value",children:F.planId})]})]}),l.jsxs("form",{onSubmit:Ja,className:"ct-customer-form",children:[l.jsxs("div",{className:"ct-form-row",children:[l.jsxs("div",{className:"ct-input-group",children:[l.jsxs("label",{className:"ct-label--primary",children:["Full Name ",l.jsx("span",{className:"ct-required",children:"*"})]}),l.jsx("input",{type:"text",className:`ct-input--primary ${fe.customerName?"ct-input--error":""}`,value:q,onChange:V=>{ye(V.target.value),tt(ee=>({...ee,customerName:void 0}))},placeholder:"John Smith"}),fe.customerName&&l.jsx("div",{className:"ct-input-error",children:fe.customerName})]}),l.jsxs("div",{className:"ct-input-group",children:[l.jsxs("label",{className:"ct-label--primary",children:["Email Address ",l.jsx("span",{className:"ct-required",children:"*"})]}),l.jsx("input",{type:"email",className:`ct-input--primary ${fe.customerEmail?"ct-input--error":""}`,value:Re,onChange:V=>{at(V.target.value),tt(ee=>({...ee,customerEmail:void 0}))},placeholder:"john@company.com"}),fe.customerEmail&&l.jsx("div",{className:"ct-input-error",children:fe.customerEmail})]})]}),l.jsxs("div",{className:"ct-form-row",children:[l.jsxs("div",{className:"ct-input-group",children:[l.jsxs("label",{className:"ct-label--primary",children:["Company Name ",l.jsx("span",{className:"ct-required",children:"*"})]}),l.jsx("input",{type:"text",className:`ct-input--primary ${fe.companyName?"ct-input--error":""}`,value:lt,onChange:V=>{te(V.target.value),tt(ee=>({...ee,companyName:void 0}))},placeholder:"Acme Corporation"}),fe.companyName&&l.jsx("div",{className:"ct-input-error",children:fe.companyName})]}),l.jsxs("div",{className:"ct-input-group",children:[l.jsx("label",{className:"ct-label--primary",children:"Phone Number"}),l.jsx("input",{type:"tel",className:`ct-input--primary ${fe.phoneNumber?"ct-input--error":""}`,value:Xe,onChange:V=>{We(V.target.value),tt(ee=>({...ee,phoneNumber:void 0}))},placeholder:"+1 (555) 123-4567"}),fe.phoneNumber&&l.jsx("div",{className:"ct-input-error",children:fe.phoneNumber})]})]}),l.jsxs("div",{className:"ct-form-row",children:[l.jsxs("div",{className:"ct-input-group",children:[l.jsx("label",{className:"ct-label--primary",children:"Job Title"}),l.jsx("input",{type:"text",className:"ct-input--primary",value:St,onChange:V=>L(V.target.value),placeholder:"IT Manager"})]}),l.jsxs("div",{className:"ct-input-group",children:[l.jsxs("label",{className:"ct-label--primary",children:["Country ",l.jsx("span",{className:"ct-required",children:"*"})]}),l.jsx($O,{countryCode:J,countryOther:Te,onCountryCodeChange:ae,onCountryOtherChange:Ne,countryError:A,countryOtherError:X,onErrorClear:()=>{B(""),W("")}})]})]}),l.jsxs("div",{className:"ct-form-actions",children:[l.jsx(Ae,{type:"button",variant:"outline",size:"large",onClick:()=>{ye("Gal Cohen"),at("galc@comda.co.il"),te("Comda"),We("+972-50-123-4567"),L("Software Developer"),ae("IL"),Ne(""),B(""),W(""),tt({})},children:"Fill Test Data"}),l.jsx(Ae,{type:"submit",variant:"primary",size:"large",children:"Continue to Technical Setup"})]})]})]})]}),ou=()=>l.jsxs(Ye,{children:[l.jsx(Mt,{children:l.jsx("h2",{children:"Technical Setup"})}),l.jsx(Qe,{children:l.jsxs("form",{onSubmit:iu,className:"ct-customer-form",children:[l.jsxs("div",{className:"ct-entra-section",children:[l.jsxs("div",{className:"ct-entra-section__header",children:[l.jsx("h3",{children:"Microsoft Entra ID Configuration"}),l.jsx("p",{className:"ct-entra-section__description",children:"To integrate ComsignTrust CMS with your organization, we need your Microsoft Entra ID (formerly Azure AD) app registration details."}),l.jsx($t,{to:"/entra-id-guide",className:"ct-entra-section__guide-link",target:"_blank",children:" How to configure Entra ID? (Step-by-step guide)"})]}),l.jsxs("div",{className:"ct-entra-section__security-note",children:[l.jsx("span",{className:"ct-entra-section__security-icon",children:""}),l.jsxs("div",{children:[l.jsx("strong",{children:"Security Note:"})," Your credentials are transmitted securely over HTTPS and encrypted at rest."]})]}),l.jsxs("div",{className:"ct-form-row",children:[l.jsxs("div",{className:"ct-input-group",children:[l.jsxs("label",{className:"ct-label--primary",children:["Application (Client) ID ",l.jsx("span",{className:"ct-required",children:"*"})]}),l.jsx("input",{type:"text",className:`ct-input--primary ${Bt.clientId?"ct-input--error":""}`,value:Fe,onChange:V=>{wi(V.target.value),ti(ee=>({...ee,clientId:void 0}))},placeholder:"12345678-1234-1234-1234-123456789abc"}),l.jsx("span",{className:"ct-input-hint",children:`Found on the app's Overview page as "Application (client) ID"`}),Bt.clientId&&l.jsx("div",{className:"ct-input-error",children:Bt.clientId})]}),l.jsxs("div",{className:"ct-input-group",children:[l.jsxs("label",{className:"ct-label--primary",children:["Directory (Tenant) ID ",l.jsx("span",{className:"ct-required",children:"*"})]}),l.jsx("input",{type:"text",className:`ct-input--primary ${Bt.tenantId?"ct-input--error":""}`,value:ss||c?.tenantId||"",onChange:V=>{Kn(V.target.value),ti(ee=>({...ee,tenantId:void 0}))},placeholder:"87654321-4321-4321-4321-cba987654321"}),l.jsx("span",{className:"ct-input-hint",children:c?.tenantId?"Pre-filled from your sign-in. Change only if using a different tenant.":`Found on the app's Overview page as "Directory (tenant) ID"`}),Bt.tenantId&&l.jsx("div",{className:"ct-input-error",children:Bt.tenantId})]})]}),l.jsxs("div",{className:"ct-input-group",children:[l.jsxs("label",{className:"ct-label--primary",children:["Client Secret ",l.jsx("span",{className:"ct-required",children:"*"})]}),l.jsx("input",{type:"password",className:`ct-input--primary ${Bt.clientSecret?"ct-input--error":""}`,value:ei,onChange:V=>{Va(V.target.value),ti(ee=>({...ee,clientSecret:void 0}))},placeholder:"Enter your client secret value",autoComplete:"off"}),l.jsxs("span",{className:"ct-input-hint",children:['Found in "Certificates & secrets"  "Client secrets". Use the secret ',l.jsx("strong",{children:"Value"}),", not the Secret ID."]}),Bt.clientSecret&&l.jsx("div",{className:"ct-input-error",children:Bt.clientSecret})]}),l.jsxs("div",{className:"ct-input-group",children:[l.jsxs("label",{className:"ct-label--primary",children:["Admin Group Object ID ",l.jsx("span",{className:"ct-required",children:"*"})]}),l.jsx("input",{type:"text",className:`ct-input--primary ${Bt.adminGroupObjectId?"ct-input--error":""}`,value:xi,onChange:V=>{Ya(V.target.value),ti(ee=>({...ee,adminGroupObjectId:void 0}))},placeholder:"03ee4b1a-c976-4e08-9d06-753e12565943"}),l.jsx("span",{className:"ct-input-hint",children:'Object ID of the Azure AD group whose members will have admin access in CCMS. Found in "Groups"  select your admin group  "Object Id".'}),Bt.adminGroupObjectId&&l.jsx("div",{className:"ct-input-error",children:Bt.adminGroupObjectId})]})]}),l.jsxs("div",{className:"ct-whitelist-section",children:[l.jsxs("div",{className:"ct-whitelist-section__header",children:[l.jsx("h3",{children:"IP Whitelist (Optional)"}),l.jsx("p",{className:"ct-whitelist-section__description",children:"Add IP addresses or CIDR ranges to restrict access to your CCMS instance."})]}),l.jsxs("div",{className:"ct-whitelist-section__input-row",children:[l.jsx("input",{type:"text",className:`ct-input--primary ${os?"ct-input--error":""}`,value:Qa,onChange:V=>{Io(V.target.value),ut(void 0)},onKeyDown:V=>{V.key==="Enter"&&(V.preventDefault(),cs())},placeholder:"e.g., 192.168.1.1 or 10.0.0.0/24"}),l.jsx("button",{type:"button",className:"ct-whitelist-section__add-btn",onClick:cs,children:"Add"})]}),os&&l.jsx("div",{className:"ct-input-error",children:os}),Rn.length>0&&l.jsxs("div",{className:"ct-whitelist-section__list",children:[l.jsx("div",{className:"ct-whitelist-section__list-header",children:l.jsxs("label",{children:["Added IPs",l.jsx("span",{className:"ct-whitelist-section__count",children:Rn.length})]})}),l.jsx("ul",{className:"ct-whitelist-section__ip-list",children:Rn.map((V,ee)=>l.jsxs("li",{className:"ct-whitelist-section__ip-item",children:[l.jsx("span",{className:"ct-whitelist-section__ip-value",children:V}),l.jsx("button",{type:"button",className:"ct-whitelist-section__remove-btn",onClick:()=>ko(ee),title:"Remove",children:""})]},ee))})]})]}),l.jsxs("div",{className:"ct-input-group",children:[l.jsx("label",{className:"ct-label--primary",children:"Additional Comments"}),l.jsx("textarea",{className:"ct-input--primary ct-textarea",value:de,onChange:V=>ve(V.target.value),rows:3,placeholder:"Any special requirements or questions?"})]}),l.jsxs("div",{className:"ct-form-actions",children:[l.jsx(Ae,{type:"button",variant:"outline",size:"large",onClick:()=>g("customer-info"),children:"Back"}),l.jsx(Ae,{type:"button",variant:"outline",size:"large",onClick:()=>{wi("12345678-1234-1234-1234-123456789abc"),Va("demo-client-secret-value-12345"),Kn("87654321-4321-4321-4321-cba987654321"),Ya("03ee4b1a-c976-4e08-9d06-753e12565943"),ua(["192.168.1.0/24","10.0.0.1","172.16.0.0/16"]),ve("Demo submission for testing"),ti({}),ut(void 0)},children:"Fill Test Data"}),l.jsx(Ae,{type:"submit",variant:"primary",size:"large",disabled:C,children:C?"Saving...":"Continue to Token Selection"})]})]})})]}),Xa=()=>l.jsxs(Ye,{children:[l.jsx(Mt,{children:l.jsx("h2",{children:"Choose Your Tokens"})}),l.jsxs(Qe,{children:[l.jsx("p",{className:"ct-feature-intro",children:"Enable the credential types you need and specify the quantity of tokens you want to purchase. These will be added to your metered billing."}),l.jsx("div",{className:"ct-feature-list",children:Q.map(V=>l.jsxs("div",{className:`ct-feature-card ${V.isEnabled?"ct-feature-card--enabled":""}`,children:[l.jsxs("div",{className:"ct-feature-card__header",children:[l.jsxs("label",{className:"ct-feature-toggle",children:[l.jsx("input",{type:"checkbox",checked:V.isEnabled,onChange:()=>Mo(V.featureId)}),l.jsx("span",{className:"ct-feature-toggle__slider"})]}),l.jsxs("div",{className:"ct-feature-card__info",children:[l.jsx("h3",{children:V.featureName}),l.jsx("p",{children:V.description})]}),l.jsxs("div",{className:"ct-feature-card__price",children:["$",V.pricePerUnit.toFixed(2),l.jsx("span",{children:"/token"})]})]}),V.isEnabled&&l.jsxs("div",{className:"ct-feature-card__body",children:[l.jsxs("div",{className:"ct-quantity-selector",children:[l.jsx("label",{children:"Quantity:"}),l.jsxs("div",{className:"ct-quantity-input",children:[l.jsx("button",{type:"button",onClick:()=>ls(V.featureId,V.quantity-100),disabled:V.quantity<=V.minQuantity,children:"-"}),l.jsx("input",{type:"number",value:V.quantity,onChange:ee=>ls(V.featureId,parseInt(ee.target.value)||0),min:V.minQuantity,max:V.maxQuantity}),l.jsx("button",{type:"button",onClick:()=>ls(V.featureId,V.quantity+100),disabled:V.quantity>=V.maxQuantity,children:"+"})]}),l.jsxs("span",{className:"ct-quantity-range",children:["(",V.minQuantity.toLocaleString()," - ",V.maxQuantity.toLocaleString(),")"]})]}),l.jsxs("div",{className:"ct-feature-card__subtotal",children:["Subtotal: ",l.jsxs("strong",{children:["$",(V.quantity*V.pricePerUnit).toFixed(2)]})]})]})]},V.featureId))}),l.jsxs("div",{className:"ct-feature-summary",children:[l.jsxs("div",{className:"ct-feature-summary__total",children:[l.jsx("span",{children:"Estimated Monthly Total:"}),l.jsxs("strong",{children:["$",da().toFixed(2)]})]}),l.jsx("p",{className:"ct-feature-summary__note",children:"* Actual charges will be based on usage and billed through Azure Marketplace."})]}),l.jsxs("div",{className:"ct-form-actions",children:[l.jsx(Ae,{variant:"outline",size:"large",onClick:()=>g("technical-config"),disabled:C,children:"Back"}),l.jsx(Ae,{variant:"primary",size:"large",onClick:au,disabled:C,children:C?"Processing...":"Finish Setup"})]})]})]}),$a=()=>l.jsx(Ye,{children:l.jsx(Qe,{children:l.jsxs("div",{className:"ct-thank-you",children:[l.jsx("div",{className:"ct-thank-you__icon",children:""}),l.jsx("h1",{children:"Thank You for Subscribing!"}),l.jsx("p",{className:"ct-thank-you__message",children:"Your subscription request has been submitted successfully. Our team will review your information and contact you shortly to complete the setup."}),M&&l.jsxs("div",{className:"ct-thank-you__details",children:[l.jsx("h3",{children:"Subscription Details"}),l.jsxs("div",{className:"ct-thank-you__grid",children:[l.jsxs("div",{className:"ct-thank-you__item",children:[l.jsx("span",{className:"ct-thank-you__label",children:"Company"}),l.jsx("span",{className:"ct-thank-you__value",children:M.companyName})]}),l.jsxs("div",{className:"ct-thank-you__item",children:[l.jsx("span",{className:"ct-thank-you__label",children:"Contact"}),l.jsx("span",{className:"ct-thank-you__value",children:M.customerName})]}),l.jsxs("div",{className:"ct-thank-you__item",children:[l.jsx("span",{className:"ct-thank-you__label",children:"Email"}),l.jsx("span",{className:"ct-thank-you__value",children:M.customerEmail})]}),l.jsxs("div",{className:"ct-thank-you__item",children:[l.jsx("span",{className:"ct-thank-you__label",children:"Reference ID"}),l.jsx("span",{className:"ct-thank-you__value ct-thank-you__value--mono",children:M.azureSubscriptionId})]})]}),M.featureSelections.length>0&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:"Selected Features"}),l.jsx("div",{className:"ct-thank-you__features",children:M.featureSelections.map(V=>l.jsxs("div",{className:"ct-thank-you__feature",children:[l.jsx("span",{children:V.featureName}),l.jsxs("span",{children:[V.quantity.toLocaleString()," tokens"]})]},V.featureId))})]})]}),l.jsxs("div",{className:"ct-thank-you__next-steps",children:[l.jsx("h3",{children:"What happens next?"}),l.jsxs("ol",{children:[l.jsx("li",{children:"Our team will review your subscription request"}),l.jsx("li",{children:"You will receive a confirmation email within 24 hours"}),l.jsx("li",{children:"We will contact you to complete the technical setup"}),l.jsx("li",{children:"Once activated, you can start using your credentials"})]})]}),l.jsx("div",{className:"ct-thank-you__contact",children:l.jsxs("p",{children:["Questions? Contact us at"," ",l.jsx("a",{href:"mailto:support@comsigntrust.com",children:"support@comsigntrust.com"})]})})]})})}),Za=()=>{switch(m){case"sign-in":return Rt();case"resolving":return ru();case"customer-info":return su();case"technical-config":return ou();case"feature-selection":return Xa();case"thank-you":return $a();default:return Rt()}};return l.jsx(ot,{showSidebar:!1,children:l.jsxs("div",{className:"ct-azure-landing",children:[l.jsxs("div",{className:"ct-azure-landing__header",children:[l.jsx("img",{src:"/logo_medium.png",alt:"ComsignTrust",className:"ct-azure-landing__logo",onError:V=>{V.currentTarget.style.display="none"}}),l.jsx("h1",{children:"ComsignTrust CMS"}),l.jsx("p",{children:"Azure Marketplace Subscription Setup"})]}),m!=="thank-you"&&Fn(),p&&l.jsxs("div",{className:"ct-azure-landing__error",children:[l.jsx("span",{children:""}),l.jsx("p",{children:p}),l.jsx("button",{onClick:()=>v(null),children:""})]}),l.jsx("div",{className:"ct-azure-landing__content",children:Za()})]})})}function X1(){const[r,t]=_.useState([]),[i,s]=_.useState(!0),[c,u]=_.useState(null),[h,m]=_.useState(1),[g,p]=_.useState(1),[v,C]=_.useState(0),[S,x]=_.useState(null),[T,N]=_.useState(!1),j=async()=>{s(!0),u(null);try{const Q=await $C.getEvents(h,20);t(Q.data),p(Q.totalPages),C(Q.total)}catch(Q){u(Q instanceof Error?Q.message:"Failed to fetch webhook events")}finally{s(!1)}};_.useEffect(()=>{j()},[h]);const F=async()=>{try{await $C.clearEvents(),N(!1),m(1),j()}catch(Q){u(Q instanceof Error?Q.message:"Failed to clear events")}},H=Q=>new Date(Q).toLocaleString(),M=Q=>{navigator.clipboard.writeText(Q)},$=Q=>{try{return JSON.stringify(JSON.parse(Q),null,2)}catch{return Q}};return l.jsxs(ot,{children:[l.jsxs("div",{className:"ct-page-container",children:[l.jsxs("div",{className:"ct-admin-header",children:[l.jsx("h1",{className:"ct-admin-title",children:"Azure Webhook Events"}),l.jsx("span",{className:"ct-badge ct-badge--warning",children:"Development Only"})]}),l.jsx("p",{className:"ct-admin-description",children:"This page displays all webhook events received from Azure Marketplace. Use this to debug and verify webhook integration during development."}),l.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"1.5rem",alignItems:"center"},children:[l.jsx(Ae,{onClick:j,disabled:i,children:i?"Refreshing...":"Refresh"}),l.jsx(Ae,{variant:"outline",onClick:()=>N(!0),disabled:r.length===0,children:"Clear All Events"}),l.jsxs("span",{className:"ct-text-muted",children:["Total events: ",v]})]}),c&&l.jsx("div",{className:"ct-alert ct-alert--error",style:{marginBottom:"1rem"},children:c}),l.jsxs(Ye,{children:[l.jsx(Mt,{children:l.jsx("h3",{children:"Webhook Events"})}),l.jsx(Qe,{children:i&&r.length===0?l.jsx("div",{className:"ct-loading",children:"Loading events..."}):r.length===0?l.jsxs("div",{className:"ct-empty-state",children:[l.jsx("p",{children:"No webhook events received yet."}),l.jsx("p",{className:"ct-text-muted",style:{marginTop:"0.5rem"},children:"Events will appear here when Azure sends webhooks to your endpoint."})]}):l.jsxs(l.Fragment,{children:[l.jsxs("table",{className:"ct-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"ID"}),l.jsx("th",{children:"Action"}),l.jsx("th",{children:"Subscription ID"}),l.jsx("th",{children:"Plan ID"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Received At"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:r.map(Q=>l.jsxs("tr",{children:[l.jsx("td",{children:Q.id}),l.jsx("td",{children:l.jsx("span",{className:`ct-badge ct-badge--${Q.action?.toLowerCase()==="subscribe"?"success":Q.action?.toLowerCase()==="unsubscribe"?"error":Q.action?.toLowerCase()==="suspend"?"warning":"default"}`,children:Q.action||"-"})}),l.jsx("td",{children:l.jsx("code",{style:{fontSize:"0.75rem"},children:Q.subscriptionId?`${Q.subscriptionId.substring(0,8)}...`:"-"})}),l.jsx("td",{children:Q.planId||"-"}),l.jsx("td",{children:Q.status||"-"}),l.jsx("td",{children:H(Q.receivedAt)}),l.jsx("td",{children:l.jsx(Ae,{variant:"ghost",size:"small",onClick:()=>x(Q),children:"View Details"})})]},Q.id))})]}),g>1&&l.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"0.5rem",marginTop:"1rem"},children:[l.jsx(Ae,{variant:"outline",size:"small",onClick:()=>m(Q=>Math.max(1,Q-1)),disabled:h===1,children:"Previous"}),l.jsxs("span",{style:{display:"flex",alignItems:"center",padding:"0 1rem"},children:["Page ",h," of ",g]}),l.jsx(Ae,{variant:"outline",size:"small",onClick:()=>m(Q=>Math.min(g,Q+1)),disabled:h===g,children:"Next"})]})]})})]}),l.jsxs(Ye,{children:[l.jsx(Mt,{children:l.jsx("h3",{children:"Webhook Endpoint Configuration"})}),l.jsxs(Qe,{children:[l.jsx("p",{style:{marginBottom:"1rem"},children:"Configure this endpoint in Azure Partner Center  Technical Configuration  Connection Webhook:"}),l.jsxs("div",{style:{backgroundColor:"var(--ct-bg-tertiary)",padding:"1rem",borderRadius:"4px",fontFamily:"monospace",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("code",{children:["POST ",window.location.origin,"/api/webhook/azure"]}),l.jsx(Ae,{variant:"ghost",size:"small",onClick:()=>M(`${window.location.origin}/api/webhook/azure`),children:"Copy"})]})]})]})]}),S&&l.jsx(kl,{isOpen:!0,onClose:()=>x(null),title:`Webhook Event #${S.id}`,size:"large",children:l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[l.jsxs("div",{children:[l.jsx("h4",{style:{marginBottom:"0.5rem"},children:"Event Metadata"}),l.jsx("table",{className:"ct-table",children:l.jsxs("tbody",{children:[l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("strong",{children:"Action"})}),l.jsx("td",{children:S.action||"-"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("strong",{children:"Subscription ID"})}),l.jsxs("td",{children:[l.jsx("code",{children:S.subscriptionId||"-"}),S.subscriptionId&&l.jsx(Ae,{variant:"ghost",size:"small",onClick:()=>M(S.subscriptionId),style:{marginLeft:"0.5rem"},children:"Copy"})]})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("strong",{children:"Publisher ID"})}),l.jsx("td",{children:S.publisherId||"-"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("strong",{children:"Offer ID"})}),l.jsx("td",{children:S.offerId||"-"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("strong",{children:"Plan ID"})}),l.jsx("td",{children:S.planId||"-"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("strong",{children:"Operation ID"})}),l.jsx("td",{children:l.jsx("code",{children:S.operationId||"-"})})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("strong",{children:"Activity ID"})}),l.jsx("td",{children:l.jsx("code",{children:S.activityId||"-"})})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("strong",{children:"Status"})}),l.jsx("td",{children:S.status||"-"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("strong",{children:"Azure Timestamp"})}),l.jsx("td",{children:S.azureTimestamp?H(S.azureTimestamp):"-"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("strong",{children:"Received At"})}),l.jsx("td",{children:H(S.receivedAt)})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("strong",{children:"Source IP"})}),l.jsx("td",{children:S.sourceIp||"-"})]})]})})]}),l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[l.jsx("h4",{children:"Raw Payload"}),l.jsx(Ae,{variant:"ghost",size:"small",onClick:()=>M(S.rawPayload),children:"Copy JSON"})]}),l.jsx("pre",{style:{backgroundColor:"var(--ct-bg-tertiary)",padding:"1rem",borderRadius:"4px",overflow:"auto",maxHeight:"300px",fontSize:"0.75rem"},children:$(S.rawPayload)})]}),S.headers&&l.jsxs("div",{children:[l.jsx("h4",{style:{marginBottom:"0.5rem"},children:"Request Headers"}),l.jsx("pre",{style:{backgroundColor:"var(--ct-bg-tertiary)",padding:"1rem",borderRadius:"4px",overflow:"auto",maxHeight:"200px",fontSize:"0.75rem",whiteSpace:"pre-wrap",wordBreak:"break-all"},children:S.headers.split("; ").join(`
`)})]})]})}),l.jsxs(kl,{isOpen:T,onClose:()=>N(!1),title:"Clear All Events?",size:"small",children:[l.jsxs("p",{style:{marginBottom:"1.5rem"},children:["This will permanently delete all ",v," webhook events. This action cannot be undone."]}),l.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[l.jsx(Ae,{variant:"outline",onClick:()=>N(!1),children:"Cancel"}),l.jsx(Ae,{variant:"primary",onClick:F,children:"Clear All Events"})]})]})]})}function $1(){return l.jsx(ot,{children:l.jsxs("div",{className:"ct-entra-guide",children:[l.jsxs("div",{className:"ct-entra-guide__header",children:[l.jsx($t,{to:"/azure-landing",className:"ct-entra-guide__back-link",children:" Back to Subscription Setup"}),l.jsx("h1",{children:"CCMS Installation Tutorial on Azure"}),l.jsx("p",{className:"ct-entra-guide__subtitle",children:"Step 1 - App Registration in Microsoft Entra ID"})]}),l.jsxs("div",{className:"ct-entra-guide__content",children:[l.jsxs("section",{className:"ct-entra-guide__section",children:[l.jsx("h2",{children:"Objective"}),l.jsx("p",{children:"Create Azure App Registrations to enable secure identity and access management for the Comsign CCMS system via Microsoft Entra ID (Azure AD)."}),l.jsxs("div",{className:"ct-entra-guide__info-box",children:[l.jsx("div",{className:"ct-entra-guide__info-icon",children:""}),l.jsxs("div",{children:[l.jsx("strong",{children:"What you'll need:"}),l.jsxs("ul",{children:[l.jsx("li",{children:"Azure portal access with permissions to create App Registrations"}),l.jsx("li",{children:"Administrator or Application Administrator role in your organization"}),l.jsx("li",{children:"Your CCMS domain URL (e.g., https://your-ccms-domain)"})]})]})]})]}),l.jsxs("section",{className:"ct-entra-guide__section",children:[l.jsxs("div",{className:"ct-entra-guide__step-header",children:[l.jsx("span",{className:"ct-entra-guide__step-number",children:"1"}),l.jsx("h2",{children:"Log in to Azure Portal"})]}),l.jsxs("ol",{className:"ct-entra-guide__steps",children:[l.jsxs("li",{children:["Open"," ",l.jsx("a",{href:"https://portal.azure.com",target:"_blank",rel:"noopener noreferrer",className:"ct-entra-guide__link",children:"https://portal.azure.com"})]}),l.jsxs("li",{children:["In the left-hand menu, go to ",l.jsx("strong",{children:"Microsoft Entra ID"})]}),l.jsxs("li",{children:["Click on ",l.jsx("strong",{children:"App registrations"})]})]}),l.jsxs("div",{className:"ct-entra-guide__image-container",children:[l.jsx("img",{src:"/entra_id_tutorial/image1.png",alt:"Azure Portal - App registrations in Azure services",className:"ct-entra-guide__image"}),l.jsx("p",{className:"ct-entra-guide__image-caption",children:'Click on "App registrations" in Azure services'})]}),l.jsx("ol",{className:"ct-entra-guide__steps",start:4,children:l.jsxs("li",{children:["Click ",l.jsx("strong",{children:"+ New registration"})]})}),l.jsxs("div",{className:"ct-entra-guide__image-container",children:[l.jsx("img",{src:"/entra_id_tutorial/image2.png",alt:"App registrations page - New registration button",className:"ct-entra-guide__image"}),l.jsx("p",{className:"ct-entra-guide__image-caption",children:'Click "+ New registration" to create a new app'})]})]}),l.jsxs("section",{className:"ct-entra-guide__section",children:[l.jsxs("div",{className:"ct-entra-guide__step-header",children:[l.jsx("span",{className:"ct-entra-guide__step-number",children:"2"}),l.jsx("h2",{children:"Register the CCMS Web App"})]}),l.jsxs("ol",{className:"ct-entra-guide__steps",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Name:"})," Enter a name for your application",l.jsx("div",{className:"ct-entra-guide__code-block",children:"CCMS-App"})]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Supported account types:"})," Choose",l.jsx("div",{className:"ct-entra-guide__option-highlight",children:"Accounts in this organizational directory only (Single tenant)"})]})]}),l.jsxs("div",{className:"ct-entra-guide__image-container",children:[l.jsx("img",{src:"/entra_id_tutorial/image3.png",alt:"Register an application - Name and account types",className:"ct-entra-guide__image"}),l.jsx("p",{className:"ct-entra-guide__image-caption",children:'Enter the app name and select "Accounts in this organizational directory only"'})]}),l.jsx("ol",{className:"ct-entra-guide__steps",start:3,children:l.jsxs("li",{children:[l.jsx("strong",{children:"Redirect URI:"}),l.jsxs("ul",{children:[l.jsxs("li",{children:["Type: ",l.jsx("strong",{children:"Web"})]}),l.jsxs("li",{children:["URI: ",l.jsx("code",{children:"https://<your-ccms-domain>/login/callback"})]})]}),l.jsxs("div",{className:"ct-entra-guide__tip",children:[l.jsx("strong",{children:"Note:"})," Replace ",l.jsx("code",{children:"<your-ccms-domain>"})," with your actual CCMS URL."]})]})}),l.jsxs("div",{className:"ct-entra-guide__image-container",children:[l.jsx("img",{src:"/entra_id_tutorial/image4.png",alt:"Redirect URI configuration",className:"ct-entra-guide__image"}),l.jsx("p",{className:"ct-entra-guide__image-caption",children:"Configure the Redirect URI with your CCMS domain"})]}),l.jsx("ol",{className:"ct-entra-guide__steps",start:4,children:l.jsxs("li",{children:["Click ",l.jsx("strong",{children:"Register"})]})})]}),l.jsxs("section",{className:"ct-entra-guide__section",children:[l.jsxs("div",{className:"ct-entra-guide__step-header",children:[l.jsx("span",{className:"ct-entra-guide__step-number",children:"3"}),l.jsx("h2",{children:"Generate Client Secret"})]}),l.jsxs("ol",{className:"ct-entra-guide__steps",children:[l.jsxs("li",{children:["After registration, go to ",l.jsx("strong",{children:"Certificates & secrets"})," in the left sidebar"]}),l.jsxs("li",{children:["Click ",l.jsx("strong",{children:"+ New client secret"})]}),l.jsxs("li",{children:["Add a description (e.g., ",l.jsx("code",{children:"CCMS Web Secret"}),") and select an expiration period"]}),l.jsxs("li",{children:["Click ",l.jsx("strong",{children:"Add"})]})]}),l.jsxs("div",{className:"ct-entra-guide__image-container",children:[l.jsx("img",{src:"/entra_id_tutorial/image5.png",alt:"Certificates & secrets - New client secret",className:"ct-entra-guide__image"}),l.jsx("p",{className:"ct-entra-guide__image-caption",children:'Go to "Certificates & secrets" and click "+ New client secret"'})]}),l.jsxs("div",{className:"ct-entra-guide__warning-box",children:[l.jsx("div",{className:"ct-entra-guide__warning-icon",children:""}),l.jsxs("div",{children:[l.jsx("strong",{children:"Important:"})," Save the ",l.jsx("strong",{children:"Value"})," immediately  it will only be shown once! You'll need this value for your CCMS app settings. Make sure to copy the ",l.jsx("strong",{children:"Value"}),' column, not the "Secret ID".']})]}),l.jsx("div",{className:"ct-entra-guide__values-table",children:l.jsxs("div",{className:"ct-entra-guide__value-row ct-entra-guide__value-row--highlight",children:[l.jsxs("div",{className:"ct-entra-guide__value-label",children:[l.jsx("strong",{children:"Client Secret Value"}),l.jsx("span",{className:"ct-entra-guide__required-badge",children:"Required"})]}),l.jsx("div",{className:"ct-entra-guide__value-desc",children:"Copy and save this value securely - you won't be able to see it again after leaving this page."})]})})]}),l.jsxs("section",{className:"ct-entra-guide__section",children:[l.jsxs("div",{className:"ct-entra-guide__step-header",children:[l.jsx("span",{className:"ct-entra-guide__step-number",children:"4"}),l.jsx("h2",{children:"Configure API Permissions"})]}),l.jsxs("ol",{className:"ct-entra-guide__steps",children:[l.jsxs("li",{children:["Go to ",l.jsx("strong",{children:"API permissions"})," in the left sidebar"]}),l.jsxs("li",{children:["Click ",l.jsx("strong",{children:"Add a permission"}),"  ",l.jsx("strong",{children:"Microsoft Graph"})]}),l.jsx("li",{children:"Add the following permissions:"})]}),l.jsx("div",{className:"ct-entra-guide__permissions-table",children:l.jsxs("table",{children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Permission Name"}),l.jsx("th",{children:"Type"}),l.jsx("th",{children:"Description"})]})}),l.jsxs("tbody",{children:[l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("code",{children:"Group.Read.All"})}),l.jsx("td",{children:"Application"}),l.jsx("td",{children:"Read all groups"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("code",{children:"GroupMember.Read.All"})}),l.jsx("td",{children:"Application"}),l.jsx("td",{children:"Read all group memberships"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("code",{children:"User.Read.All"})}),l.jsx("td",{children:"Application"}),l.jsx("td",{children:"Read all users' full profiles"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("code",{children:"User.Read"})}),l.jsx("td",{children:"Delegated"}),l.jsx("td",{children:"Sign in and read user profile"})]})]})]})}),l.jsx("ol",{className:"ct-entra-guide__steps",start:4,children:l.jsxs("li",{children:["Click ",l.jsx("strong",{children:"Grant admin consent"})," to approve the permissions for your organization"]})}),l.jsxs("div",{className:"ct-entra-guide__image-container",children:[l.jsx("img",{src:"/entra_id_tutorial/image6.png",alt:"API permissions configured",className:"ct-entra-guide__image"}),l.jsx("p",{className:"ct-entra-guide__image-caption",children:"API permissions configured with admin consent granted"})]}),l.jsxs("div",{className:"ct-entra-guide__tip",children:[l.jsx("strong",{children:"Tip:"}),' After granting consent, you should see a green checkmark next to each permission indicating "Granted for [your organization]".']})]}),l.jsxs("section",{className:"ct-entra-guide__section",children:[l.jsxs("div",{className:"ct-entra-guide__step-header",children:[l.jsx("span",{className:"ct-entra-guide__step-number",children:"5"}),l.jsx("h2",{children:"Add Optional Claim for Group Information"})]}),l.jsx("p",{children:"To allow CCMS to receive group claims in the token, configure the application to include the groups claim."}),l.jsxs("ol",{className:"ct-entra-guide__steps",children:[l.jsxs("li",{children:["In your App Registration, go to ",l.jsx("strong",{children:"Token configuration"})]}),l.jsxs("li",{children:["Click ",l.jsx("strong",{children:"+ Add groups claim"})]})]}),l.jsxs("div",{className:"ct-entra-guide__image-container",children:[l.jsx("img",{src:"/entra_id_tutorial/image7.png",alt:"Token configuration - Add groups claim",className:"ct-entra-guide__image"}),l.jsx("p",{className:"ct-entra-guide__image-caption",children:'Click "+ Add groups claim" in Token configuration'})]}),l.jsxs("ol",{className:"ct-entra-guide__steps",start:3,children:[l.jsxs("li",{children:["In the popup:",l.jsxs("ul",{children:[l.jsxs("li",{children:["Choose ",l.jsx("strong",{children:"Security groups"})," (default is fine)"]}),l.jsxs("li",{children:["Under ",l.jsx("strong",{children:"Token types"}),", check all relevant:",l.jsxs("ul",{children:[l.jsx("li",{children:" ID"}),l.jsx("li",{children:" Access"}),l.jsx("li",{children:" SAML"})]})]}),l.jsx("li",{children:"Leave the optional settings as Default"})]})]}),l.jsxs("li",{children:["Click ",l.jsx("strong",{children:"Add"})]})]})]}),l.jsxs("section",{className:"ct-entra-guide__section",children:[l.jsxs("div",{className:"ct-entra-guide__step-header",children:[l.jsx("span",{className:"ct-entra-guide__step-number",children:"6"}),l.jsx("h2",{children:"Expose an API (Create Scope for Login)"})]}),l.jsx("p",{children:"To allow other apps (like the CCMS client or backend) to request tokens to access your CCMS application, you need to expose an API and define scopes."}),l.jsxs("ol",{className:"ct-entra-guide__steps",children:[l.jsxs("li",{children:["In the App Registration, go to ",l.jsx("strong",{children:"Expose an API"})]}),l.jsxs("li",{children:["Set the ",l.jsx("strong",{children:"Application ID URI"})," if it's not already set (you'll see a default like ",l.jsx("code",{children:"api://<app-guid>"}),")"]}),l.jsxs("li",{children:["Click ",l.jsx("strong",{children:"+ Add a scope"})]})]}),l.jsxs("div",{className:"ct-entra-guide__image-container",children:[l.jsx("img",{src:"/entra_id_tutorial/image8.png",alt:"Expose an API - Add a scope",className:"ct-entra-guide__image"}),l.jsx("p",{className:"ct-entra-guide__image-caption",children:'Click "+ Add a scope" to create the login scope'})]}),l.jsxs("ol",{className:"ct-entra-guide__steps",start:4,children:[l.jsxs("li",{children:["In the ",l.jsx("strong",{children:"Add a scope"})," dialog, enter:",l.jsxs("div",{className:"ct-entra-guide__scope-config",children:[l.jsxs("div",{className:"ct-entra-guide__config-item",children:[l.jsx("span",{className:"ct-entra-guide__config-label",children:"Scope name:"}),l.jsx("code",{children:"login"})]}),l.jsxs("div",{className:"ct-entra-guide__config-item",children:[l.jsx("span",{className:"ct-entra-guide__config-label",children:"Who can consent:"}),l.jsx("span",{children:"Admins and users"})]}),l.jsxs("div",{className:"ct-entra-guide__config-item",children:[l.jsx("span",{className:"ct-entra-guide__config-label",children:"Admin consent display name:"}),l.jsx("span",{children:"Login"})]}),l.jsxs("div",{className:"ct-entra-guide__config-item",children:[l.jsx("span",{className:"ct-entra-guide__config-label",children:"Admin consent description:"}),l.jsx("span",{children:"Allow client applications to authenticate and login to CCMS."})]}),l.jsxs("div",{className:"ct-entra-guide__config-item",children:[l.jsx("span",{className:"ct-entra-guide__config-label",children:"User consent display name:"}),l.jsx("span",{children:"Login"})]}),l.jsxs("div",{className:"ct-entra-guide__config-item",children:[l.jsx("span",{className:"ct-entra-guide__config-label",children:"User consent description:"}),l.jsx("span",{children:"Login to CCMS system."})]}),l.jsxs("div",{className:"ct-entra-guide__config-item",children:[l.jsx("span",{className:"ct-entra-guide__config-label",children:"State:"}),l.jsx("span",{children:"Enabled"})]})]})]}),l.jsxs("li",{children:["Click ",l.jsx("strong",{children:"Add scope"})]})]}),l.jsx("div",{className:"ct-entra-guide__tip",children:'Once added, it will appear under "Scopes defined by this API".'})]}),l.jsxs("section",{className:"ct-entra-guide__section",children:[l.jsxs("div",{className:"ct-entra-guide__step-header",children:[l.jsx("span",{className:"ct-entra-guide__step-number",children:"7"}),l.jsx("h2",{children:"Enable Redirect URI for Native Client (Desktop/Mobile)"})]}),l.jsx("h3",{className:"ct-entra-guide__subsection-title",children:"A. Enable Native Client Redirect URI"}),l.jsx("p",{children:"This step is required to allow desktop or mobile CCMS clients to authenticate users through Microsoft Entra ID using the MSAL authentication library."}),l.jsxs("ol",{className:"ct-entra-guide__steps",children:[l.jsxs("li",{children:["In your App Registration, go to ",l.jsx("strong",{children:"Authentication"})]}),l.jsxs("li",{children:["Scroll to the section titled ",l.jsx("strong",{children:"Mobile and desktop applications"})]}),l.jsxs("li",{children:["Ensure the following URI is added and checked:",l.jsx("div",{className:"ct-entra-guide__code-block",children:"https://login.microsoftonline.com/common/oauth2/nativeclient"})]})]}),l.jsxs("div",{className:"ct-entra-guide__image-container",children:[l.jsx("img",{src:"/entra_id_tutorial/image9.png",alt:"Authentication - Mobile and desktop applications",className:"ct-entra-guide__image"}),l.jsx("p",{className:"ct-entra-guide__image-caption",children:"Enable the native client redirect URI for MSAL"})]}),l.jsxs("div",{className:"ct-entra-guide__info-box",children:[l.jsx("div",{className:"ct-entra-guide__info-icon",children:""}),l.jsx("div",{children:"This URI must be checked to allow token responses to desktop clients using MSAL."})]}),l.jsx("h3",{className:"ct-entra-guide__subsection-title",children:"B. Set Front-Channel Logout URL"}),l.jsx("p",{children:"To support single sign-out (SSO logout), configure a Front-channel logout URL:"}),l.jsxs("ol",{className:"ct-entra-guide__steps",children:[l.jsxs("li",{children:["Still in the ",l.jsx("strong",{children:"Authentication"})," section, scroll to ",l.jsx("strong",{children:"Front-channel logout URL"})]}),l.jsxs("li",{children:["Enter the logout endpoint used by your CCMS app:",l.jsx("div",{className:"ct-entra-guide__code-block",children:"https://<your-ccms-domain>/logout"})]})]}),l.jsxs("div",{className:"ct-entra-guide__image-container",children:[l.jsx("img",{src:"/entra_id_tutorial/image10.png",alt:"Authentication - Front-channel logout URL",className:"ct-entra-guide__image"}),l.jsx("p",{className:"ct-entra-guide__image-caption",children:"Configure the Front-channel logout URL"})]}),l.jsxs("div",{className:"ct-entra-guide__info-box",children:[l.jsx("div",{className:"ct-entra-guide__info-icon",children:""}),l.jsxs("div",{children:[l.jsx("strong",{children:"Requirements for this URL:"}),l.jsxs("ul",{children:[l.jsx("li",{children:"Must match your CCMS application base address"}),l.jsx("li",{children:"Must accept GET requests to terminate sessions"})]}),"This ensures that when a user signs out of Azure AD, the CCMS app will also be notified to clear the user's session locally."]})]})]}),l.jsxs("section",{className:"ct-entra-guide__section ct-entra-guide__section--summary",children:[l.jsx("h2",{children:"Summary: Values Needed for CCMS Setup"}),l.jsxs("p",{children:["After completing the steps above, you should have the following values from the ",l.jsx("strong",{children:"Overview"})," page:"]}),l.jsxs("div",{className:"ct-entra-guide__summary-table",children:[l.jsxs("div",{className:"ct-entra-guide__summary-row",children:[l.jsx("div",{className:"ct-entra-guide__summary-field",children:"Application (Client) ID"}),l.jsx("div",{className:"ct-entra-guide__summary-location",children:"App Registration  Overview"})]}),l.jsxs("div",{className:"ct-entra-guide__summary-row",children:[l.jsx("div",{className:"ct-entra-guide__summary-field",children:"Directory (Tenant) ID"}),l.jsx("div",{className:"ct-entra-guide__summary-location",children:"App Registration  Overview"})]}),l.jsxs("div",{className:"ct-entra-guide__summary-row",children:[l.jsx("div",{className:"ct-entra-guide__summary-field",children:"Client Secret Value"}),l.jsx("div",{className:"ct-entra-guide__summary-location",children:"App Registration  Certificates & secrets"})]})]}),l.jsx("div",{className:"ct-entra-guide__cta",children:l.jsx($t,{to:"/azure-landing",className:"ct-entra-guide__cta-button",children:" Return to Subscription Setup"})})]}),l.jsxs("section",{className:"ct-entra-guide__section",children:[l.jsx("h2",{children:"Troubleshooting"}),l.jsxs("div",{className:"ct-entra-guide__faq",children:[l.jsxs("div",{className:"ct-entra-guide__faq-item",children:[l.jsx("h3",{children:"I don't have permission to create App Registrations"}),l.jsx("p",{children:'Contact your Azure administrator or IT department. They may need to grant you the "Application Developer" role or create the app registration on your behalf.'})]}),l.jsxs("div",{className:"ct-entra-guide__faq-item",children:[l.jsx("h3",{children:"I lost my client secret value"}),l.jsx("p",{children:"Client secret values can only be viewed once when created. You'll need to create a new client secret and update your CCMS configuration with the new value."})]}),l.jsxs("div",{className:"ct-entra-guide__faq-item",children:[l.jsx("h3",{children:"My client secret expired"}),l.jsx("p",{children:"Create a new client secret following Step 3 above, then update your CCMS configuration with the new secret value."})]}),l.jsxs("div",{className:"ct-entra-guide__faq-item",children:[l.jsx("h3",{children:"Admin consent is not available"}),l.jsx("p",{children:"You may need Global Administrator or Privileged Role Administrator permissions to grant admin consent. Contact your Azure AD administrator."})]})]})]}),l.jsxs("section",{className:"ct-entra-guide__section ct-entra-guide__contact",children:[l.jsx("h2",{children:"Need Help?"}),l.jsx("p",{children:"If you encounter any issues during the configuration process, our support team is here to help."}),l.jsxs("div",{className:"ct-entra-guide__contact-info",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Email:"})," ",l.jsx("a",{href:"mailto:support@comsigntrust.com",children:"support@comsigntrust.com"})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Phone:"})," +972-3-6485255"]})]})]})]})]})})}function Z1(){return l.jsx(PO,{children:l.jsxs(fO,{children:[l.jsx(Sn,{path:"/",element:l.jsx(ZO,{})}),l.jsx(Sn,{path:"/pricing",element:l.jsx(k1,{})}),l.jsx(Sn,{path:"/subscription-success/:id",element:l.jsx(M1,{})}),l.jsx(Sn,{path:"/dashboard/:id",element:l.jsx(D1,{})}),l.jsx(Sn,{path:"/dashboard/:id/history",element:l.jsx(U1,{})}),l.jsx(Sn,{path:"/admin",element:l.jsx(L1,{})}),l.jsx(Sn,{path:"/privacy-policy",element:l.jsx(P1,{})}),l.jsx(Sn,{path:"/support",element:l.jsx(z1,{})}),l.jsx(Sn,{path:"/azure-landing",element:l.jsx(J1,{})}),l.jsx(Sn,{path:"/azure-webhooks",element:l.jsx(X1,{})}),l.jsx(Sn,{path:"/entra-id-guide",element:l.jsx($1,{})})]})})}document.documentElement.dir="ltr";document.documentElement.lang="en";async function W1(){let r=K1;try{const i=await H1();r=B1(i),console.info("[App] Loaded configuration from server")}catch(i){console.warn("[App] Failed to load server config, using defaults:",i)}const t=new cj(r);await t.initialize();try{const i=await t.handleRedirectPromise();i&&t.setActiveAccount(i.account)}catch(i){console.error("[MSAL] Redirect error:",i)}t.addEventCallback(i=>{if(i.eventType===oe.LOGIN_SUCCESS&&i.payload){const s=i.payload;s.account&&t.setActiveAccount(s.account)}}),ZC.createRoot(document.getElementById("root")).render(l.jsx(_.StrictMode,{children:l.jsx(mj,{instance:t,children:l.jsx(Z1,{})})}))}W1().catch(r=>{console.error("[App] Failed to initialize:",r),ZC.createRoot(document.getElementById("root")).render(l.jsxs("div",{style:{padding:"20px",textAlign:"center"},children:[l.jsx("h1",{children:"Application Error"}),l.jsx("p",{children:"Failed to initialize the application. Please refresh the page or contact support."})]}))});
