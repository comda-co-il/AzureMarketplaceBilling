(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))s(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function i(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(c){if(c.ep)return;c.ep=!0;const u=i(c);fetch(c.href,u)}})();function MA(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var uh={exports:{}},Fs={};var gv;function DA(){if(gv)return Fs;gv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,c,u){var h=null;if(u!==void 0&&(h=""+u),c.key!==void 0&&(h=""+c.key),"key"in c){u={};for(var m in c)m!=="key"&&(u[m]=c[m])}else u=c;return c=u.ref,{$$typeof:r,type:s,key:h,ref:c!==void 0?c:null,props:u}}return Fs.Fragment=t,Fs.jsx=i,Fs.jsxs=i,Fs}var pv;function UA(){return pv||(pv=1,uh.exports=DA()),uh.exports}var l=UA(),dh={exports:{}},he={};var yv;function LA(){if(yv)return he;yv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),b=Symbol.iterator;function x(A){return A===null||typeof A!="object"?null:(A=b&&A[b]||A["@@iterator"],typeof A=="function"?A:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,j={};function F(A,B,J){this.props=A,this.context=B,this.refs=j,this.updater=J||T}F.prototype.isReactComponent={},F.prototype.setState=function(A,B){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,B,"setState")},F.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function H(){}H.prototype=F.prototype;function M(A,B,J){this.props=A,this.context=B,this.refs=j,this.updater=J||T}var X=M.prototype=new H;X.constructor=M,N(X,F.prototype),X.isPureReactComponent=!0;var Y=Array.isArray;function le(){}var q={H:null,A:null,T:null,S:null},ye=Object.prototype.hasOwnProperty;function Ne(A,B,J){var W=J.ref;return{$$typeof:r,type:A,key:B,ref:W!==void 0?W:null,props:J}}function at(A,B){return Ne(A.type,B,A.props)}function lt(A){return typeof A=="object"&&A!==null&&A.$$typeof===r}function ee(A){var B={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(J){return B[J]})}var Qe=/\/+/g;function We(A,B){return typeof A=="object"&&A!==null&&A.key!=null?ee(""+A.key):B.toString(36)}function St(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(le,le):(A.status="pending",A.then(function(B){A.status==="pending"&&(A.status="fulfilled",A.value=B)},function(B){A.status==="pending"&&(A.status="rejected",A.reason=B)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function L(A,B,J,W,de){var ve=typeof A;(ve==="undefined"||ve==="boolean")&&(A=null);var fe=!1;if(A===null)fe=!0;else switch(ve){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(A.$$typeof){case r:case t:fe=!0;break;case v:return fe=A._init,L(fe(A._payload),B,J,W,de)}}if(fe)return de=de(A),fe=W===""?"."+We(A,0):W,Y(de)?(J="",fe!=null&&(J=fe.replace(Qe,"$&/")+"/"),L(de,B,J,"",function(_i){return _i})):de!=null&&(lt(de)&&(de=at(de,J+(de.key==null||A&&A.key===de.key?"":(""+de.key).replace(Qe,"$&/")+"/")+fe)),B.push(de)),1;fe=0;var tt=W===""?".":W+":";if(Y(A))for(var Fe=0;Fe<A.length;Fe++)W=A[Fe],ve=tt+We(W,Fe),fe+=L(W,B,J,ve,de);else if(Fe=x(A),typeof Fe=="function")for(A=Fe.call(A),Fe=0;!(W=A.next()).done;)W=W.value,ve=tt+We(W,Fe++),fe+=L(W,B,J,ve,de);else if(ve==="object"){if(typeof A.then=="function")return L(St(A),B,J,W,de);throw B=String(A),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return fe}function Q(A,B,J){if(A==null)return A;var W=[],de=0;return L(A,W,"","",function(ve){return B.call(J,ve,de++)}),W}function ne(A){if(A._status===-1){var B=A._result;B=B(),B.then(function(J){(A._status===0||A._status===-1)&&(A._status=1,A._result=J)},function(J){(A._status===0||A._status===-1)&&(A._status=2,A._result=J)}),A._status===-1&&(A._status=0,A._result=B)}if(A._status===1)return A._result.default;throw A._result}var Ae=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},we={map:Q,forEach:function(A,B,J){Q(A,function(){B.apply(this,arguments)},J)},count:function(A){var B=0;return Q(A,function(){B++}),B},toArray:function(A){return Q(A,function(B){return B})||[]},only:function(A){if(!lt(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return he.Activity=C,he.Children=we,he.Component=F,he.Fragment=i,he.Profiler=c,he.PureComponent=M,he.StrictMode=s,he.Suspense=p,he.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,he.__COMPILER_RUNTIME={__proto__:null,c:function(A){return q.H.useMemoCache(A)}},he.cache=function(A){return function(){return A.apply(null,arguments)}},he.cacheSignal=function(){return null},he.cloneElement=function(A,B,J){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var W=N({},A.props),de=A.key;if(B!=null)for(ve in B.key!==void 0&&(de=""+B.key),B)!ye.call(B,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&B.ref===void 0||(W[ve]=B[ve]);var ve=arguments.length-2;if(ve===1)W.children=J;else if(1<ve){for(var fe=Array(ve),tt=0;tt<ve;tt++)fe[tt]=arguments[tt+2];W.children=fe}return Ne(A.type,de,W)},he.createContext=function(A){return A={$$typeof:h,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:u,_context:A},A},he.createElement=function(A,B,J){var W,de={},ve=null;if(B!=null)for(W in B.key!==void 0&&(ve=""+B.key),B)ye.call(B,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(de[W]=B[W]);var fe=arguments.length-2;if(fe===1)de.children=J;else if(1<fe){for(var tt=Array(fe),Fe=0;Fe<fe;Fe++)tt[Fe]=arguments[Fe+2];de.children=tt}if(A&&A.defaultProps)for(W in fe=A.defaultProps,fe)de[W]===void 0&&(de[W]=fe[W]);return Ne(A,ve,de)},he.createRef=function(){return{current:null}},he.forwardRef=function(A){return{$$typeof:m,render:A}},he.isValidElement=lt,he.lazy=function(A){return{$$typeof:v,_payload:{_status:-1,_result:A},_init:ne}},he.memo=function(A,B){return{$$typeof:g,type:A,compare:B===void 0?null:B}},he.startTransition=function(A){var B=q.T,J={};q.T=J;try{var W=A(),de=q.S;de!==null&&de(J,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(le,Ae)}catch(ve){Ae(ve)}finally{B!==null&&J.types!==null&&(B.types=J.types),q.T=B}},he.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},he.use=function(A){return q.H.use(A)},he.useActionState=function(A,B,J){return q.H.useActionState(A,B,J)},he.useCallback=function(A,B){return q.H.useCallback(A,B)},he.useContext=function(A){return q.H.useContext(A)},he.useDebugValue=function(){},he.useDeferredValue=function(A,B){return q.H.useDeferredValue(A,B)},he.useEffect=function(A,B){return q.H.useEffect(A,B)},he.useEffectEvent=function(A){return q.H.useEffectEvent(A)},he.useId=function(){return q.H.useId()},he.useImperativeHandle=function(A,B,J){return q.H.useImperativeHandle(A,B,J)},he.useInsertionEffect=function(A,B){return q.H.useInsertionEffect(A,B)},he.useLayoutEffect=function(A,B){return q.H.useLayoutEffect(A,B)},he.useMemo=function(A,B){return q.H.useMemo(A,B)},he.useOptimistic=function(A,B){return q.H.useOptimistic(A,B)},he.useReducer=function(A,B,J){return q.H.useReducer(A,B,J)},he.useRef=function(A){return q.H.useRef(A)},he.useState=function(A){return q.H.useState(A)},he.useSyncExternalStore=function(A,B,J){return q.H.useSyncExternalStore(A,B,J)},he.useTransition=function(){return q.H.useTransition()},he.version="19.2.3",he}var vv;function nf(){return vv||(vv=1,dh.exports=LA()),dh.exports}var E=nf();const PA=MA(E);var hh={exports:{}},Gs={},fh={exports:{}},mh={};var Cv;function zA(){return Cv||(Cv=1,(function(r){function t(L,Q){var ne=L.length;L.push(Q);e:for(;0<ne;){var Ae=ne-1>>>1,we=L[Ae];if(0<c(we,Q))L[Ae]=Q,L[ne]=we,ne=Ae;else break e}}function i(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var Q=L[0],ne=L.pop();if(ne!==Q){L[0]=ne;e:for(var Ae=0,we=L.length,A=we>>>1;Ae<A;){var B=2*(Ae+1)-1,J=L[B],W=B+1,de=L[W];if(0>c(J,ne))W<we&&0>c(de,J)?(L[Ae]=de,L[W]=ne,Ae=W):(L[Ae]=J,L[B]=ne,Ae=B);else if(W<we&&0>c(de,ne))L[Ae]=de,L[W]=ne,Ae=W;else break e}}return Q}function c(L,Q){var ne=L.sortIndex-Q.sortIndex;return ne!==0?ne:L.id-Q.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var p=[],g=[],v=1,C=null,b=3,x=!1,T=!1,N=!1,j=!1,F=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function X(L){for(var Q=i(g);Q!==null;){if(Q.callback===null)s(g);else if(Q.startTime<=L)s(g),Q.sortIndex=Q.expirationTime,t(p,Q);else break;Q=i(g)}}function Y(L){if(N=!1,X(L),!T)if(i(p)!==null)T=!0,le||(le=!0,ee());else{var Q=i(g);Q!==null&&St(Y,Q.startTime-L)}}var le=!1,q=-1,ye=5,Ne=-1;function at(){return j?!0:!(r.unstable_now()-Ne<ye)}function lt(){if(j=!1,le){var L=r.unstable_now();Ne=L;var Q=!0;try{e:{T=!1,N&&(N=!1,H(q),q=-1),x=!0;var ne=b;try{t:{for(X(L),C=i(p);C!==null&&!(C.expirationTime>L&&at());){var Ae=C.callback;if(typeof Ae=="function"){C.callback=null,b=C.priorityLevel;var we=Ae(C.expirationTime<=L);if(L=r.unstable_now(),typeof we=="function"){C.callback=we,X(L),Q=!0;break t}C===i(p)&&s(p),X(L)}else s(p);C=i(p)}if(C!==null)Q=!0;else{var A=i(g);A!==null&&St(Y,A.startTime-L),Q=!1}}break e}finally{C=null,b=ne,x=!1}Q=void 0}}finally{Q?ee():le=!1}}}var ee;if(typeof M=="function")ee=function(){M(lt)};else if(typeof MessageChannel<"u"){var Qe=new MessageChannel,We=Qe.port2;Qe.port1.onmessage=lt,ee=function(){We.postMessage(null)}}else ee=function(){F(lt,0)};function St(L,Q){q=F(function(){L(r.unstable_now())},Q)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(L){L.callback=null},r.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ye=0<L?Math.floor(1e3/L):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(L){switch(b){case 1:case 2:case 3:var Q=3;break;default:Q=b}var ne=b;b=Q;try{return L()}finally{b=ne}},r.unstable_requestPaint=function(){j=!0},r.unstable_runWithPriority=function(L,Q){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var ne=b;b=L;try{return Q()}finally{b=ne}},r.unstable_scheduleCallback=function(L,Q,ne){var Ae=r.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?Ae+ne:Ae):ne=Ae,L){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=ne+we,L={id:v++,callback:Q,priorityLevel:L,startTime:ne,expirationTime:we,sortIndex:-1},ne>Ae?(L.sortIndex=ne,t(g,L),i(p)===null&&L===i(g)&&(N?(H(q),q=-1):N=!0,St(Y,ne-Ae))):(L.sortIndex=we,t(p,L),T||x||(T=!0,le||(le=!0,ee()))),L},r.unstable_shouldYield=at,r.unstable_wrapCallback=function(L){var Q=b;return function(){var ne=b;b=Q;try{return L.apply(this,arguments)}finally{b=ne}}}})(mh)),mh}var Sv;function HA(){return Sv||(Sv=1,fh.exports=zA()),fh.exports}var gh={exports:{}},Ot={};var bv;function BA(){if(bv)return Ot;bv=1;var r=nf();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},c=Symbol.for("react.portal");function u(p,g,v){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:C==null?null:""+C,children:p,containerInfo:g,implementation:v}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ot.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,v)},Ot.flushSync=function(p){var g=h.T,v=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=v,s.d.f()}},Ot.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Ot.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ot.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,C=m(v,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:C,integrity:b,fetchPriority:x}):v==="script"&&s.d.X(p,{crossOrigin:C,integrity:b,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ot.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Ot.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,C=m(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:C,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ot.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Ot.requestFormReset=function(p){s.d.r(p)},Ot.unstable_batchedUpdates=function(p,g){return p(g)},Ot.useFormState=function(p,g,v){return h.H.useFormState(p,g,v)},Ot.useFormStatus=function(){return h.H.useHostTransitionStatus()},Ot.version="19.2.3",Ot}var _v;function KA(){if(_v)return gh.exports;_v=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),gh.exports=BA(),gh.exports}var Ev;function FA(){if(Ev)return Gs;Ev=1;var r=HA(),t=nf(),i=KA();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function h(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(s(188))}function g(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,o=n;;){var d=a.return;if(d===null)break;var f=d.alternate;if(f===null){if(o=d.return,o!==null){a=o;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===a)return p(d),e;if(f===o)return p(d),n;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=d,o=f;else{for(var y=!1,S=d.child;S;){if(S===a){y=!0,a=d,o=f;break}if(S===o){y=!0,o=d,a=f;break}S=S.sibling}if(!y){for(S=f.child;S;){if(S===a){y=!0,a=f,o=d;break}if(S===o){y=!0,o=f,a=d;break}S=S.sibling}if(!y)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var C=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),M=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),Ne=Symbol.for("react.activity"),at=Symbol.for("react.memo_cache_sentinel"),lt=Symbol.iterator;function ee(e){return e===null||typeof e!="object"?null:(e=lt&&e[lt]||e["@@iterator"],typeof e=="function"?e:null)}var Qe=Symbol.for("react.client.reference");function We(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Qe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case N:return"Fragment";case F:return"Profiler";case j:return"StrictMode";case Y:return"Suspense";case le:return"SuspenseList";case Ne:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case T:return"Portal";case M:return e.displayName||"Context";case H:return(e._context.displayName||"Context")+".Consumer";case X:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case q:return n=e.displayName||null,n!==null?n:We(e.type)||"Memo";case ye:n=e._payload,e=e._init;try{return We(e(n))}catch{}}return null}var St=Array.isArray,L=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},Ae=[],we=-1;function A(e){return{current:e}}function B(e){0>we||(e.current=Ae[we],Ae[we]=null,we--)}function J(e,n){we++,Ae[we]=e.current,e.current=n}var W=A(null),de=A(null),ve=A(null),fe=A(null);function tt(e,n){switch(J(ve,n),J(de,e),J(W,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Py(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Py(n),e=zy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(W),J(W,e)}function Fe(){B(W),B(de),B(ve)}function _i(e){e.memoizedState!==null&&J(fe,e);var n=W.current,a=zy(n,e.type);n!==a&&(J(de,e),J(W,a))}function $n(e){de.current===e&&(B(W),B(de)),fe.current===e&&(B(fe),zs._currentValue=ne)}var Ha,Jr;function Bn(e){if(Ha===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ha=n&&n[1]||"",Jr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ha+e+Jr}var tn=!1;function Zn(e,n){if(!e||tn)return"";tn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(U){var k=U}Reflect.construct(e,[],G)}else{try{G.call()}catch(U){k=U}e.call(G.prototype)}}else{try{throw Error()}catch(U){k=U}(G=e())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(U){if(U&&k&&typeof U.stack=="string")return[U.stack,k.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],S=f[1];if(y&&S){var _=y.split(`
`),I=S.split(`
`);for(d=o=0;o<_.length&&!_[o].includes("DetermineComponentFrameRoot");)o++;for(;d<I.length&&!I[d].includes("DetermineComponentFrameRoot");)d++;if(o===_.length||d===I.length)for(o=_.length-1,d=I.length-1;1<=o&&0<=d&&_[o]!==I[d];)d--;for(;1<=o&&0<=d;o--,d--)if(_[o]!==I[d]){if(o!==1||d!==1)do if(o--,d--,0>d||_[o]!==I[d]){var P=`
`+_[o].replace(" at new "," at ");return e.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",e.displayName)),P}while(1<=o&&0<=d);break}}}finally{tn=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Bn(a):""}function Yl(e,n){switch(e.tag){case 26:case 27:case 5:return Bn(e.type);case 16:return Bn("Lazy");case 13:return e.child!==n&&n!==null?Bn("Suspense Fallback"):Bn("Suspense");case 19:return Bn("SuspenseList");case 0:case 15:return Zn(e.type,!1);case 11:return Zn(e.type.render,!1);case 1:return Zn(e.type,!0);case 31:return Bn("Activity");default:return""}}function So(e){try{var n="",a=null;do n+=Yl(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ra=Object.prototype.hasOwnProperty,Xr=r.unstable_scheduleCallback,$r=r.unstable_cancelCallback,Ql=r.unstable_shouldYield,Jl=r.unstable_requestPaint,Rt=r.unstable_now,Xl=r.unstable_getCurrentPriorityLevel,bo=r.unstable_ImmediatePriority,_o=r.unstable_UserBlockingPriority,Ba=r.unstable_NormalPriority,$l=r.unstable_LowPriority,$=r.unstable_IdlePriority,ue=r.log,se=r.unstable_setDisableYieldValue,Re=null,Dt=null;function jt(e){if(typeof ue=="function"&&se(e),Dt&&typeof Dt.setStrictMode=="function")try{Dt.setStrictMode(Re,e)}catch{}}var bt=Math.clz32?Math.clz32:S_,Ka=Math.log,C_=Math.LN2;function S_(e){return e>>>=0,e===0?32:31-(Ka(e)/C_|0)|0}var Eo=256,Ao=262144,To=4194304;function sa(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function wo(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var d=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var S=o&134217727;return S!==0?(o=S&~f,o!==0?d=sa(o):(y&=S,y!==0?d=sa(y):a||(a=S&~e,a!==0&&(d=sa(a))))):(S=o&~f,S!==0?d=sa(S):y!==0?d=sa(y):a||(a=o&~e,a!==0&&(d=sa(a)))),d===0?0:n!==0&&n!==d&&(n&f)===0&&(f=d&-d,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:d}function Zr(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function b_(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cm(){var e=To;return To<<=1,(To&62914560)===0&&(To=4194304),e}function Zl(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function Wr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function __(e,n,a,o,d,f){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var S=e.entanglements,_=e.expirationTimes,I=e.hiddenUpdates;for(a=y&~a;0<a;){var P=31-bt(a),G=1<<P;S[P]=0,_[P]=-1;var k=I[P];if(k!==null)for(I[P]=null,P=0;P<k.length;P++){var U=k[P];U!==null&&(U.lane&=-536870913)}a&=~G}o!==0&&Sm(e,o,0),f!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~n))}function Sm(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-bt(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function bm(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-bt(a),d=1<<o;d&n|e[o]&n&&(e[o]|=n),a&=~d}}function _m(e,n){var a=n&-n;return a=(a&42)!==0?1:Wl(a),(a&(e.suspendedLanes|n))!==0?0:a}function Wl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function eu(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Em(){var e=Q.p;return e!==0?e:(e=window.event,e===void 0?32:cv(e.type))}function Am(e,n){var a=Q.p;try{return Q.p=e,n()}finally{Q.p=a}}var Ei=Math.random().toString(36).slice(2),_t="__reactFiber$"+Ei,Bt="__reactProps$"+Ei,Fa="__reactContainer$"+Ei,tu="__reactEvents$"+Ei,E_="__reactListeners$"+Ei,A_="__reactHandles$"+Ei,Tm="__reactResources$"+Ei,es="__reactMarker$"+Ei;function nu(e){delete e[_t],delete e[Bt],delete e[tu],delete e[E_],delete e[A_]}function Ga(e){var n=e[_t];if(n)return n;for(var a=e.parentNode;a;){if(n=a[Fa]||a[_t]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=Vy(e);e!==null;){if(a=e[_t])return a;e=Vy(e)}return n}e=a,a=e.parentNode}return null}function qa(e){if(e=e[_t]||e[Fa]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function ts(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function Va(e){var n=e[Tm];return n||(n=e[Tm]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function pt(e){e[es]=!0}var wm=new Set,xm={};function oa(e,n){Ya(e,n),Ya(e+"Capture",n)}function Ya(e,n){for(xm[e]=n,e=0;e<n.length;e++)wm.add(n[e])}var T_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nm={},Rm={};function w_(e){return ra.call(Rm,e)?!0:ra.call(Nm,e)?!1:T_.test(e)?Rm[e]=!0:(Nm[e]=!0,!1)}function xo(e,n,a){if(w_(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function No(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Wn(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function dn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jm(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function x_(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(y){a=""+y,f.call(this,y)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function iu(e){if(!e._valueTracker){var n=jm(e)?"checked":"value";e._valueTracker=x_(e,n,""+e[n])}}function Om(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=jm(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function Ro(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var N_=/[\n"\\]/g;function hn(e){return e.replace(N_,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function au(e,n,a,o,d,f,y,S){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),n!=null?y==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+dn(n)):e.value!==""+dn(n)&&(e.value=""+dn(n)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),n!=null?ru(e,y,dn(n)):a!=null?ru(e,y,dn(a)):o!=null&&e.removeAttribute("value"),d==null&&f!=null&&(e.defaultChecked=!!f),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+dn(S):e.removeAttribute("name")}function Im(e,n,a,o,d,f,y,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){iu(e);return}a=a!=null?""+dn(a):"",n=n!=null?""+dn(n):a,S||n===e.value||(e.value=n),e.defaultValue=n}o=o??d,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=S?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),iu(e)}function ru(e,n,a){n==="number"&&Ro(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Qa(e,n,a,o){if(e=e.options,n){n={};for(var d=0;d<a.length;d++)n["$"+a[d]]=!0;for(a=0;a<e.length;a++)d=n.hasOwnProperty("$"+e[a].value),e[a].selected!==d&&(e[a].selected=d),d&&o&&(e[a].defaultSelected=!0)}else{for(a=""+dn(a),n=null,d=0;d<e.length;d++){if(e[d].value===a){e[d].selected=!0,o&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function km(e,n,a){if(n!=null&&(n=""+dn(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+dn(a):""}function Mm(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(St(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=dn(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),iu(e)}function Ja(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var R_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dm(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||R_.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Um(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var d in n)o=n[d],n.hasOwnProperty(d)&&a[d]!==o&&Dm(e,d,o)}else for(var f in n)n.hasOwnProperty(f)&&Dm(e,f,n[f])}function su(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var j_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),O_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jo(e){return O_.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ei(){}var ou=null;function cu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xa=null,$a=null;function Lm(e){var n=qa(e);if(n&&(e=n.stateNode)){var a=e[Bt]||null;e:switch(e=n.stateNode,n.type){case"input":if(au(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+hn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var d=o[Bt]||null;if(!d)throw Error(s(90));au(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&Om(o)}break e;case"textarea":km(e,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Qa(e,!!a.multiple,n,!1)}}}var lu=!1;function Pm(e,n,a){if(lu)return e(n,a);lu=!0;try{var o=e(n);return o}finally{if(lu=!1,(Xa!==null||$a!==null)&&(yc(),Xa&&(n=Xa,e=$a,$a=Xa=null,Lm(n),e)))for(n=0;n<e.length;n++)Lm(e[n])}}function ns(e,n){var a=e.stateNode;if(a===null)return null;var o=a[Bt]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uu=!1;if(ti)try{var is={};Object.defineProperty(is,"passive",{get:function(){uu=!0}}),window.addEventListener("test",is,is),window.removeEventListener("test",is,is)}catch{uu=!1}var Ai=null,du=null,Oo=null;function zm(){if(Oo)return Oo;var e,n=du,a=n.length,o,d="value"in Ai?Ai.value:Ai.textContent,f=d.length;for(e=0;e<a&&n[e]===d[e];e++);var y=a-e;for(o=1;o<=y&&n[a-o]===d[f-o];o++);return Oo=d.slice(e,1<o?1-o:void 0)}function Io(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ko(){return!0}function Hm(){return!1}function Kt(e){function n(a,o,d,f,y){this._reactName=a,this._targetInst=d,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(a=e[S],this[S]=a?a(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ko:Hm,this.isPropagationStopped=Hm,this}return C(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ko)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ko)},persist:function(){},isPersistent:ko}),n}var ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mo=Kt(ca),as=C({},ca,{view:0,detail:0}),I_=Kt(as),hu,fu,rs,Do=C({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==rs&&(rs&&e.type==="mousemove"?(hu=e.screenX-rs.screenX,fu=e.screenY-rs.screenY):fu=hu=0,rs=e),hu)},movementY:function(e){return"movementY"in e?e.movementY:fu}}),Bm=Kt(Do),k_=C({},Do,{dataTransfer:0}),M_=Kt(k_),D_=C({},as,{relatedTarget:0}),mu=Kt(D_),U_=C({},ca,{animationName:0,elapsedTime:0,pseudoElement:0}),L_=Kt(U_),P_=C({},ca,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),z_=Kt(P_),H_=C({},ca,{data:0}),Km=Kt(H_),B_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},K_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},F_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function G_(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=F_[e])?!!n[e]:!1}function gu(){return G_}var q_=C({},as,{key:function(e){if(e.key){var n=B_[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Io(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?K_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gu,charCode:function(e){return e.type==="keypress"?Io(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Io(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),V_=Kt(q_),Y_=C({},Do,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fm=Kt(Y_),Q_=C({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gu}),J_=Kt(Q_),X_=C({},ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),$_=Kt(X_),Z_=C({},Do,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),W_=Kt(Z_),eE=C({},ca,{newState:0,oldState:0}),tE=Kt(eE),nE=[9,13,27,32],pu=ti&&"CompositionEvent"in window,ss=null;ti&&"documentMode"in document&&(ss=document.documentMode);var iE=ti&&"TextEvent"in window&&!ss,Gm=ti&&(!pu||ss&&8<ss&&11>=ss),qm=" ",Vm=!1;function Ym(e,n){switch(e){case"keyup":return nE.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Za=!1;function aE(e,n){switch(e){case"compositionend":return Qm(n);case"keypress":return n.which!==32?null:(Vm=!0,qm);case"textInput":return e=n.data,e===qm&&Vm?null:e;default:return null}}function rE(e,n){if(Za)return e==="compositionend"||!pu&&Ym(e,n)?(e=zm(),Oo=du=Ai=null,Za=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Gm&&n.locale!=="ko"?null:n.data;default:return null}}var sE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jm(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!sE[e.type]:n==="textarea"}function Xm(e,n,a,o){Xa?$a?$a.push(o):$a=[o]:Xa=o,n=Ac(n,"onChange"),0<n.length&&(a=new Mo("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var os=null,cs=null;function oE(e){Iy(e,0)}function Uo(e){var n=ts(e);if(Om(n))return e}function $m(e,n){if(e==="change")return n}var Zm=!1;if(ti){var yu;if(ti){var vu="oninput"in document;if(!vu){var Wm=document.createElement("div");Wm.setAttribute("oninput","return;"),vu=typeof Wm.oninput=="function"}yu=vu}else yu=!1;Zm=yu&&(!document.documentMode||9<document.documentMode)}function eg(){os&&(os.detachEvent("onpropertychange",tg),cs=os=null)}function tg(e){if(e.propertyName==="value"&&Uo(cs)){var n=[];Xm(n,cs,e,cu(e)),Pm(oE,n)}}function cE(e,n,a){e==="focusin"?(eg(),os=n,cs=a,os.attachEvent("onpropertychange",tg)):e==="focusout"&&eg()}function lE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Uo(cs)}function uE(e,n){if(e==="click")return Uo(n)}function dE(e,n){if(e==="input"||e==="change")return Uo(n)}function hE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var nn=typeof Object.is=="function"?Object.is:hE;function ls(e,n){if(nn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var d=a[o];if(!ra.call(n,d)||!nn(e[d],n[d]))return!1}return!0}function ng(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ig(e,n){var a=ng(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ng(a)}}function ag(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?ag(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function rg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ro(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Ro(e.document)}return n}function Cu(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var fE=ti&&"documentMode"in document&&11>=document.documentMode,Wa=null,Su=null,us=null,bu=!1;function sg(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;bu||Wa==null||Wa!==Ro(o)||(o=Wa,"selectionStart"in o&&Cu(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),us&&ls(us,o)||(us=o,o=Ac(Su,"onSelect"),0<o.length&&(n=new Mo("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=Wa)))}function la(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var er={animationend:la("Animation","AnimationEnd"),animationiteration:la("Animation","AnimationIteration"),animationstart:la("Animation","AnimationStart"),transitionrun:la("Transition","TransitionRun"),transitionstart:la("Transition","TransitionStart"),transitioncancel:la("Transition","TransitionCancel"),transitionend:la("Transition","TransitionEnd")},_u={},og={};ti&&(og=document.createElement("div").style,"AnimationEvent"in window||(delete er.animationend.animation,delete er.animationiteration.animation,delete er.animationstart.animation),"TransitionEvent"in window||delete er.transitionend.transition);function ua(e){if(_u[e])return _u[e];if(!er[e])return e;var n=er[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in og)return _u[e]=n[a];return e}var cg=ua("animationend"),lg=ua("animationiteration"),ug=ua("animationstart"),mE=ua("transitionrun"),gE=ua("transitionstart"),pE=ua("transitioncancel"),dg=ua("transitionend"),hg=new Map,Eu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Eu.push("scrollEnd");function Rn(e,n){hg.set(e,n),oa(n,[e])}var Lo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},fn=[],tr=0,Au=0;function Po(){for(var e=tr,n=Au=tr=0;n<e;){var a=fn[n];fn[n++]=null;var o=fn[n];fn[n++]=null;var d=fn[n];fn[n++]=null;var f=fn[n];if(fn[n++]=null,o!==null&&d!==null){var y=o.pending;y===null?d.next=d:(d.next=y.next,y.next=d),o.pending=d}f!==0&&fg(a,d,f)}}function zo(e,n,a,o){fn[tr++]=e,fn[tr++]=n,fn[tr++]=a,fn[tr++]=o,Au|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Tu(e,n,a,o){return zo(e,n,a,o),Ho(e)}function da(e,n){return zo(e,null,null,n),Ho(e)}function fg(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var d=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(d=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,d&&n!==null&&(d=31-bt(a),e=f.hiddenUpdates,o=e[d],o===null?e[d]=[n]:o.push(n),n.lane=a|536870912),f):null}function Ho(e){if(50<Is)throw Is=0,Md=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var nr={};function yE(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(e,n,a,o){return new yE(e,n,a,o)}function wu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ni(e,n){var a=e.alternate;return a===null?(a=an(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function mg(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Bo(e,n,a,o,d,f){var y=0;if(o=e,typeof e=="function")wu(e)&&(y=1);else if(typeof e=="string")y=_A(e,a,W.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ne:return e=an(31,a,n,d),e.elementType=Ne,e.lanes=f,e;case N:return ha(a.children,d,f,n);case j:y=8,d|=24;break;case F:return e=an(12,a,n,d|2),e.elementType=F,e.lanes=f,e;case Y:return e=an(13,a,n,d),e.elementType=Y,e.lanes=f,e;case le:return e=an(19,a,n,d),e.elementType=le,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case M:y=10;break e;case H:y=9;break e;case X:y=11;break e;case q:y=14;break e;case ye:y=16,o=null;break e}y=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=an(y,a,n,d),n.elementType=e,n.type=o,n.lanes=f,n}function ha(e,n,a,o){return e=an(7,e,o,n),e.lanes=a,e}function xu(e,n,a){return e=an(6,e,null,n),e.lanes=a,e}function gg(e){var n=an(18,null,null,0);return n.stateNode=e,n}function Nu(e,n,a){return n=an(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var pg=new WeakMap;function mn(e,n){if(typeof e=="object"&&e!==null){var a=pg.get(e);return a!==void 0?a:(n={value:e,source:n,stack:So(n)},pg.set(e,n),n)}return{value:e,source:n,stack:So(n)}}var ir=[],ar=0,Ko=null,ds=0,gn=[],pn=0,Ti=null,Kn=1,Fn="";function ii(e,n){ir[ar++]=ds,ir[ar++]=Ko,Ko=e,ds=n}function yg(e,n,a){gn[pn++]=Kn,gn[pn++]=Fn,gn[pn++]=Ti,Ti=e;var o=Kn;e=Fn;var d=32-bt(o)-1;o&=~(1<<d),a+=1;var f=32-bt(n)+d;if(30<f){var y=d-d%5;f=(o&(1<<y)-1).toString(32),o>>=y,d-=y,Kn=1<<32-bt(n)+d|a<<d|o,Fn=f+e}else Kn=1<<f|a<<d|o,Fn=e}function Ru(e){e.return!==null&&(ii(e,1),yg(e,1,0))}function ju(e){for(;e===Ko;)Ko=ir[--ar],ir[ar]=null,ds=ir[--ar],ir[ar]=null;for(;e===Ti;)Ti=gn[--pn],gn[pn]=null,Fn=gn[--pn],gn[pn]=null,Kn=gn[--pn],gn[pn]=null}function vg(e,n){gn[pn++]=Kn,gn[pn++]=Fn,gn[pn++]=Ti,Kn=n.id,Fn=n.overflow,Ti=e}var Et=null,qe=null,Te=!1,wi=null,yn=!1,Ou=Error(s(519));function xi(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hs(mn(n,e)),Ou}function Cg(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[_t]=e,n[Bt]=o,a){case"dialog":be("cancel",n),be("close",n);break;case"iframe":case"object":case"embed":be("load",n);break;case"video":case"audio":for(a=0;a<Ms.length;a++)be(Ms[a],n);break;case"source":be("error",n);break;case"img":case"image":case"link":be("error",n),be("load",n);break;case"details":be("toggle",n);break;case"input":be("invalid",n),Im(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":be("invalid",n);break;case"textarea":be("invalid",n),Mm(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||Uy(n.textContent,a)?(o.popover!=null&&(be("beforetoggle",n),be("toggle",n)),o.onScroll!=null&&be("scroll",n),o.onScrollEnd!=null&&be("scrollend",n),o.onClick!=null&&(n.onclick=ei),n=!0):n=!1,n||xi(e,!0)}function Sg(e){for(Et=e.return;Et;)switch(Et.tag){case 5:case 31:case 13:yn=!1;return;case 27:case 3:yn=!0;return;default:Et=Et.return}}function rr(e){if(e!==Et)return!1;if(!Te)return Sg(e),Te=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Jd(e.type,e.memoizedProps)),a=!a),a&&qe&&xi(e),Sg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));qe=qy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));qe=qy(e)}else n===27?(n=qe,Bi(e.type)?(e=eh,eh=null,qe=e):qe=n):qe=Et?Cn(e.stateNode.nextSibling):null;return!0}function fa(){qe=Et=null,Te=!1}function Iu(){var e=wi;return e!==null&&(Vt===null?Vt=e:Vt.push.apply(Vt,e),wi=null),e}function hs(e){wi===null?wi=[e]:wi.push(e)}var ku=A(null),ma=null,ai=null;function Ni(e,n,a){J(ku,n._currentValue),n._currentValue=a}function ri(e){e._currentValue=ku.current,B(ku)}function Mu(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function Du(e,n,a,o){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var f=d.dependencies;if(f!==null){var y=d.child;f=f.firstContext;e:for(;f!==null;){var S=f;f=d;for(var _=0;_<n.length;_++)if(S.context===n[_]){f.lanes|=a,S=f.alternate,S!==null&&(S.lanes|=a),Mu(f.return,a,e),o||(y=null);break e}f=S.next}}else if(d.tag===18){if(y=d.return,y===null)throw Error(s(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),Mu(y,a,e),y=null}else y=d.child;if(y!==null)y.return=d;else for(y=d;y!==null;){if(y===e){y=null;break}if(d=y.sibling,d!==null){d.return=y.return,y=d;break}y=y.return}d=y}}function sr(e,n,a,o){e=null;for(var d=n,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var y=d.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var S=d.type;nn(d.pendingProps.value,y.value)||(e!==null?e.push(S):e=[S])}}else if(d===fe.current){if(y=d.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(zs):e=[zs])}d=d.return}e!==null&&Du(n,e,a,o),n.flags|=262144}function Fo(e){for(e=e.firstContext;e!==null;){if(!nn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ga(e){ma=e,ai=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function At(e){return bg(ma,e)}function Go(e,n){return ma===null&&ga(e),bg(e,n)}function bg(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},ai===null){if(e===null)throw Error(s(308));ai=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ai=ai.next=n;return a}var vE=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},CE=r.unstable_scheduleCallback,SE=r.unstable_NormalPriority,ut={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uu(){return{controller:new vE,data:new Map,refCount:0}}function fs(e){e.refCount--,e.refCount===0&&CE(SE,function(){e.controller.abort()})}var ms=null,Lu=0,or=0,cr=null;function bE(e,n){if(ms===null){var a=ms=[];Lu=0,or=Hd(),cr={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Lu++,n.then(_g,_g),n}function _g(){if(--Lu===0&&ms!==null){cr!==null&&(cr.status="fulfilled");var e=ms;ms=null,or=0,cr=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function _E(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var d=0;d<a.length;d++)(0,a[d])(n)},function(d){for(o.status="rejected",o.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),o}var Eg=L.S;L.S=function(e,n){sy=Rt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&bE(e,n),Eg!==null&&Eg(e,n)};var pa=A(null);function Pu(){var e=pa.current;return e!==null?e:Be.pooledCache}function qo(e,n){n===null?J(pa,pa.current):J(pa,n.pool)}function Ag(){var e=Pu();return e===null?null:{parent:ut._currentValue,pool:e}}var lr=Error(s(460)),zu=Error(s(474)),Vo=Error(s(542)),Yo={then:function(){}};function Tg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function wg(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(ei,ei),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ng(e),e;default:if(typeof n.status=="string")n.then(ei,ei);else{if(e=Be,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=o}},function(o){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ng(e),e}throw va=n,lr}}function ya(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(va=a,lr):a}}var va=null;function xg(){if(va===null)throw Error(s(459));var e=va;return va=null,e}function Ng(e){if(e===lr||e===Vo)throw Error(s(483))}var ur=null,gs=0;function Qo(e){var n=gs;return gs+=1,ur===null&&(ur=[]),wg(ur,e,n)}function ps(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Jo(e,n){throw n.$$typeof===b?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Rg(e){function n(R,w){if(e){var O=R.deletions;O===null?(R.deletions=[w],R.flags|=16):O.push(w)}}function a(R,w){if(!e)return null;for(;w!==null;)n(R,w),w=w.sibling;return null}function o(R){for(var w=new Map;R!==null;)R.key!==null?w.set(R.key,R):w.set(R.index,R),R=R.sibling;return w}function d(R,w){return R=ni(R,w),R.index=0,R.sibling=null,R}function f(R,w,O){return R.index=O,e?(O=R.alternate,O!==null?(O=O.index,O<w?(R.flags|=67108866,w):O):(R.flags|=67108866,w)):(R.flags|=1048576,w)}function y(R){return e&&R.alternate===null&&(R.flags|=67108866),R}function S(R,w,O,K){return w===null||w.tag!==6?(w=xu(O,R.mode,K),w.return=R,w):(w=d(w,O),w.return=R,w)}function _(R,w,O,K){var ae=O.type;return ae===N?P(R,w,O.props.children,K,O.key):w!==null&&(w.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===ye&&ya(ae)===w.type)?(w=d(w,O.props),ps(w,O),w.return=R,w):(w=Bo(O.type,O.key,O.props,null,R.mode,K),ps(w,O),w.return=R,w)}function I(R,w,O,K){return w===null||w.tag!==4||w.stateNode.containerInfo!==O.containerInfo||w.stateNode.implementation!==O.implementation?(w=Nu(O,R.mode,K),w.return=R,w):(w=d(w,O.children||[]),w.return=R,w)}function P(R,w,O,K,ae){return w===null||w.tag!==7?(w=ha(O,R.mode,K,ae),w.return=R,w):(w=d(w,O),w.return=R,w)}function G(R,w,O){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=xu(""+w,R.mode,O),w.return=R,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case x:return O=Bo(w.type,w.key,w.props,null,R.mode,O),ps(O,w),O.return=R,O;case T:return w=Nu(w,R.mode,O),w.return=R,w;case ye:return w=ya(w),G(R,w,O)}if(St(w)||ee(w))return w=ha(w,R.mode,O,null),w.return=R,w;if(typeof w.then=="function")return G(R,Qo(w),O);if(w.$$typeof===M)return G(R,Go(R,w),O);Jo(R,w)}return null}function k(R,w,O,K){var ae=w!==null?w.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return ae!==null?null:S(R,w,""+O,K);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case x:return O.key===ae?_(R,w,O,K):null;case T:return O.key===ae?I(R,w,O,K):null;case ye:return O=ya(O),k(R,w,O,K)}if(St(O)||ee(O))return ae!==null?null:P(R,w,O,K,null);if(typeof O.then=="function")return k(R,w,Qo(O),K);if(O.$$typeof===M)return k(R,w,Go(R,O),K);Jo(R,O)}return null}function U(R,w,O,K,ae){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return R=R.get(O)||null,S(w,R,""+K,ae);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case x:return R=R.get(K.key===null?O:K.key)||null,_(w,R,K,ae);case T:return R=R.get(K.key===null?O:K.key)||null,I(w,R,K,ae);case ye:return K=ya(K),U(R,w,O,K,ae)}if(St(K)||ee(K))return R=R.get(O)||null,P(w,R,K,ae,null);if(typeof K.then=="function")return U(R,w,O,Qo(K),ae);if(K.$$typeof===M)return U(R,w,O,Go(w,K),ae);Jo(w,K)}return null}function te(R,w,O,K){for(var ae=null,je=null,ie=w,pe=w=0,Ee=null;ie!==null&&pe<O.length;pe++){ie.index>pe?(Ee=ie,ie=null):Ee=ie.sibling;var Oe=k(R,ie,O[pe],K);if(Oe===null){ie===null&&(ie=Ee);break}e&&ie&&Oe.alternate===null&&n(R,ie),w=f(Oe,w,pe),je===null?ae=Oe:je.sibling=Oe,je=Oe,ie=Ee}if(pe===O.length)return a(R,ie),Te&&ii(R,pe),ae;if(ie===null){for(;pe<O.length;pe++)ie=G(R,O[pe],K),ie!==null&&(w=f(ie,w,pe),je===null?ae=ie:je.sibling=ie,je=ie);return Te&&ii(R,pe),ae}for(ie=o(ie);pe<O.length;pe++)Ee=U(ie,R,pe,O[pe],K),Ee!==null&&(e&&Ee.alternate!==null&&ie.delete(Ee.key===null?pe:Ee.key),w=f(Ee,w,pe),je===null?ae=Ee:je.sibling=Ee,je=Ee);return e&&ie.forEach(function(Vi){return n(R,Vi)}),Te&&ii(R,pe),ae}function oe(R,w,O,K){if(O==null)throw Error(s(151));for(var ae=null,je=null,ie=w,pe=w=0,Ee=null,Oe=O.next();ie!==null&&!Oe.done;pe++,Oe=O.next()){ie.index>pe?(Ee=ie,ie=null):Ee=ie.sibling;var Vi=k(R,ie,Oe.value,K);if(Vi===null){ie===null&&(ie=Ee);break}e&&ie&&Vi.alternate===null&&n(R,ie),w=f(Vi,w,pe),je===null?ae=Vi:je.sibling=Vi,je=Vi,ie=Ee}if(Oe.done)return a(R,ie),Te&&ii(R,pe),ae;if(ie===null){for(;!Oe.done;pe++,Oe=O.next())Oe=G(R,Oe.value,K),Oe!==null&&(w=f(Oe,w,pe),je===null?ae=Oe:je.sibling=Oe,je=Oe);return Te&&ii(R,pe),ae}for(ie=o(ie);!Oe.done;pe++,Oe=O.next())Oe=U(ie,R,pe,Oe.value,K),Oe!==null&&(e&&Oe.alternate!==null&&ie.delete(Oe.key===null?pe:Oe.key),w=f(Oe,w,pe),je===null?ae=Oe:je.sibling=Oe,je=Oe);return e&&ie.forEach(function(kA){return n(R,kA)}),Te&&ii(R,pe),ae}function He(R,w,O,K){if(typeof O=="object"&&O!==null&&O.type===N&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case x:e:{for(var ae=O.key;w!==null;){if(w.key===ae){if(ae=O.type,ae===N){if(w.tag===7){a(R,w.sibling),K=d(w,O.props.children),K.return=R,R=K;break e}}else if(w.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===ye&&ya(ae)===w.type){a(R,w.sibling),K=d(w,O.props),ps(K,O),K.return=R,R=K;break e}a(R,w);break}else n(R,w);w=w.sibling}O.type===N?(K=ha(O.props.children,R.mode,K,O.key),K.return=R,R=K):(K=Bo(O.type,O.key,O.props,null,R.mode,K),ps(K,O),K.return=R,R=K)}return y(R);case T:e:{for(ae=O.key;w!==null;){if(w.key===ae)if(w.tag===4&&w.stateNode.containerInfo===O.containerInfo&&w.stateNode.implementation===O.implementation){a(R,w.sibling),K=d(w,O.children||[]),K.return=R,R=K;break e}else{a(R,w);break}else n(R,w);w=w.sibling}K=Nu(O,R.mode,K),K.return=R,R=K}return y(R);case ye:return O=ya(O),He(R,w,O,K)}if(St(O))return te(R,w,O,K);if(ee(O)){if(ae=ee(O),typeof ae!="function")throw Error(s(150));return O=ae.call(O),oe(R,w,O,K)}if(typeof O.then=="function")return He(R,w,Qo(O),K);if(O.$$typeof===M)return He(R,w,Go(R,O),K);Jo(R,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,w!==null&&w.tag===6?(a(R,w.sibling),K=d(w,O),K.return=R,R=K):(a(R,w),K=xu(O,R.mode,K),K.return=R,R=K),y(R)):a(R,w)}return function(R,w,O,K){try{gs=0;var ae=He(R,w,O,K);return ur=null,ae}catch(ie){if(ie===lr||ie===Vo)throw ie;var je=an(29,ie,null,R.mode);return je.lanes=K,je.return=R,je}}}var Ca=Rg(!0),jg=Rg(!1),Ri=!1;function Hu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ji(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Oi(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ie&2)!==0){var d=o.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),o.pending=n,n=Ho(e),fg(e,null,a),n}return zo(e,o,n,a),Ho(e)}function ys(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,bm(e,a)}}function Ku(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var d=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?d=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?d=f=n:f=f.next=n}else d=f=n;a={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var Fu=!1;function vs(){if(Fu){var e=cr;if(e!==null)throw e}}function Cs(e,n,a,o){Fu=!1;var d=e.updateQueue;Ri=!1;var f=d.firstBaseUpdate,y=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var _=S,I=_.next;_.next=null,y===null?f=I:y.next=I,y=_;var P=e.alternate;P!==null&&(P=P.updateQueue,S=P.lastBaseUpdate,S!==y&&(S===null?P.firstBaseUpdate=I:S.next=I,P.lastBaseUpdate=_))}if(f!==null){var G=d.baseState;y=0,P=I=_=null,S=f;do{var k=S.lane&-536870913,U=k!==S.lane;if(U?(_e&k)===k:(o&k)===k){k!==0&&k===or&&(Fu=!0),P!==null&&(P=P.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var te=e,oe=S;k=n;var He=a;switch(oe.tag){case 1:if(te=oe.payload,typeof te=="function"){G=te.call(He,G,k);break e}G=te;break e;case 3:te.flags=te.flags&-65537|128;case 0:if(te=oe.payload,k=typeof te=="function"?te.call(He,G,k):te,k==null)break e;G=C({},G,k);break e;case 2:Ri=!0}}k=S.callback,k!==null&&(e.flags|=64,U&&(e.flags|=8192),U=d.callbacks,U===null?d.callbacks=[k]:U.push(k))}else U={lane:k,tag:S.tag,payload:S.payload,callback:S.callback,next:null},P===null?(I=P=U,_=G):P=P.next=U,y|=k;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;U=S,S=U.next,U.next=null,d.lastBaseUpdate=U,d.shared.pending=null}}while(!0);P===null&&(_=G),d.baseState=_,d.firstBaseUpdate=I,d.lastBaseUpdate=P,f===null&&(d.shared.lanes=0),Ui|=y,e.lanes=y,e.memoizedState=G}}function Og(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function Ig(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Og(a[e],n)}var dr=A(null),Xo=A(0);function kg(e,n){e=mi,J(Xo,e),J(dr,n),mi=e|n.baseLanes}function Gu(){J(Xo,mi),J(dr,dr.current)}function qu(){mi=Xo.current,B(dr),B(Xo)}var rn=A(null),vn=null;function Ii(e){var n=e.alternate;J(rt,rt.current&1),J(rn,e),vn===null&&(n===null||dr.current!==null||n.memoizedState!==null)&&(vn=e)}function Vu(e){J(rt,rt.current),J(rn,e),vn===null&&(vn=e)}function Mg(e){e.tag===22?(J(rt,rt.current),J(rn,e),vn===null&&(vn=e)):ki()}function ki(){J(rt,rt.current),J(rn,rn.current)}function sn(e){B(rn),vn===e&&(vn=null),B(rt)}var rt=A(0);function $o(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Zd(a)||Wd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var si=0,me=null,Pe=null,dt=null,Zo=!1,hr=!1,Sa=!1,Wo=0,Ss=0,fr=null,EE=0;function nt(){throw Error(s(321))}function Yu(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!nn(e[a],n[a]))return!1;return!0}function Qu(e,n,a,o,d,f){return si=f,me=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,L.H=e===null||e.memoizedState===null?yp:ld,Sa=!1,f=a(o,d),Sa=!1,hr&&(f=Ug(n,a,o,d)),Dg(e),f}function Dg(e){L.H=Es;var n=Pe!==null&&Pe.next!==null;if(si=0,dt=Pe=me=null,Zo=!1,Ss=0,fr=null,n)throw Error(s(300));e===null||ht||(e=e.dependencies,e!==null&&Fo(e)&&(ht=!0))}function Ug(e,n,a,o){me=e;var d=0;do{if(hr&&(fr=null),Ss=0,hr=!1,25<=d)throw Error(s(301));if(d+=1,dt=Pe=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}L.H=vp,f=n(a,o)}while(hr);return f}function AE(){var e=L.H,n=e.useState()[0];return n=typeof n.then=="function"?bs(n):n,e=e.useState()[0],(Pe!==null?Pe.memoizedState:null)!==e&&(me.flags|=1024),n}function Ju(){var e=Wo!==0;return Wo=0,e}function Xu(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function $u(e){if(Zo){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Zo=!1}si=0,dt=Pe=me=null,hr=!1,Ss=Wo=0,fr=null}function Ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?me.memoizedState=dt=e:dt=dt.next=e,dt}function st(){if(Pe===null){var e=me.alternate;e=e!==null?e.memoizedState:null}else e=Pe.next;var n=dt===null?me.memoizedState:dt.next;if(n!==null)dt=n,Pe=e;else{if(e===null)throw me.alternate===null?Error(s(467)):Error(s(310));Pe=e,e={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},dt===null?me.memoizedState=dt=e:dt=dt.next=e}return dt}function ec(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bs(e){var n=Ss;return Ss+=1,fr===null&&(fr=[]),e=wg(fr,e,n),n=me,(dt===null?n.memoizedState:dt.next)===null&&(n=n.alternate,L.H=n===null||n.memoizedState===null?yp:ld),e}function tc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return bs(e);if(e.$$typeof===M)return At(e)}throw Error(s(438,String(e)))}function Zu(e){var n=null,a=me.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=me.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=ec(),me.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=at;return n.index++,a}function oi(e,n){return typeof n=="function"?n(e):n}function nc(e){var n=st();return Wu(n,Pe,e)}function Wu(e,n,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var d=e.baseQueue,f=o.pending;if(f!==null){if(d!==null){var y=d.next;d.next=f.next,f.next=y}n.baseQueue=d=f,o.pending=null}if(f=e.baseState,d===null)e.memoizedState=f;else{n=d.next;var S=y=null,_=null,I=n,P=!1;do{var G=I.lane&-536870913;if(G!==I.lane?(_e&G)===G:(si&G)===G){var k=I.revertLane;if(k===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),G===or&&(P=!0);else if((si&k)===k){I=I.next,k===or&&(P=!0);continue}else G={lane:0,revertLane:I.revertLane,gesture:null,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},_===null?(S=_=G,y=f):_=_.next=G,me.lanes|=k,Ui|=k;G=I.action,Sa&&a(f,G),f=I.hasEagerState?I.eagerState:a(f,G)}else k={lane:G,revertLane:I.revertLane,gesture:I.gesture,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},_===null?(S=_=k,y=f):_=_.next=k,me.lanes|=G,Ui|=G;I=I.next}while(I!==null&&I!==n);if(_===null?y=f:_.next=S,!nn(f,e.memoizedState)&&(ht=!0,P&&(a=cr,a!==null)))throw a;e.memoizedState=f,e.baseState=y,e.baseQueue=_,o.lastRenderedState=f}return d===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function ed(e){var n=st(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,d=a.pending,f=n.memoizedState;if(d!==null){a.pending=null;var y=d=d.next;do f=e(f,y.action),y=y.next;while(y!==d);nn(f,n.memoizedState)||(ht=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function Lg(e,n,a){var o=me,d=st(),f=Te;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var y=!nn((Pe||d).memoizedState,a);if(y&&(d.memoizedState=a,ht=!0),d=d.queue,id(Hg.bind(null,o,d,e),[e]),d.getSnapshot!==n||y||dt!==null&&dt.memoizedState.tag&1){if(o.flags|=2048,mr(9,{destroy:void 0},zg.bind(null,o,d,a,n),null),Be===null)throw Error(s(349));f||(si&127)!==0||Pg(o,n,a)}return a}function Pg(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=me.updateQueue,n===null?(n=ec(),me.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function zg(e,n,a,o){n.value=a,n.getSnapshot=o,Bg(n)&&Kg(e)}function Hg(e,n,a){return a(function(){Bg(n)&&Kg(e)})}function Bg(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!nn(e,a)}catch{return!0}}function Kg(e){var n=da(e,2);n!==null&&Yt(n,e,2)}function td(e){var n=Ut();if(typeof e=="function"){var a=e;if(e=a(),Sa){jt(!0);try{a()}finally{jt(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:e},n}function Fg(e,n,a,o){return e.baseState=a,Wu(e,Pe,typeof o=="function"?o:oi)}function TE(e,n,a,o,d){if(rc(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};L.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,Gg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Gg(e,n){var a=n.action,o=n.payload,d=e.state;if(n.isTransition){var f=L.T,y={};L.T=y;try{var S=a(d,o),_=L.S;_!==null&&_(y,S),qg(e,n,S)}catch(I){nd(e,n,I)}finally{f!==null&&y.types!==null&&(f.types=y.types),L.T=f}}else try{f=a(d,o),qg(e,n,f)}catch(I){nd(e,n,I)}}function qg(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Vg(e,n,o)},function(o){return nd(e,n,o)}):Vg(e,n,a)}function Vg(e,n,a){n.status="fulfilled",n.value=a,Yg(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Gg(e,a)))}function nd(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Yg(n),n=n.next;while(n!==o)}e.action=null}function Yg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Qg(e,n){return n}function Jg(e,n){if(Te){var a=Be.formState;if(a!==null){e:{var o=me;if(Te){if(qe){t:{for(var d=qe,f=yn;d.nodeType!==8;){if(!f){d=null;break t}if(d=Cn(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){qe=Cn(d.nextSibling),o=d.data==="F!";break e}}xi(o)}o=!1}o&&(n=a[0])}}return a=Ut(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qg,lastRenderedState:n},a.queue=o,a=mp.bind(null,me,o),o.dispatch=a,o=td(!1),f=cd.bind(null,me,!1,o.queue),o=Ut(),d={state:n,dispatch:null,action:e,pending:null},o.queue=d,a=TE.bind(null,me,d,f,a),d.dispatch=a,o.memoizedState=e,[n,a,!1]}function Xg(e){var n=st();return $g(n,Pe,e)}function $g(e,n,a){if(n=Wu(e,n,Qg)[0],e=nc(oi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=bs(n)}catch(y){throw y===lr?Vo:y}else o=n;n=st();var d=n.queue,f=d.dispatch;return a!==n.memoizedState&&(me.flags|=2048,mr(9,{destroy:void 0},wE.bind(null,d,a),null)),[o,f,e]}function wE(e,n){e.action=n}function Zg(e){var n=st(),a=Pe;if(a!==null)return $g(n,a,e);st(),n=n.memoizedState,a=st();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function mr(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=me.updateQueue,n===null&&(n=ec(),me.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function Wg(){return st().memoizedState}function ic(e,n,a,o){var d=Ut();me.flags|=e,d.memoizedState=mr(1|n,{destroy:void 0},a,o===void 0?null:o)}function ac(e,n,a,o){var d=st();o=o===void 0?null:o;var f=d.memoizedState.inst;Pe!==null&&o!==null&&Yu(o,Pe.memoizedState.deps)?d.memoizedState=mr(n,f,a,o):(me.flags|=e,d.memoizedState=mr(1|n,f,a,o))}function ep(e,n){ic(8390656,8,e,n)}function id(e,n){ac(2048,8,e,n)}function xE(e){me.flags|=4;var n=me.updateQueue;if(n===null)n=ec(),me.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function tp(e){var n=st().memoizedState;return xE({ref:n,nextImpl:e}),function(){if((Ie&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function np(e,n){return ac(4,2,e,n)}function ip(e,n){return ac(4,4,e,n)}function ap(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function rp(e,n,a){a=a!=null?a.concat([e]):null,ac(4,4,ap.bind(null,n,e),a)}function ad(){}function sp(e,n){var a=st();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Yu(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function op(e,n){var a=st();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Yu(n,o[1]))return o[0];if(o=e(),Sa){jt(!0);try{e()}finally{jt(!1)}}return a.memoizedState=[o,n],o}function rd(e,n,a){return a===void 0||(si&1073741824)!==0&&(_e&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=cy(),me.lanes|=e,Ui|=e,a)}function cp(e,n,a,o){return nn(a,n)?a:dr.current!==null?(e=rd(e,a,o),nn(e,n)||(ht=!0),e):(si&42)===0||(si&1073741824)!==0&&(_e&261930)===0?(ht=!0,e.memoizedState=a):(e=cy(),me.lanes|=e,Ui|=e,n)}function lp(e,n,a,o,d){var f=Q.p;Q.p=f!==0&&8>f?f:8;var y=L.T,S={};L.T=S,cd(e,!1,n,a);try{var _=d(),I=L.S;if(I!==null&&I(S,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var P=_E(_,o);_s(e,n,P,ln(e))}else _s(e,n,o,ln(e))}catch(G){_s(e,n,{then:function(){},status:"rejected",reason:G},ln())}finally{Q.p=f,y!==null&&S.types!==null&&(y.types=S.types),L.T=y}}function NE(){}function sd(e,n,a,o){if(e.tag!==5)throw Error(s(476));var d=up(e).queue;lp(e,d,n,ne,a===null?NE:function(){return dp(e),a(o)})}function up(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:ne},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function dp(e){var n=up(e);n.next===null&&(n=e.alternate.memoizedState),_s(e,n.next.queue,{},ln())}function od(){return At(zs)}function hp(){return st().memoizedState}function fp(){return st().memoizedState}function RE(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=ln();e=ji(a);var o=Oi(n,e,a);o!==null&&(Yt(o,n,a),ys(o,n,a)),n={cache:Uu()},e.payload=n;return}n=n.return}}function jE(e,n,a){var o=ln();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},rc(e)?gp(n,a):(a=Tu(e,n,a,o),a!==null&&(Yt(a,e,o),pp(a,n,o)))}function mp(e,n,a){var o=ln();_s(e,n,a,o)}function _s(e,n,a,o){var d={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(rc(e))gp(n,d);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,S=f(y,a);if(d.hasEagerState=!0,d.eagerState=S,nn(S,y))return zo(e,n,d,0),Be===null&&Po(),!1}catch{}if(a=Tu(e,n,d,o),a!==null)return Yt(a,e,o),pp(a,n,o),!0}return!1}function cd(e,n,a,o){if(o={lane:2,revertLane:Hd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},rc(e)){if(n)throw Error(s(479))}else n=Tu(e,a,o,2),n!==null&&Yt(n,e,2)}function rc(e){var n=e.alternate;return e===me||n!==null&&n===me}function gp(e,n){hr=Zo=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function pp(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,bm(e,a)}}var Es={readContext:At,use:tc,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useLayoutEffect:nt,useInsertionEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useSyncExternalStore:nt,useId:nt,useHostTransitionStatus:nt,useFormState:nt,useActionState:nt,useOptimistic:nt,useMemoCache:nt,useCacheRefresh:nt};Es.useEffectEvent=nt;var yp={readContext:At,use:tc,useCallback:function(e,n){return Ut().memoizedState=[e,n===void 0?null:n],e},useContext:At,useEffect:ep,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,ic(4194308,4,ap.bind(null,n,e),a)},useLayoutEffect:function(e,n){return ic(4194308,4,e,n)},useInsertionEffect:function(e,n){ic(4,2,e,n)},useMemo:function(e,n){var a=Ut();n=n===void 0?null:n;var o=e();if(Sa){jt(!0);try{e()}finally{jt(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=Ut();if(a!==void 0){var d=a(n);if(Sa){jt(!0);try{a(n)}finally{jt(!1)}}}else d=n;return o.memoizedState=o.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},o.queue=e,e=e.dispatch=jE.bind(null,me,e),[o.memoizedState,e]},useRef:function(e){var n=Ut();return e={current:e},n.memoizedState=e},useState:function(e){e=td(e);var n=e.queue,a=mp.bind(null,me,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:ad,useDeferredValue:function(e,n){var a=Ut();return rd(a,e,n)},useTransition:function(){var e=td(!1);return e=lp.bind(null,me,e.queue,!0,!1),Ut().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=me,d=Ut();if(Te){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Be===null)throw Error(s(349));(_e&127)!==0||Pg(o,n,a)}d.memoizedState=a;var f={value:a,getSnapshot:n};return d.queue=f,ep(Hg.bind(null,o,f,e),[e]),o.flags|=2048,mr(9,{destroy:void 0},zg.bind(null,o,f,a,n),null),a},useId:function(){var e=Ut(),n=Be.identifierPrefix;if(Te){var a=Fn,o=Kn;a=(o&~(1<<32-bt(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Wo++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=EE++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:od,useFormState:Jg,useActionState:Jg,useOptimistic:function(e){var n=Ut();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=cd.bind(null,me,!0,a),a.dispatch=n,[e,n]},useMemoCache:Zu,useCacheRefresh:function(){return Ut().memoizedState=RE.bind(null,me)},useEffectEvent:function(e){var n=Ut(),a={impl:e};return n.memoizedState=a,function(){if((Ie&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},ld={readContext:At,use:tc,useCallback:sp,useContext:At,useEffect:id,useImperativeHandle:rp,useInsertionEffect:np,useLayoutEffect:ip,useMemo:op,useReducer:nc,useRef:Wg,useState:function(){return nc(oi)},useDebugValue:ad,useDeferredValue:function(e,n){var a=st();return cp(a,Pe.memoizedState,e,n)},useTransition:function(){var e=nc(oi)[0],n=st().memoizedState;return[typeof e=="boolean"?e:bs(e),n]},useSyncExternalStore:Lg,useId:hp,useHostTransitionStatus:od,useFormState:Xg,useActionState:Xg,useOptimistic:function(e,n){var a=st();return Fg(a,Pe,e,n)},useMemoCache:Zu,useCacheRefresh:fp};ld.useEffectEvent=tp;var vp={readContext:At,use:tc,useCallback:sp,useContext:At,useEffect:id,useImperativeHandle:rp,useInsertionEffect:np,useLayoutEffect:ip,useMemo:op,useReducer:ed,useRef:Wg,useState:function(){return ed(oi)},useDebugValue:ad,useDeferredValue:function(e,n){var a=st();return Pe===null?rd(a,e,n):cp(a,Pe.memoizedState,e,n)},useTransition:function(){var e=ed(oi)[0],n=st().memoizedState;return[typeof e=="boolean"?e:bs(e),n]},useSyncExternalStore:Lg,useId:hp,useHostTransitionStatus:od,useFormState:Zg,useActionState:Zg,useOptimistic:function(e,n){var a=st();return Pe!==null?Fg(a,Pe,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Zu,useCacheRefresh:fp};vp.useEffectEvent=tp;function ud(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:C({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var dd={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=ln(),d=ji(o);d.payload=n,a!=null&&(d.callback=a),n=Oi(e,d,o),n!==null&&(Yt(n,e,o),ys(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=ln(),d=ji(o);d.tag=1,d.payload=n,a!=null&&(d.callback=a),n=Oi(e,d,o),n!==null&&(Yt(n,e,o),ys(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=ln(),o=ji(a);o.tag=2,n!=null&&(o.callback=n),n=Oi(e,o,a),n!==null&&(Yt(n,e,a),ys(n,e,a))}};function Cp(e,n,a,o,d,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,y):n.prototype&&n.prototype.isPureReactComponent?!ls(a,o)||!ls(d,f):!0}function Sp(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&dd.enqueueReplaceState(n,n.state,null)}function ba(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=C({},a));for(var d in e)a[d]===void 0&&(a[d]=e[d])}return a}function bp(e){Lo(e)}function _p(e){console.error(e)}function Ep(e){Lo(e)}function sc(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Ap(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function hd(e,n,a){return a=ji(a),a.tag=3,a.payload={element:null},a.callback=function(){sc(e,n)},a}function Tp(e){return e=ji(e),e.tag=3,e}function wp(e,n,a,o){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var f=o.value;e.payload=function(){return d(f)},e.callback=function(){Ap(n,a,o)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Ap(n,a,o),typeof d!="function"&&(Li===null?Li=new Set([this]):Li.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})})}function OE(e,n,a,o,d){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&sr(n,a,d,!0),a=rn.current,a!==null){switch(a.tag){case 31:case 13:return vn===null?vc():a.alternate===null&&it===0&&(it=3),a.flags&=-257,a.flags|=65536,a.lanes=d,o===Yo?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),Ld(e,o,d)),!1;case 22:return a.flags|=65536,o===Yo?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),Ld(e,o,d)),!1}throw Error(s(435,a.tag))}return Ld(e,o,d),vc(),!1}if(Te)return n=rn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,o!==Ou&&(e=Error(s(422),{cause:o}),hs(mn(e,a)))):(o!==Ou&&(n=Error(s(423),{cause:o}),hs(mn(n,a))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,o=mn(o,a),d=hd(e.stateNode,o,d),Ku(e,d),it!==4&&(it=2)),!1;var f=Error(s(520),{cause:o});if(f=mn(f,a),Os===null?Os=[f]:Os.push(f),it!==4&&(it=2),n===null)return!0;o=mn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=d&-d,a.lanes|=e,e=hd(a.stateNode,o,e),Ku(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Li===null||!Li.has(f))))return a.flags|=65536,d&=-d,a.lanes|=d,d=Tp(d),wp(d,e,a,o),Ku(a,d),!1}a=a.return}while(a!==null);return!1}var fd=Error(s(461)),ht=!1;function Tt(e,n,a,o){n.child=e===null?jg(n,null,a,o):Ca(n,e.child,a,o)}function xp(e,n,a,o,d){a=a.render;var f=n.ref;if("ref"in o){var y={};for(var S in o)S!=="ref"&&(y[S]=o[S])}else y=o;return ga(n),o=Qu(e,n,a,y,f,d),S=Ju(),e!==null&&!ht?(Xu(e,n,d),ci(e,n,d)):(Te&&S&&Ru(n),n.flags|=1,Tt(e,n,o,d),n.child)}function Np(e,n,a,o,d){if(e===null){var f=a.type;return typeof f=="function"&&!wu(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Rp(e,n,f,o,d)):(e=Bo(a.type,null,o,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!bd(e,d)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:ls,a(y,o)&&e.ref===n.ref)return ci(e,n,d)}return n.flags|=1,e=ni(f,o),e.ref=n.ref,e.return=n,n.child=e}function Rp(e,n,a,o,d){if(e!==null){var f=e.memoizedProps;if(ls(f,o)&&e.ref===n.ref)if(ht=!1,n.pendingProps=o=f,bd(e,d))(e.flags&131072)!==0&&(ht=!0);else return n.lanes=e.lanes,ci(e,n,d)}return md(e,n,a,o,d)}function jp(e,n,a,o){var d=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,d=0;o!==null;)d=d|o.lanes|o.childLanes,o=o.sibling;o=d&~f}else o=0,n.child=null;return Op(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&qo(n,f!==null?f.cachePool:null),f!==null?kg(n,f):Gu(),Mg(n);else return o=n.lanes=536870912,Op(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(qo(n,f.cachePool),kg(n,f),ki(),n.memoizedState=null):(e!==null&&qo(n,null),Gu(),ki());return Tt(e,n,d,a),n.child}function As(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Op(e,n,a,o,d){var f=Pu();return f=f===null?null:{parent:ut._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&qo(n,null),Gu(),Mg(n),e!==null&&sr(e,n,o,!0),n.childLanes=d,null}function oc(e,n){return n=lc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Ip(e,n,a){return Ca(n,e.child,null,a),e=oc(n,n.pendingProps),e.flags|=2,sn(n),n.memoizedState=null,e}function IE(e,n,a){var o=n.pendingProps,d=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Te){if(o.mode==="hidden")return e=oc(n,o),n.lanes=536870912,As(null,e);if(Vu(n),(e=qe)?(e=Gy(e,yn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ti!==null?{id:Kn,overflow:Fn}:null,retryLane:536870912,hydrationErrors:null},a=gg(e),a.return=n,n.child=a,Et=n,qe=null)):e=null,e===null)throw xi(n);return n.lanes=536870912,null}return oc(n,o)}var f=e.memoizedState;if(f!==null){var y=f.dehydrated;if(Vu(n),d)if(n.flags&256)n.flags&=-257,n=Ip(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(ht||sr(e,n,a,!1),d=(a&e.childLanes)!==0,ht||d){if(o=Be,o!==null&&(y=_m(o,a),y!==0&&y!==f.retryLane))throw f.retryLane=y,da(e,y),Yt(o,e,y),fd;vc(),n=Ip(e,n,a)}else e=f.treeContext,qe=Cn(y.nextSibling),Et=n,Te=!0,wi=null,yn=!1,e!==null&&vg(n,e),n=oc(n,o),n.flags|=4096;return n}return e=ni(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function cc(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function md(e,n,a,o,d){return ga(n),a=Qu(e,n,a,o,void 0,d),o=Ju(),e!==null&&!ht?(Xu(e,n,d),ci(e,n,d)):(Te&&o&&Ru(n),n.flags|=1,Tt(e,n,a,d),n.child)}function kp(e,n,a,o,d,f){return ga(n),n.updateQueue=null,a=Ug(n,o,a,d),Dg(e),o=Ju(),e!==null&&!ht?(Xu(e,n,f),ci(e,n,f)):(Te&&o&&Ru(n),n.flags|=1,Tt(e,n,a,f),n.child)}function Mp(e,n,a,o,d){if(ga(n),n.stateNode===null){var f=nr,y=a.contextType;typeof y=="object"&&y!==null&&(f=At(y)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=dd,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Hu(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?At(y):nr,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(ud(n,a,y,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&dd.enqueueReplaceState(f,f.state,null),Cs(n,o,f,d),vs(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var S=n.memoizedProps,_=ba(a,S);f.props=_;var I=f.context,P=a.contextType;y=nr,typeof P=="object"&&P!==null&&(y=At(P));var G=a.getDerivedStateFromProps;P=typeof G=="function"||typeof f.getSnapshotBeforeUpdate=="function",S=n.pendingProps!==S,P||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S||I!==y)&&Sp(n,f,o,y),Ri=!1;var k=n.memoizedState;f.state=k,Cs(n,o,f,d),vs(),I=n.memoizedState,S||k!==I||Ri?(typeof G=="function"&&(ud(n,a,G,o),I=n.memoizedState),(_=Ri||Cp(n,a,_,o,k,I,y))?(P||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=I),f.props=o,f.state=I,f.context=y,o=_):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Bu(e,n),y=n.memoizedProps,P=ba(a,y),f.props=P,G=n.pendingProps,k=f.context,I=a.contextType,_=nr,typeof I=="object"&&I!==null&&(_=At(I)),S=a.getDerivedStateFromProps,(I=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==G||k!==_)&&Sp(n,f,o,_),Ri=!1,k=n.memoizedState,f.state=k,Cs(n,o,f,d),vs();var U=n.memoizedState;y!==G||k!==U||Ri||e!==null&&e.dependencies!==null&&Fo(e.dependencies)?(typeof S=="function"&&(ud(n,a,S,o),U=n.memoizedState),(P=Ri||Cp(n,a,P,o,k,U,_)||e!==null&&e.dependencies!==null&&Fo(e.dependencies))?(I||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,U,_),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,U,_)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&k===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&k===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=U),f.props=o,f.state=U,f.context=_,o=P):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&k===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&k===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,cc(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Ca(n,e.child,null,d),n.child=Ca(n,null,a,d)):Tt(e,n,a,d),n.memoizedState=f.state,e=n.child):e=ci(e,n,d),e}function Dp(e,n,a,o){return fa(),n.flags|=256,Tt(e,n,a,o),n.child}var gd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pd(e){return{baseLanes:e,cachePool:Ag()}}function yd(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=cn),e}function Up(e,n,a){var o=n.pendingProps,d=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(rt.current&2)!==0),y&&(d=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,e===null){if(Te){if(d?Ii(n):ki(),(e=qe)?(e=Gy(e,yn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ti!==null?{id:Kn,overflow:Fn}:null,retryLane:536870912,hydrationErrors:null},a=gg(e),a.return=n,n.child=a,Et=n,qe=null)):e=null,e===null)throw xi(n);return Wd(e)?n.lanes=32:n.lanes=536870912,null}var S=o.children;return o=o.fallback,d?(ki(),d=n.mode,S=lc({mode:"hidden",children:S},d),o=ha(o,d,a,null),S.return=n,o.return=n,S.sibling=o,n.child=S,o=n.child,o.memoizedState=pd(a),o.childLanes=yd(e,y,a),n.memoizedState=gd,As(null,o)):(Ii(n),vd(n,S))}var _=e.memoizedState;if(_!==null&&(S=_.dehydrated,S!==null)){if(f)n.flags&256?(Ii(n),n.flags&=-257,n=Cd(e,n,a)):n.memoizedState!==null?(ki(),n.child=e.child,n.flags|=128,n=null):(ki(),S=o.fallback,d=n.mode,o=lc({mode:"visible",children:o.children},d),S=ha(S,d,a,null),S.flags|=2,o.return=n,S.return=n,o.sibling=S,n.child=o,Ca(n,e.child,null,a),o=n.child,o.memoizedState=pd(a),o.childLanes=yd(e,y,a),n.memoizedState=gd,n=As(null,o));else if(Ii(n),Wd(S)){if(y=S.nextSibling&&S.nextSibling.dataset,y)var I=y.dgst;y=I,o=Error(s(419)),o.stack="",o.digest=y,hs({value:o,source:null,stack:null}),n=Cd(e,n,a)}else if(ht||sr(e,n,a,!1),y=(a&e.childLanes)!==0,ht||y){if(y=Be,y!==null&&(o=_m(y,a),o!==0&&o!==_.retryLane))throw _.retryLane=o,da(e,o),Yt(y,e,o),fd;Zd(S)||vc(),n=Cd(e,n,a)}else Zd(S)?(n.flags|=192,n.child=e.child,n=null):(e=_.treeContext,qe=Cn(S.nextSibling),Et=n,Te=!0,wi=null,yn=!1,e!==null&&vg(n,e),n=vd(n,o.children),n.flags|=4096);return n}return d?(ki(),S=o.fallback,d=n.mode,_=e.child,I=_.sibling,o=ni(_,{mode:"hidden",children:o.children}),o.subtreeFlags=_.subtreeFlags&65011712,I!==null?S=ni(I,S):(S=ha(S,d,a,null),S.flags|=2),S.return=n,o.return=n,o.sibling=S,n.child=o,As(null,o),o=n.child,S=e.child.memoizedState,S===null?S=pd(a):(d=S.cachePool,d!==null?(_=ut._currentValue,d=d.parent!==_?{parent:_,pool:_}:d):d=Ag(),S={baseLanes:S.baseLanes|a,cachePool:d}),o.memoizedState=S,o.childLanes=yd(e,y,a),n.memoizedState=gd,As(e.child,o)):(Ii(n),a=e.child,e=a.sibling,a=ni(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(y=n.deletions,y===null?(n.deletions=[e],n.flags|=16):y.push(e)),n.child=a,n.memoizedState=null,a)}function vd(e,n){return n=lc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function lc(e,n){return e=an(22,e,null,n),e.lanes=0,e}function Cd(e,n,a){return Ca(n,e.child,null,a),e=vd(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Lp(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Mu(e.return,n,a)}function Sd(e,n,a,o,d,f){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:d,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=a,y.tailMode=d,y.treeForkCount=f)}function Pp(e,n,a){var o=n.pendingProps,d=o.revealOrder,f=o.tail;o=o.children;var y=rt.current,S=(y&2)!==0;if(S?(y=y&1|2,n.flags|=128):y&=1,J(rt,y),Tt(e,n,o,a),o=Te?ds:0,!S&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Lp(e,a,n);else if(e.tag===19)Lp(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(a=n.child,d=null;a!==null;)e=a.alternate,e!==null&&$o(e)===null&&(d=a),a=a.sibling;a=d,a===null?(d=n.child,n.child=null):(d=a.sibling,a.sibling=null),Sd(n,!1,d,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&$o(e)===null){n.child=d;break}e=d.sibling,d.sibling=a,a=d,d=e}Sd(n,!0,a,null,f,o);break;case"together":Sd(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ci(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Ui|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(sr(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=ni(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=ni(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function bd(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Fo(e)))}function kE(e,n,a){switch(n.tag){case 3:tt(n,n.stateNode.containerInfo),Ni(n,ut,e.memoizedState.cache),fa();break;case 27:case 5:_i(n);break;case 4:tt(n,n.stateNode.containerInfo);break;case 10:Ni(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Vu(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ii(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Up(e,n,a):(Ii(n),e=ci(e,n,a),e!==null?e.sibling:null);Ii(n);break;case 19:var d=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(sr(e,n,a,!1),o=(a&n.childLanes)!==0),d){if(o)return Pp(e,n,a);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),J(rt,rt.current),o)break;return null;case 22:return n.lanes=0,jp(e,n,a,n.pendingProps);case 24:Ni(n,ut,e.memoizedState.cache)}return ci(e,n,a)}function zp(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)ht=!0;else{if(!bd(e,a)&&(n.flags&128)===0)return ht=!1,kE(e,n,a);ht=(e.flags&131072)!==0}else ht=!1,Te&&(n.flags&1048576)!==0&&yg(n,ds,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(e=ya(n.elementType),n.type=e,typeof e=="function")wu(e)?(o=ba(e,o),n.tag=1,n=Mp(null,n,e,o,a)):(n.tag=0,n=md(null,n,e,o,a));else{if(e!=null){var d=e.$$typeof;if(d===X){n.tag=11,n=xp(null,n,e,o,a);break e}else if(d===q){n.tag=14,n=Np(null,n,e,o,a);break e}}throw n=We(e)||e,Error(s(306,n,""))}}return n;case 0:return md(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,d=ba(o,n.pendingProps),Mp(e,n,o,d,a);case 3:e:{if(tt(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var f=n.memoizedState;d=f.element,Bu(e,n),Cs(n,o,null,a);var y=n.memoizedState;if(o=y.cache,Ni(n,ut,o),o!==f.cache&&Du(n,[ut],a,!0),vs(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Dp(e,n,o,a);break e}else if(o!==d){d=mn(Error(s(424)),n),hs(d),n=Dp(e,n,o,a);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,qe=Cn(e.firstChild),Et=n,Te=!0,wi=null,yn=!0,a=jg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(fa(),o===d){n=ci(e,n,a);break e}Tt(e,n,o,a)}n=n.child}return n;case 26:return cc(e,n),e===null?(a=Xy(n.type,null,n.pendingProps,null))?n.memoizedState=a:Te||(a=n.type,e=n.pendingProps,o=Tc(ve.current).createElement(a),o[_t]=n,o[Bt]=e,wt(o,a,e),pt(o),n.stateNode=o):n.memoizedState=Xy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return _i(n),e===null&&Te&&(o=n.stateNode=Yy(n.type,n.pendingProps,ve.current),Et=n,yn=!0,d=qe,Bi(n.type)?(eh=d,qe=Cn(o.firstChild)):qe=d),Tt(e,n,n.pendingProps.children,a),cc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Te&&((d=o=qe)&&(o=lA(o,n.type,n.pendingProps,yn),o!==null?(n.stateNode=o,Et=n,qe=Cn(o.firstChild),yn=!1,d=!0):d=!1),d||xi(n)),_i(n),d=n.type,f=n.pendingProps,y=e!==null?e.memoizedProps:null,o=f.children,Jd(d,f)?o=null:y!==null&&Jd(d,y)&&(n.flags|=32),n.memoizedState!==null&&(d=Qu(e,n,AE,null,null,a),zs._currentValue=d),cc(e,n),Tt(e,n,o,a),n.child;case 6:return e===null&&Te&&((e=a=qe)&&(a=uA(a,n.pendingProps,yn),a!==null?(n.stateNode=a,Et=n,qe=null,e=!0):e=!1),e||xi(n)),null;case 13:return Up(e,n,a);case 4:return tt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Ca(n,null,o,a):Tt(e,n,o,a),n.child;case 11:return xp(e,n,n.type,n.pendingProps,a);case 7:return Tt(e,n,n.pendingProps,a),n.child;case 8:return Tt(e,n,n.pendingProps.children,a),n.child;case 12:return Tt(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Ni(n,n.type,o.value),Tt(e,n,o.children,a),n.child;case 9:return d=n.type._context,o=n.pendingProps.children,ga(n),d=At(d),o=o(d),n.flags|=1,Tt(e,n,o,a),n.child;case 14:return Np(e,n,n.type,n.pendingProps,a);case 15:return Rp(e,n,n.type,n.pendingProps,a);case 19:return Pp(e,n,a);case 31:return IE(e,n,a);case 22:return jp(e,n,a,n.pendingProps);case 24:return ga(n),o=At(ut),e===null?(d=Pu(),d===null&&(d=Be,f=Uu(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=a),d=f),n.memoizedState={parent:o,cache:d},Hu(n),Ni(n,ut,d)):((e.lanes&a)!==0&&(Bu(e,n),Cs(n,null,null,a),vs()),d=e.memoizedState,f=n.memoizedState,d.parent!==o?(d={parent:o,cache:o},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),Ni(n,ut,o)):(o=f.cache,Ni(n,ut,o),o!==d.cache&&Du(n,[ut],a,!0))),Tt(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function li(e){e.flags|=4}function _d(e,n,a,o,d){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(hy())e.flags|=8192;else throw va=Yo,zu}else e.flags&=-16777217}function Hp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!tv(n))if(hy())e.flags|=8192;else throw va=Yo,zu}function uc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Cm():536870912,e.lanes|=n,vr|=n)}function Ts(e,n){if(!Te)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Ve(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var d=e.child;d!==null;)a|=d.lanes|d.childLanes,o|=d.subtreeFlags&65011712,o|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)a|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function ME(e,n,a){var o=n.pendingProps;switch(ju(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(n),null;case 1:return Ve(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ri(ut),Fe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(rr(n)?li(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Iu())),Ve(n),null;case 26:var d=n.type,f=n.memoizedState;return e===null?(li(n),f!==null?(Ve(n),Hp(n,f)):(Ve(n),_d(n,d,null,o,a))):f?f!==e.memoizedState?(li(n),Ve(n),Hp(n,f)):(Ve(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&li(n),Ve(n),_d(n,d,e,o,a)),null;case 27:if($n(n),a=ve.current,d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&li(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return Ve(n),null}e=W.current,rr(n)?Cg(n):(e=Yy(d,o,a),n.stateNode=e,li(n))}return Ve(n),null;case 5:if($n(n),d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&li(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return Ve(n),null}if(f=W.current,rr(n))Cg(n);else{var y=Tc(ve.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?y.createElement(d,{is:o.is}):y.createElement(d)}}f[_t]=n,f[Bt]=o;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;e:switch(wt(f,d,o),d){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&li(n)}}return Ve(n),_d(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&li(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=ve.current,rr(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,d=Et,d!==null)switch(d.tag){case 27:case 5:o=d.memoizedProps}e[_t]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Uy(e.nodeValue,a)),e||xi(n,!0)}else e=Tc(e).createTextNode(o),e[_t]=n,n.stateNode=e}return Ve(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=rr(n),a!==null){if(e===null){if(!o)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[_t]=n}else fa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ve(n),e=!1}else a=Iu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(sn(n),n):(sn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return Ve(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=rr(n),o!==null&&o.dehydrated!==null){if(e===null){if(!d)throw Error(s(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[_t]=n}else fa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ve(n),d=!1}else d=Iu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(sn(n),n):(sn(n),null)}return sn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,d=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(d=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==d&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),uc(n,n.updateQueue),Ve(n),null);case 4:return Fe(),e===null&&Gd(n.stateNode.containerInfo),Ve(n),null;case 10:return ri(n.type),Ve(n),null;case 19:if(B(rt),o=n.memoizedState,o===null)return Ve(n),null;if(d=(n.flags&128)!==0,f=o.rendering,f===null)if(d)Ts(o,!1);else{if(it!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=$o(e),f!==null){for(n.flags|=128,Ts(o,!1),e=f.updateQueue,n.updateQueue=e,uc(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)mg(a,e),a=a.sibling;return J(rt,rt.current&1|2),Te&&ii(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Rt()>gc&&(n.flags|=128,d=!0,Ts(o,!1),n.lanes=4194304)}else{if(!d)if(e=$o(f),e!==null){if(n.flags|=128,d=!0,e=e.updateQueue,n.updateQueue=e,uc(n,e),Ts(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Te)return Ve(n),null}else 2*Rt()-o.renderingStartTime>gc&&a!==536870912&&(n.flags|=128,d=!0,Ts(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Rt(),e.sibling=null,a=rt.current,J(rt,d?a&1|2:a&1),Te&&ii(n,o.treeForkCount),e):(Ve(n),null);case 22:case 23:return sn(n),qu(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(Ve(n),n.subtreeFlags&6&&(n.flags|=8192)):Ve(n),a=n.updateQueue,a!==null&&uc(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&B(pa),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ri(ut),Ve(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function DE(e,n){switch(ju(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ri(ut),Fe(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return $n(n),null;case 31:if(n.memoizedState!==null){if(sn(n),n.alternate===null)throw Error(s(340));fa()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(sn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));fa()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return B(rt),null;case 4:return Fe(),null;case 10:return ri(n.type),null;case 22:case 23:return sn(n),qu(),e!==null&&B(pa),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ri(ut),null;case 25:return null;default:return null}}function Bp(e,n){switch(ju(n),n.tag){case 3:ri(ut),Fe();break;case 26:case 27:case 5:$n(n);break;case 4:Fe();break;case 31:n.memoizedState!==null&&sn(n);break;case 13:sn(n);break;case 19:B(rt);break;case 10:ri(n.type);break;case 22:case 23:sn(n),qu(),e!==null&&B(pa);break;case 24:ri(ut)}}function ws(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var d=o.next;a=d;do{if((a.tag&e)===e){o=void 0;var f=a.create,y=a.inst;o=f(),y.destroy=o}a=a.next}while(a!==d)}}catch(S){Ue(n,n.return,S)}}function Mi(e,n,a){try{var o=n.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var f=d.next;o=f;do{if((o.tag&e)===e){var y=o.inst,S=y.destroy;if(S!==void 0){y.destroy=void 0,d=n;var _=a,I=S;try{I()}catch(P){Ue(d,_,P)}}}o=o.next}while(o!==f)}}catch(P){Ue(n,n.return,P)}}function Kp(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{Ig(n,a)}catch(o){Ue(e,e.return,o)}}}function Fp(e,n,a){a.props=ba(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Ue(e,n,o)}}function xs(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(d){Ue(e,n,d)}}function Gn(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(d){Ue(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){Ue(e,n,d)}else a.current=null}function Gp(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(d){Ue(e,e.return,d)}}function Ed(e,n,a){try{var o=e.stateNode;iA(o,e.type,a,n),o[Bt]=n}catch(d){Ue(e,e.return,d)}}function qp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Bi(e.type)||e.tag===4}function Ad(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Bi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Td(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ei));else if(o!==4&&(o===27&&Bi(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Td(e,n,a),e=e.sibling;e!==null;)Td(e,n,a),e=e.sibling}function dc(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&Bi(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(dc(e,n,a),e=e.sibling;e!==null;)dc(e,n,a),e=e.sibling}function Vp(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);wt(n,o,a),n[_t]=e,n[Bt]=a}catch(f){Ue(e,e.return,f)}}var ui=!1,ft=!1,wd=!1,Yp=typeof WeakSet=="function"?WeakSet:Set,yt=null;function UE(e,n){if(e=e.containerInfo,Yd=Ic,e=rg(e),Cu(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var d=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var y=0,S=-1,_=-1,I=0,P=0,G=e,k=null;t:for(;;){for(var U;G!==a||d!==0&&G.nodeType!==3||(S=y+d),G!==f||o!==0&&G.nodeType!==3||(_=y+o),G.nodeType===3&&(y+=G.nodeValue.length),(U=G.firstChild)!==null;)k=G,G=U;for(;;){if(G===e)break t;if(k===a&&++I===d&&(S=y),k===f&&++P===o&&(_=y),(U=G.nextSibling)!==null)break;G=k,k=G.parentNode}G=U}a=S===-1||_===-1?null:{start:S,end:_}}else a=null}a=a||{start:0,end:0}}else a=null;for(Qd={focusedElem:e,selectionRange:a},Ic=!1,yt=n;yt!==null;)if(n=yt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,yt=e;else for(;yt!==null;){switch(n=yt,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)d=e[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,d=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var te=ba(a.type,d);e=o.getSnapshotBeforeUpdate(te,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(oe){Ue(a,a.return,oe)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)$d(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":$d(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,yt=e;break}yt=n.return}}function Qp(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:hi(e,a),o&4&&ws(5,a);break;case 1:if(hi(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(y){Ue(a,a.return,y)}else{var d=ba(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Ue(a,a.return,y)}}o&64&&Kp(a),o&512&&xs(a,a.return);break;case 3:if(hi(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Ig(e,n)}catch(y){Ue(a,a.return,y)}}break;case 27:n===null&&o&4&&Vp(a);case 26:case 5:hi(e,a),n===null&&o&4&&Gp(a),o&512&&xs(a,a.return);break;case 12:hi(e,a);break;case 31:hi(e,a),o&4&&$p(e,a);break;case 13:hi(e,a),o&4&&Zp(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=qE.bind(null,a),dA(e,a))));break;case 22:if(o=a.memoizedState!==null||ui,!o){n=n!==null&&n.memoizedState!==null||ft,d=ui;var f=ft;ui=o,(ft=n)&&!f?fi(e,a,(a.subtreeFlags&8772)!==0):hi(e,a),ui=d,ft=f}break;case 30:break;default:hi(e,a)}}function Jp(e){var n=e.alternate;n!==null&&(e.alternate=null,Jp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&nu(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Je=null,Ft=!1;function di(e,n,a){for(a=a.child;a!==null;)Xp(e,n,a),a=a.sibling}function Xp(e,n,a){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(Re,a)}catch{}switch(a.tag){case 26:ft||Gn(a,n),di(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ft||Gn(a,n);var o=Je,d=Ft;Bi(a.type)&&(Je=a.stateNode,Ft=!1),di(e,n,a),Us(a.stateNode),Je=o,Ft=d;break;case 5:ft||Gn(a,n);case 6:if(o=Je,d=Ft,Je=null,di(e,n,a),Je=o,Ft=d,Je!==null)if(Ft)try{(Je.nodeType===9?Je.body:Je.nodeName==="HTML"?Je.ownerDocument.body:Je).removeChild(a.stateNode)}catch(f){Ue(a,n,f)}else try{Je.removeChild(a.stateNode)}catch(f){Ue(a,n,f)}break;case 18:Je!==null&&(Ft?(e=Je,Ky(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),wr(e)):Ky(Je,a.stateNode));break;case 4:o=Je,d=Ft,Je=a.stateNode.containerInfo,Ft=!0,di(e,n,a),Je=o,Ft=d;break;case 0:case 11:case 14:case 15:Mi(2,a,n),ft||Mi(4,a,n),di(e,n,a);break;case 1:ft||(Gn(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Fp(a,n,o)),di(e,n,a);break;case 21:di(e,n,a);break;case 22:ft=(o=ft)||a.memoizedState!==null,di(e,n,a),ft=o;break;default:di(e,n,a)}}function $p(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{wr(e)}catch(a){Ue(n,n.return,a)}}}function Zp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{wr(e)}catch(a){Ue(n,n.return,a)}}function LE(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Yp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Yp),n;default:throw Error(s(435,e.tag))}}function hc(e,n){var a=LE(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var d=VE.bind(null,e,o);o.then(d,d)}})}function Gt(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var d=a[o],f=e,y=n,S=y;e:for(;S!==null;){switch(S.tag){case 27:if(Bi(S.type)){Je=S.stateNode,Ft=!1;break e}break;case 5:Je=S.stateNode,Ft=!1;break e;case 3:case 4:Je=S.stateNode.containerInfo,Ft=!0;break e}S=S.return}if(Je===null)throw Error(s(160));Xp(f,y,d),Je=null,Ft=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Wp(n,e),n=n.sibling}var jn=null;function Wp(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Gt(n,e),qt(e),o&4&&(Mi(3,e,e.return),ws(3,e),Mi(5,e,e.return));break;case 1:Gt(n,e),qt(e),o&512&&(ft||a===null||Gn(a,a.return)),o&64&&ui&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var d=jn;if(Gt(n,e),qt(e),o&512&&(ft||a===null||Gn(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){e:{o=e.type,a=e.memoizedProps,d=d.ownerDocument||d;t:switch(o){case"title":f=d.getElementsByTagName("title")[0],(!f||f[es]||f[_t]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(o),d.head.insertBefore(f,d.querySelector("head > title"))),wt(f,o,a),f[_t]=e,pt(f),o=f;break e;case"link":var y=Wy("link","href",d).get(o+(a.href||""));if(y){for(var S=0;S<y.length;S++)if(f=y[S],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(S,1);break t}}f=d.createElement(o),wt(f,o,a),d.head.appendChild(f);break;case"meta":if(y=Wy("meta","content",d).get(o+(a.content||""))){for(S=0;S<y.length;S++)if(f=y[S],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(S,1);break t}}f=d.createElement(o),wt(f,o,a),d.head.appendChild(f);break;default:throw Error(s(468,o))}f[_t]=e,pt(f),o=f}e.stateNode=o}else ev(d,e.type,e.stateNode);else e.stateNode=Zy(d,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?ev(d,e.type,e.stateNode):Zy(d,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Ed(e,e.memoizedProps,a.memoizedProps)}break;case 27:Gt(n,e),qt(e),o&512&&(ft||a===null||Gn(a,a.return)),a!==null&&o&4&&Ed(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Gt(n,e),qt(e),o&512&&(ft||a===null||Gn(a,a.return)),e.flags&32){d=e.stateNode;try{Ja(d,"")}catch(te){Ue(e,e.return,te)}}o&4&&e.stateNode!=null&&(d=e.memoizedProps,Ed(e,d,a!==null?a.memoizedProps:d)),o&1024&&(wd=!0);break;case 6:if(Gt(n,e),qt(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(te){Ue(e,e.return,te)}}break;case 3:if(Nc=null,d=jn,jn=wc(n.containerInfo),Gt(n,e),jn=d,qt(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{wr(n.containerInfo)}catch(te){Ue(e,e.return,te)}wd&&(wd=!1,ey(e));break;case 4:o=jn,jn=wc(e.stateNode.containerInfo),Gt(n,e),qt(e),jn=o;break;case 12:Gt(n,e),qt(e);break;case 31:Gt(n,e),qt(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,hc(e,o)));break;case 13:Gt(n,e),qt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(mc=Rt()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,hc(e,o)));break;case 22:d=e.memoizedState!==null;var _=a!==null&&a.memoizedState!==null,I=ui,P=ft;if(ui=I||d,ft=P||_,Gt(n,e),ft=P,ui=I,qt(e),o&8192)e:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(a===null||_||ui||ft||_a(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){_=a=n;try{if(f=_.stateNode,d)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{S=_.stateNode;var G=_.memoizedProps.style,k=G!=null&&G.hasOwnProperty("display")?G.display:null;S.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(te){Ue(_,_.return,te)}}}else if(n.tag===6){if(a===null){_=n;try{_.stateNode.nodeValue=d?"":_.memoizedProps}catch(te){Ue(_,_.return,te)}}}else if(n.tag===18){if(a===null){_=n;try{var U=_.stateNode;d?Fy(U,!0):Fy(_.stateNode,!1)}catch(te){Ue(_,_.return,te)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,hc(e,a))));break;case 19:Gt(n,e),qt(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,hc(e,o)));break;case 30:break;case 21:break;default:Gt(n,e),qt(e)}}function qt(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(qp(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var d=a.stateNode,f=Ad(e);dc(e,f,d);break;case 5:var y=a.stateNode;a.flags&32&&(Ja(y,""),a.flags&=-33);var S=Ad(e);dc(e,S,y);break;case 3:case 4:var _=a.stateNode.containerInfo,I=Ad(e);Td(e,I,_);break;default:throw Error(s(161))}}catch(P){Ue(e,e.return,P)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ey(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ey(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function hi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Qp(e,n.alternate,n),n=n.sibling}function _a(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Mi(4,n,n.return),_a(n);break;case 1:Gn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Fp(n,n.return,a),_a(n);break;case 27:Us(n.stateNode);case 26:case 5:Gn(n,n.return),_a(n);break;case 22:n.memoizedState===null&&_a(n);break;case 30:_a(n);break;default:_a(n)}e=e.sibling}}function fi(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,d=e,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:fi(d,f,a),ws(4,f);break;case 1:if(fi(d,f,a),o=f,d=o.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(I){Ue(o,o.return,I)}if(o=f,d=o.updateQueue,d!==null){var S=o.stateNode;try{var _=d.shared.hiddenCallbacks;if(_!==null)for(d.shared.hiddenCallbacks=null,d=0;d<_.length;d++)Og(_[d],S)}catch(I){Ue(o,o.return,I)}}a&&y&64&&Kp(f),xs(f,f.return);break;case 27:Vp(f);case 26:case 5:fi(d,f,a),a&&o===null&&y&4&&Gp(f),xs(f,f.return);break;case 12:fi(d,f,a);break;case 31:fi(d,f,a),a&&y&4&&$p(d,f);break;case 13:fi(d,f,a),a&&y&4&&Zp(d,f);break;case 22:f.memoizedState===null&&fi(d,f,a),xs(f,f.return);break;case 30:break;default:fi(d,f,a)}n=n.sibling}}function xd(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&fs(a))}function Nd(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&fs(e))}function On(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ty(e,n,a,o),n=n.sibling}function ty(e,n,a,o){var d=n.flags;switch(n.tag){case 0:case 11:case 15:On(e,n,a,o),d&2048&&ws(9,n);break;case 1:On(e,n,a,o);break;case 3:On(e,n,a,o),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&fs(e)));break;case 12:if(d&2048){On(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,y=f.id,S=f.onPostCommit;typeof S=="function"&&S(y,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){Ue(n,n.return,_)}}else On(e,n,a,o);break;case 31:On(e,n,a,o);break;case 13:On(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?On(e,n,a,o):Ns(e,n):f._visibility&2?On(e,n,a,o):(f._visibility|=2,gr(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),d&2048&&xd(y,n);break;case 24:On(e,n,a,o),d&2048&&Nd(n.alternate,n);break;default:On(e,n,a,o)}}function gr(e,n,a,o,d){for(d=d&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,y=n,S=a,_=o,I=y.flags;switch(y.tag){case 0:case 11:case 15:gr(f,y,S,_,d),ws(8,y);break;case 23:break;case 22:var P=y.stateNode;y.memoizedState!==null?P._visibility&2?gr(f,y,S,_,d):Ns(f,y):(P._visibility|=2,gr(f,y,S,_,d)),d&&I&2048&&xd(y.alternate,y);break;case 24:gr(f,y,S,_,d),d&&I&2048&&Nd(y.alternate,y);break;default:gr(f,y,S,_,d)}n=n.sibling}}function Ns(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,d=o.flags;switch(o.tag){case 22:Ns(a,o),d&2048&&xd(o.alternate,o);break;case 24:Ns(a,o),d&2048&&Nd(o.alternate,o);break;default:Ns(a,o)}n=n.sibling}}var Rs=8192;function pr(e,n,a){if(e.subtreeFlags&Rs)for(e=e.child;e!==null;)ny(e,n,a),e=e.sibling}function ny(e,n,a){switch(e.tag){case 26:pr(e,n,a),e.flags&Rs&&e.memoizedState!==null&&EA(a,jn,e.memoizedState,e.memoizedProps);break;case 5:pr(e,n,a);break;case 3:case 4:var o=jn;jn=wc(e.stateNode.containerInfo),pr(e,n,a),jn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Rs,Rs=16777216,pr(e,n,a),Rs=o):pr(e,n,a));break;default:pr(e,n,a)}}function iy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function js(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];yt=o,ry(o,e)}iy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ay(e),e=e.sibling}function ay(e){switch(e.tag){case 0:case 11:case 15:js(e),e.flags&2048&&Mi(9,e,e.return);break;case 3:js(e);break;case 12:js(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,fc(e)):js(e);break;default:js(e)}}function fc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];yt=o,ry(o,e)}iy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Mi(8,n,n.return),fc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,fc(n));break;default:fc(n)}e=e.sibling}}function ry(e,n){for(;yt!==null;){var a=yt;switch(a.tag){case 0:case 11:case 15:Mi(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:fs(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,yt=o;else e:for(a=e;yt!==null;){o=yt;var d=o.sibling,f=o.return;if(Jp(o),o===a){yt=null;break e}if(d!==null){d.return=f,yt=d;break e}yt=f}}}var PE={getCacheForType:function(e){var n=At(ut),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return At(ut).controller.signal}},zE=typeof WeakMap=="function"?WeakMap:Map,Ie=0,Be=null,Se=null,_e=0,De=0,on=null,Di=!1,yr=!1,Rd=!1,mi=0,it=0,Ui=0,Ea=0,jd=0,cn=0,vr=0,Os=null,Vt=null,Od=!1,mc=0,sy=0,gc=1/0,pc=null,Li=null,gt=0,Pi=null,Cr=null,gi=0,Id=0,kd=null,oy=null,Is=0,Md=null;function ln(){return(Ie&2)!==0&&_e!==0?_e&-_e:L.T!==null?Hd():Em()}function cy(){if(cn===0)if((_e&536870912)===0||Te){var e=Ao;Ao<<=1,(Ao&3932160)===0&&(Ao=262144),cn=e}else cn=536870912;return e=rn.current,e!==null&&(e.flags|=32),cn}function Yt(e,n,a){(e===Be&&(De===2||De===9)||e.cancelPendingCommit!==null)&&(Sr(e,0),zi(e,_e,cn,!1)),Wr(e,a),((Ie&2)===0||e!==Be)&&(e===Be&&((Ie&2)===0&&(Ea|=a),it===4&&zi(e,_e,cn,!1)),qn(e))}function ly(e,n,a){if((Ie&6)!==0)throw Error(s(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||Zr(e,n),d=o?KE(e,n):Ud(e,n,!0),f=o;do{if(d===0){yr&&!o&&zi(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!HE(a)){d=Ud(e,n,!1),f=!1;continue}if(d===2){if(f=n,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var S=e;d=Os;var _=S.current.memoizedState.isDehydrated;if(_&&(Sr(S,y).flags|=256),y=Ud(S,y,!1),y!==2){if(Rd&&!_){S.errorRecoveryDisabledLanes|=f,Ea|=f,d=4;break e}f=Vt,Vt=d,f!==null&&(Vt===null?Vt=f:Vt.push.apply(Vt,f))}d=y}if(f=!1,d!==2)continue}}if(d===1){Sr(e,0),zi(e,n,0,!0);break}e:{switch(o=e,f=d,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:zi(o,n,cn,!Di);break e;case 2:Vt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(d=mc+300-Rt(),10<d)){if(zi(o,n,cn,!Di),wo(o,0,!0)!==0)break e;gi=n,o.timeoutHandle=Hy(uy.bind(null,o,a,Vt,pc,Od,n,cn,Ea,vr,Di,f,"Throttled",-0,0),d);break e}uy(o,a,Vt,pc,Od,n,cn,Ea,vr,Di,f,null,-0,0)}}break}while(!0);qn(e)}function uy(e,n,a,o,d,f,y,S,_,I,P,G,k,U){if(e.timeoutHandle=-1,G=n.subtreeFlags,G&8192||(G&16785408)===16785408){G={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ei},ny(n,f,G);var te=(f&62914560)===f?mc-Rt():(f&4194048)===f?sy-Rt():0;if(te=AA(G,te),te!==null){gi=f,e.cancelPendingCommit=te(vy.bind(null,e,n,f,a,o,d,y,S,_,P,G,null,k,U)),zi(e,f,y,!I);return}}vy(e,n,f,a,o,d,y,S,_)}function HE(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var d=a[o],f=d.getSnapshot;d=d.value;try{if(!nn(f(),d))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function zi(e,n,a,o){n&=~jd,n&=~Ea,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var d=n;0<d;){var f=31-bt(d),y=1<<f;o[f]=-1,d&=~y}a!==0&&Sm(e,a,n)}function yc(){return(Ie&6)===0?(ks(0),!1):!0}function Dd(){if(Se!==null){if(De===0)var e=Se.return;else e=Se,ai=ma=null,$u(e),ur=null,gs=0,e=Se;for(;e!==null;)Bp(e.alternate,e),e=e.return;Se=null}}function Sr(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,sA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),gi=0,Dd(),Be=e,Se=a=ni(e.current,null),_e=n,De=0,on=null,Di=!1,yr=Zr(e,n),Rd=!1,vr=cn=jd=Ea=Ui=it=0,Vt=Os=null,Od=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var d=31-bt(o),f=1<<d;n|=e[d],o&=~f}return mi=n,Po(),a}function dy(e,n){me=null,L.H=Es,n===lr||n===Vo?(n=xg(),De=3):n===zu?(n=xg(),De=4):De=n===fd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,on=n,Se===null&&(it=1,sc(e,mn(n,e.current)))}function hy(){var e=rn.current;return e===null?!0:(_e&4194048)===_e?vn===null:(_e&62914560)===_e||(_e&536870912)!==0?e===vn:!1}function fy(){var e=L.H;return L.H=Es,e===null?Es:e}function my(){var e=L.A;return L.A=PE,e}function vc(){it=4,Di||(_e&4194048)!==_e&&rn.current!==null||(yr=!0),(Ui&134217727)===0&&(Ea&134217727)===0||Be===null||zi(Be,_e,cn,!1)}function Ud(e,n,a){var o=Ie;Ie|=2;var d=fy(),f=my();(Be!==e||_e!==n)&&(pc=null,Sr(e,n)),n=!1;var y=it;e:do try{if(De!==0&&Se!==null){var S=Se,_=on;switch(De){case 8:Dd(),y=6;break e;case 3:case 2:case 9:case 6:rn.current===null&&(n=!0);var I=De;if(De=0,on=null,br(e,S,_,I),a&&yr){y=0;break e}break;default:I=De,De=0,on=null,br(e,S,_,I)}}BE(),y=it;break}catch(P){dy(e,P)}while(!0);return n&&e.shellSuspendCounter++,ai=ma=null,Ie=o,L.H=d,L.A=f,Se===null&&(Be=null,_e=0,Po()),y}function BE(){for(;Se!==null;)gy(Se)}function KE(e,n){var a=Ie;Ie|=2;var o=fy(),d=my();Be!==e||_e!==n?(pc=null,gc=Rt()+500,Sr(e,n)):yr=Zr(e,n);e:do try{if(De!==0&&Se!==null){n=Se;var f=on;t:switch(De){case 1:De=0,on=null,br(e,n,f,1);break;case 2:case 9:if(Tg(f)){De=0,on=null,py(n);break}n=function(){De!==2&&De!==9||Be!==e||(De=7),qn(e)},f.then(n,n);break e;case 3:De=7;break e;case 4:De=5;break e;case 7:Tg(f)?(De=0,on=null,py(n)):(De=0,on=null,br(e,n,f,7));break;case 5:var y=null;switch(Se.tag){case 26:y=Se.memoizedState;case 5:case 27:var S=Se;if(y?tv(y):S.stateNode.complete){De=0,on=null;var _=S.sibling;if(_!==null)Se=_;else{var I=S.return;I!==null?(Se=I,Cc(I)):Se=null}break t}}De=0,on=null,br(e,n,f,5);break;case 6:De=0,on=null,br(e,n,f,6);break;case 8:Dd(),it=6;break e;default:throw Error(s(462))}}FE();break}catch(P){dy(e,P)}while(!0);return ai=ma=null,L.H=o,L.A=d,Ie=a,Se!==null?0:(Be=null,_e=0,Po(),it)}function FE(){for(;Se!==null&&!Ql();)gy(Se)}function gy(e){var n=zp(e.alternate,e,mi);e.memoizedProps=e.pendingProps,n===null?Cc(e):Se=n}function py(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=kp(a,n,n.pendingProps,n.type,void 0,_e);break;case 11:n=kp(a,n,n.pendingProps,n.type.render,n.ref,_e);break;case 5:$u(n);default:Bp(a,n),n=Se=mg(n,mi),n=zp(a,n,mi)}e.memoizedProps=e.pendingProps,n===null?Cc(e):Se=n}function br(e,n,a,o){ai=ma=null,$u(n),ur=null,gs=0;var d=n.return;try{if(OE(e,d,n,a,_e)){it=1,sc(e,mn(a,e.current)),Se=null;return}}catch(f){if(d!==null)throw Se=d,f;it=1,sc(e,mn(a,e.current)),Se=null;return}n.flags&32768?(Te||o===1?e=!0:yr||(_e&536870912)!==0?e=!1:(Di=e=!0,(o===2||o===9||o===3||o===6)&&(o=rn.current,o!==null&&o.tag===13&&(o.flags|=16384))),yy(n,e)):Cc(n)}function Cc(e){var n=e;do{if((n.flags&32768)!==0){yy(n,Di);return}e=n.return;var a=ME(n.alternate,n,mi);if(a!==null){Se=a;return}if(n=n.sibling,n!==null){Se=n;return}Se=n=e}while(n!==null);it===0&&(it=5)}function yy(e,n){do{var a=DE(e.alternate,e);if(a!==null){a.flags&=32767,Se=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Se=e;return}Se=e=a}while(e!==null);it=6,Se=null}function vy(e,n,a,o,d,f,y,S,_){e.cancelPendingCommit=null;do Sc();while(gt!==0);if((Ie&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Au,__(e,a,f,y,S,_),e===Be&&(Se=Be=null,_e=0),Cr=n,Pi=e,gi=a,Id=f,kd=d,oy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,YE(Ba,function(){return Ey(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=L.T,L.T=null,d=Q.p,Q.p=2,y=Ie,Ie|=4;try{UE(e,n,a)}finally{Ie=y,Q.p=d,L.T=o}}gt=1,Cy(),Sy(),by()}}function Cy(){if(gt===1){gt=0;var e=Pi,n=Cr,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=L.T,L.T=null;var o=Q.p;Q.p=2;var d=Ie;Ie|=4;try{Wp(n,e);var f=Qd,y=rg(e.containerInfo),S=f.focusedElem,_=f.selectionRange;if(y!==S&&S&&S.ownerDocument&&ag(S.ownerDocument.documentElement,S)){if(_!==null&&Cu(S)){var I=_.start,P=_.end;if(P===void 0&&(P=I),"selectionStart"in S)S.selectionStart=I,S.selectionEnd=Math.min(P,S.value.length);else{var G=S.ownerDocument||document,k=G&&G.defaultView||window;if(k.getSelection){var U=k.getSelection(),te=S.textContent.length,oe=Math.min(_.start,te),He=_.end===void 0?oe:Math.min(_.end,te);!U.extend&&oe>He&&(y=He,He=oe,oe=y);var R=ig(S,oe),w=ig(S,He);if(R&&w&&(U.rangeCount!==1||U.anchorNode!==R.node||U.anchorOffset!==R.offset||U.focusNode!==w.node||U.focusOffset!==w.offset)){var O=G.createRange();O.setStart(R.node,R.offset),U.removeAllRanges(),oe>He?(U.addRange(O),U.extend(w.node,w.offset)):(O.setEnd(w.node,w.offset),U.addRange(O))}}}}for(G=[],U=S;U=U.parentNode;)U.nodeType===1&&G.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<G.length;S++){var K=G[S];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Ic=!!Yd,Qd=Yd=null}finally{Ie=d,Q.p=o,L.T=a}}e.current=n,gt=2}}function Sy(){if(gt===2){gt=0;var e=Pi,n=Cr,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=L.T,L.T=null;var o=Q.p;Q.p=2;var d=Ie;Ie|=4;try{Qp(e,n.alternate,n)}finally{Ie=d,Q.p=o,L.T=a}}gt=3}}function by(){if(gt===4||gt===3){gt=0,Jl();var e=Pi,n=Cr,a=gi,o=oy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?gt=5:(gt=0,Cr=Pi=null,_y(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(Li=null),eu(a),n=n.stateNode,Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(Re,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=L.T,d=Q.p,Q.p=2,L.T=null;try{for(var f=e.onRecoverableError,y=0;y<o.length;y++){var S=o[y];f(S.value,{componentStack:S.stack})}}finally{L.T=n,Q.p=d}}(gi&3)!==0&&Sc(),qn(e),d=e.pendingLanes,(a&261930)!==0&&(d&42)!==0?e===Md?Is++:(Is=0,Md=e):Is=0,ks(0)}}function _y(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,fs(n)))}function Sc(){return Cy(),Sy(),by(),Ey()}function Ey(){if(gt!==5)return!1;var e=Pi,n=Id;Id=0;var a=eu(gi),o=L.T,d=Q.p;try{Q.p=32>a?32:a,L.T=null,a=kd,kd=null;var f=Pi,y=gi;if(gt=0,Cr=Pi=null,gi=0,(Ie&6)!==0)throw Error(s(331));var S=Ie;if(Ie|=4,ay(f.current),ty(f,f.current,y,a),Ie=S,ks(0,!1),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(Re,f)}catch{}return!0}finally{Q.p=d,L.T=o,_y(e,n)}}function Ay(e,n,a){n=mn(a,n),n=hd(e.stateNode,n,2),e=Oi(e,n,2),e!==null&&(Wr(e,2),qn(e))}function Ue(e,n,a){if(e.tag===3)Ay(e,e,a);else for(;n!==null;){if(n.tag===3){Ay(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Li===null||!Li.has(o))){e=mn(a,e),a=Tp(2),o=Oi(n,a,2),o!==null&&(wp(a,o,n,e),Wr(o,2),qn(o));break}}n=n.return}}function Ld(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new zE;var d=new Set;o.set(n,d)}else d=o.get(n),d===void 0&&(d=new Set,o.set(n,d));d.has(a)||(Rd=!0,d.add(a),e=GE.bind(null,e,n,a),n.then(e,e))}function GE(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Be===e&&(_e&a)===a&&(it===4||it===3&&(_e&62914560)===_e&&300>Rt()-mc?(Ie&2)===0&&Sr(e,0):jd|=a,vr===_e&&(vr=0)),qn(e)}function Ty(e,n){n===0&&(n=Cm()),e=da(e,n),e!==null&&(Wr(e,n),qn(e))}function qE(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),Ty(e,a)}function VE(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,d=e.memoizedState;d!==null&&(a=d.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),Ty(e,a)}function YE(e,n){return Xr(e,n)}var bc=null,_r=null,Pd=!1,_c=!1,zd=!1,Hi=0;function qn(e){e!==_r&&e.next===null&&(_r===null?bc=_r=e:_r=_r.next=e),_c=!0,Pd||(Pd=!0,JE())}function ks(e,n){if(!zd&&_c){zd=!0;do for(var a=!1,o=bc;o!==null;){if(e!==0){var d=o.pendingLanes;if(d===0)var f=0;else{var y=o.suspendedLanes,S=o.pingedLanes;f=(1<<31-bt(42|e)+1)-1,f&=d&~(y&~S),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Ry(o,f))}else f=_e,f=wo(o,o===Be?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Zr(o,f)||(a=!0,Ry(o,f));o=o.next}while(a);zd=!1}}function QE(){wy()}function wy(){_c=Pd=!1;var e=0;Hi!==0&&rA()&&(e=Hi);for(var n=Rt(),a=null,o=bc;o!==null;){var d=o.next,f=xy(o,n);f===0?(o.next=null,a===null?bc=d:a.next=d,d===null&&(_r=a)):(a=o,(e!==0||(f&3)!==0)&&(_c=!0)),o=d}gt!==0&&gt!==5||ks(e),Hi!==0&&(Hi=0)}function xy(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,d=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-bt(f),S=1<<y,_=d[y];_===-1?((S&a)===0||(S&o)!==0)&&(d[y]=b_(S,n)):_<=n&&(e.expiredLanes|=S),f&=~S}if(n=Be,a=_e,a=wo(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(De===2||De===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&$r(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Zr(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&$r(o),eu(a)){case 2:case 8:a=_o;break;case 32:a=Ba;break;case 268435456:a=$;break;default:a=Ba}return o=Ny.bind(null,e),a=Xr(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&$r(o),e.callbackPriority=2,e.callbackNode=null,2}function Ny(e,n){if(gt!==0&&gt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Sc()&&e.callbackNode!==a)return null;var o=_e;return o=wo(e,e===Be?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(ly(e,o,n),xy(e,Rt()),e.callbackNode!=null&&e.callbackNode===a?Ny.bind(null,e):null)}function Ry(e,n){if(Sc())return null;ly(e,n,!0)}function JE(){oA(function(){(Ie&6)!==0?Xr(bo,QE):wy()})}function Hd(){if(Hi===0){var e=or;e===0&&(e=Eo,Eo<<=1,(Eo&261888)===0&&(Eo=256)),Hi=e}return Hi}function jy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:jo(""+e)}function Oy(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function XE(e,n,a,o,d){if(n==="submit"&&a&&a.stateNode===d){var f=jy((d[Bt]||null).action),y=o.submitter;y&&(n=(n=y[Bt]||null)?jy(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var S=new Mo("action","action",null,o,d);e.push({event:S,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Hi!==0){var _=y?Oy(d,y):new FormData(d);sd(a,{pending:!0,data:_,method:d.method,action:f},null,_)}}else typeof f=="function"&&(S.preventDefault(),_=y?Oy(d,y):new FormData(d),sd(a,{pending:!0,data:_,method:d.method,action:f},f,_))},currentTarget:d}]})}}for(var Bd=0;Bd<Eu.length;Bd++){var Kd=Eu[Bd],$E=Kd.toLowerCase(),ZE=Kd[0].toUpperCase()+Kd.slice(1);Rn($E,"on"+ZE)}Rn(cg,"onAnimationEnd"),Rn(lg,"onAnimationIteration"),Rn(ug,"onAnimationStart"),Rn("dblclick","onDoubleClick"),Rn("focusin","onFocus"),Rn("focusout","onBlur"),Rn(mE,"onTransitionRun"),Rn(gE,"onTransitionStart"),Rn(pE,"onTransitionCancel"),Rn(dg,"onTransitionEnd"),Ya("onMouseEnter",["mouseout","mouseover"]),Ya("onMouseLeave",["mouseout","mouseover"]),Ya("onPointerEnter",["pointerout","pointerover"]),Ya("onPointerLeave",["pointerout","pointerover"]),oa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oa("onBeforeInput",["compositionend","keypress","textInput","paste"]),oa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ms="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ms));function Iy(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],d=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var y=o.length-1;0<=y;y--){var S=o[y],_=S.instance,I=S.currentTarget;if(S=S.listener,_!==f&&d.isPropagationStopped())break e;f=S,d.currentTarget=I;try{f(d)}catch(P){Lo(P)}d.currentTarget=null,f=_}else for(y=0;y<o.length;y++){if(S=o[y],_=S.instance,I=S.currentTarget,S=S.listener,_!==f&&d.isPropagationStopped())break e;f=S,d.currentTarget=I;try{f(d)}catch(P){Lo(P)}d.currentTarget=null,f=_}}}}function be(e,n){var a=n[tu];a===void 0&&(a=n[tu]=new Set);var o=e+"__bubble";a.has(o)||(ky(n,e,2,!1),a.add(o))}function Fd(e,n,a){var o=0;n&&(o|=4),ky(a,e,o,n)}var Ec="_reactListening"+Math.random().toString(36).slice(2);function Gd(e){if(!e[Ec]){e[Ec]=!0,wm.forEach(function(a){a!=="selectionchange"&&(WE.has(a)||Fd(a,!1,e),Fd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ec]||(n[Ec]=!0,Fd("selectionchange",!1,n))}}function ky(e,n,a,o){switch(cv(n)){case 2:var d=xA;break;case 8:d=NA;break;default:d=rh}a=d.bind(null,n,a,e),d=void 0,!uu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),o?d!==void 0?e.addEventListener(n,a,{capture:!0,passive:d}):e.addEventListener(n,a,!0):d!==void 0?e.addEventListener(n,a,{passive:d}):e.addEventListener(n,a,!1)}function qd(e,n,a,o,d){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var S=o.stateNode.containerInfo;if(S===d)break;if(y===4)for(y=o.return;y!==null;){var _=y.tag;if((_===3||_===4)&&y.stateNode.containerInfo===d)return;y=y.return}for(;S!==null;){if(y=Ga(S),y===null)return;if(_=y.tag,_===5||_===6||_===26||_===27){o=f=y;continue e}S=S.parentNode}}o=o.return}Pm(function(){var I=f,P=cu(a),G=[];e:{var k=hg.get(e);if(k!==void 0){var U=Mo,te=e;switch(e){case"keypress":if(Io(a)===0)break e;case"keydown":case"keyup":U=V_;break;case"focusin":te="focus",U=mu;break;case"focusout":te="blur",U=mu;break;case"beforeblur":case"afterblur":U=mu;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=Bm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=M_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=J_;break;case cg:case lg:case ug:U=L_;break;case dg:U=$_;break;case"scroll":case"scrollend":U=I_;break;case"wheel":U=W_;break;case"copy":case"cut":case"paste":U=z_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=Fm;break;case"toggle":case"beforetoggle":U=tE}var oe=(n&4)!==0,He=!oe&&(e==="scroll"||e==="scrollend"),R=oe?k!==null?k+"Capture":null:k;oe=[];for(var w=I,O;w!==null;){var K=w;if(O=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||O===null||R===null||(K=ns(w,R),K!=null&&oe.push(Ds(w,K,O))),He)break;w=w.return}0<oe.length&&(k=new U(k,te,null,a,P),G.push({event:k,listeners:oe}))}}if((n&7)===0){e:{if(k=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",k&&a!==ou&&(te=a.relatedTarget||a.fromElement)&&(Ga(te)||te[Fa]))break e;if((U||k)&&(k=P.window===P?P:(k=P.ownerDocument)?k.defaultView||k.parentWindow:window,U?(te=a.relatedTarget||a.toElement,U=I,te=te?Ga(te):null,te!==null&&(He=u(te),oe=te.tag,te!==He||oe!==5&&oe!==27&&oe!==6)&&(te=null)):(U=null,te=I),U!==te)){if(oe=Bm,K="onMouseLeave",R="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(oe=Fm,K="onPointerLeave",R="onPointerEnter",w="pointer"),He=U==null?k:ts(U),O=te==null?k:ts(te),k=new oe(K,w+"leave",U,a,P),k.target=He,k.relatedTarget=O,K=null,Ga(P)===I&&(oe=new oe(R,w+"enter",te,a,P),oe.target=O,oe.relatedTarget=He,K=oe),He=K,U&&te)t:{for(oe=eA,R=U,w=te,O=0,K=R;K;K=oe(K))O++;K=0;for(var ae=w;ae;ae=oe(ae))K++;for(;0<O-K;)R=oe(R),O--;for(;0<K-O;)w=oe(w),K--;for(;O--;){if(R===w||w!==null&&R===w.alternate){oe=R;break t}R=oe(R),w=oe(w)}oe=null}else oe=null;U!==null&&My(G,k,U,oe,!1),te!==null&&He!==null&&My(G,He,te,oe,!0)}}e:{if(k=I?ts(I):window,U=k.nodeName&&k.nodeName.toLowerCase(),U==="select"||U==="input"&&k.type==="file")var je=$m;else if(Jm(k))if(Zm)je=dE;else{je=lE;var ie=cE}else U=k.nodeName,!U||U.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?I&&su(I.elementType)&&(je=$m):je=uE;if(je&&(je=je(e,I))){Xm(G,je,a,P);break e}ie&&ie(e,k,I),e==="focusout"&&I&&k.type==="number"&&I.memoizedProps.value!=null&&ru(k,"number",k.value)}switch(ie=I?ts(I):window,e){case"focusin":(Jm(ie)||ie.contentEditable==="true")&&(Wa=ie,Su=I,us=null);break;case"focusout":us=Su=Wa=null;break;case"mousedown":bu=!0;break;case"contextmenu":case"mouseup":case"dragend":bu=!1,sg(G,a,P);break;case"selectionchange":if(fE)break;case"keydown":case"keyup":sg(G,a,P)}var pe;if(pu)e:{switch(e){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Za?Ym(e,a)&&(Ee="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(Gm&&a.locale!=="ko"&&(Za||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Za&&(pe=zm()):(Ai=P,du="value"in Ai?Ai.value:Ai.textContent,Za=!0)),ie=Ac(I,Ee),0<ie.length&&(Ee=new Km(Ee,e,null,a,P),G.push({event:Ee,listeners:ie}),pe?Ee.data=pe:(pe=Qm(a),pe!==null&&(Ee.data=pe)))),(pe=iE?aE(e,a):rE(e,a))&&(Ee=Ac(I,"onBeforeInput"),0<Ee.length&&(ie=new Km("onBeforeInput","beforeinput",null,a,P),G.push({event:ie,listeners:Ee}),ie.data=pe)),XE(G,e,I,a,P)}Iy(G,n)})}function Ds(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Ac(e,n){for(var a=n+"Capture",o=[];e!==null;){var d=e,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=ns(e,a),d!=null&&o.unshift(Ds(e,d,f)),d=ns(e,n),d!=null&&o.push(Ds(e,d,f))),e.tag===3)return o;e=e.return}return[]}function eA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function My(e,n,a,o,d){for(var f=n._reactName,y=[];a!==null&&a!==o;){var S=a,_=S.alternate,I=S.stateNode;if(S=S.tag,_!==null&&_===o)break;S!==5&&S!==26&&S!==27||I===null||(_=I,d?(I=ns(a,f),I!=null&&y.unshift(Ds(a,I,_))):d||(I=ns(a,f),I!=null&&y.push(Ds(a,I,_)))),a=a.return}y.length!==0&&e.push({event:n,listeners:y})}var tA=/\r\n?/g,nA=/\u0000|\uFFFD/g;function Dy(e){return(typeof e=="string"?e:""+e).replace(tA,`
`).replace(nA,"")}function Uy(e,n){return n=Dy(n),Dy(e)===n}function ze(e,n,a,o,d,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Ja(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Ja(e,""+o);break;case"className":No(e,"class",o);break;case"tabIndex":No(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":No(e,a,o);break;case"style":Um(e,o,f);break;case"data":if(n!=="object"){No(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=jo(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&ze(e,n,"name",d.name,d,null),ze(e,n,"formEncType",d.formEncType,d,null),ze(e,n,"formMethod",d.formMethod,d,null),ze(e,n,"formTarget",d.formTarget,d,null)):(ze(e,n,"encType",d.encType,d,null),ze(e,n,"method",d.method,d,null),ze(e,n,"target",d.target,d,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=jo(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=ei);break;case"onScroll":o!=null&&be("scroll",e);break;case"onScrollEnd":o!=null&&be("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(d.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=jo(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":be("beforetoggle",e),be("toggle",e),xo(e,"popover",o);break;case"xlinkActuate":Wn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Wn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Wn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Wn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Wn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Wn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Wn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Wn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Wn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":xo(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=j_.get(a)||a,xo(e,a,o))}}function Vd(e,n,a,o,d,f){switch(a){case"style":Um(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(d.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?Ja(e,o):(typeof o=="number"||typeof o=="bigint")&&Ja(e,""+o);break;case"onScroll":o!=null&&be("scroll",e);break;case"onScrollEnd":o!=null&&be("scrollend",e);break;case"onClick":o!=null&&(e.onclick=ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xm.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),n=a.slice(2,d?a.length-7:void 0),f=e[Bt]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,d),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,d);break e}a in e?e[a]=o:o===!0?e.setAttribute(a,""):xo(e,a,o)}}}function wt(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":be("error",e),be("load",e);var o=!1,d=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ze(e,n,f,y,a,null)}}d&&ze(e,n,"srcSet",a.srcSet,a,null),o&&ze(e,n,"src",a.src,a,null);return;case"input":be("invalid",e);var S=f=y=d=null,_=null,I=null;for(o in a)if(a.hasOwnProperty(o)){var P=a[o];if(P!=null)switch(o){case"name":d=P;break;case"type":y=P;break;case"checked":_=P;break;case"defaultChecked":I=P;break;case"value":f=P;break;case"defaultValue":S=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,n));break;default:ze(e,n,o,P,a,null)}}Im(e,f,S,_,I,y,d,!1);return;case"select":be("invalid",e),o=y=f=null;for(d in a)if(a.hasOwnProperty(d)&&(S=a[d],S!=null))switch(d){case"value":f=S;break;case"defaultValue":y=S;break;case"multiple":o=S;default:ze(e,n,d,S,a,null)}n=f,a=y,e.multiple=!!o,n!=null?Qa(e,!!o,n,!1):a!=null&&Qa(e,!!o,a,!0);return;case"textarea":be("invalid",e),f=d=o=null;for(y in a)if(a.hasOwnProperty(y)&&(S=a[y],S!=null))switch(y){case"value":o=S;break;case"defaultValue":d=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:ze(e,n,y,S,a,null)}Mm(e,o,d,f);return;case"option":for(_ in a)a.hasOwnProperty(_)&&(o=a[_],o!=null)&&(_==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":ze(e,n,_,o,a,null));return;case"dialog":be("beforetoggle",e),be("toggle",e),be("cancel",e),be("close",e);break;case"iframe":case"object":be("load",e);break;case"video":case"audio":for(o=0;o<Ms.length;o++)be(Ms[o],e);break;case"image":be("error",e),be("load",e);break;case"details":be("toggle",e);break;case"embed":case"source":case"link":be("error",e),be("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(I in a)if(a.hasOwnProperty(I)&&(o=a[I],o!=null))switch(I){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ze(e,n,I,o,a,null)}return;default:if(su(n)){for(P in a)a.hasOwnProperty(P)&&(o=a[P],o!==void 0&&Vd(e,n,P,o,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(o=a[S],o!=null&&ze(e,n,S,o,a,null))}function iA(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,y=null,S=null,_=null,I=null,P=null;for(U in a){var G=a[U];if(a.hasOwnProperty(U)&&G!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":_=G;default:o.hasOwnProperty(U)||ze(e,n,U,null,o,G)}}for(var k in o){var U=o[k];if(G=a[k],o.hasOwnProperty(k)&&(U!=null||G!=null))switch(k){case"type":f=U;break;case"name":d=U;break;case"checked":I=U;break;case"defaultChecked":P=U;break;case"value":y=U;break;case"defaultValue":S=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(s(137,n));break;default:U!==G&&ze(e,n,k,U,o,G)}}au(e,y,S,_,I,P,f,d);return;case"select":U=y=S=k=null;for(f in a)if(_=a[f],a.hasOwnProperty(f)&&_!=null)switch(f){case"value":break;case"multiple":U=_;default:o.hasOwnProperty(f)||ze(e,n,f,null,o,_)}for(d in o)if(f=o[d],_=a[d],o.hasOwnProperty(d)&&(f!=null||_!=null))switch(d){case"value":k=f;break;case"defaultValue":S=f;break;case"multiple":y=f;default:f!==_&&ze(e,n,d,f,o,_)}n=S,a=y,o=U,k!=null?Qa(e,!!a,k,!1):!!o!=!!a&&(n!=null?Qa(e,!!a,n,!0):Qa(e,!!a,a?[]:"",!1));return;case"textarea":U=k=null;for(S in a)if(d=a[S],a.hasOwnProperty(S)&&d!=null&&!o.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ze(e,n,S,null,o,d)}for(y in o)if(d=o[y],f=a[y],o.hasOwnProperty(y)&&(d!=null||f!=null))switch(y){case"value":k=d;break;case"defaultValue":U=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==f&&ze(e,n,y,d,o,f)}km(e,k,U);return;case"option":for(var te in a)k=a[te],a.hasOwnProperty(te)&&k!=null&&!o.hasOwnProperty(te)&&(te==="selected"?e.selected=!1:ze(e,n,te,null,o,k));for(_ in o)k=o[_],U=a[_],o.hasOwnProperty(_)&&k!==U&&(k!=null||U!=null)&&(_==="selected"?e.selected=k&&typeof k!="function"&&typeof k!="symbol":ze(e,n,_,k,o,U));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var oe in a)k=a[oe],a.hasOwnProperty(oe)&&k!=null&&!o.hasOwnProperty(oe)&&ze(e,n,oe,null,o,k);for(I in o)if(k=o[I],U=a[I],o.hasOwnProperty(I)&&k!==U&&(k!=null||U!=null))switch(I){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:ze(e,n,I,k,o,U)}return;default:if(su(n)){for(var He in a)k=a[He],a.hasOwnProperty(He)&&k!==void 0&&!o.hasOwnProperty(He)&&Vd(e,n,He,void 0,o,k);for(P in o)k=o[P],U=a[P],!o.hasOwnProperty(P)||k===U||k===void 0&&U===void 0||Vd(e,n,P,k,o,U);return}}for(var R in a)k=a[R],a.hasOwnProperty(R)&&k!=null&&!o.hasOwnProperty(R)&&ze(e,n,R,null,o,k);for(G in o)k=o[G],U=a[G],!o.hasOwnProperty(G)||k===U||k==null&&U==null||ze(e,n,G,k,o,U)}function Ly(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function aA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var d=a[o],f=d.transferSize,y=d.initiatorType,S=d.duration;if(f&&S&&Ly(y)){for(y=0,S=d.responseEnd,o+=1;o<a.length;o++){var _=a[o],I=_.startTime;if(I>S)break;var P=_.transferSize,G=_.initiatorType;P&&Ly(G)&&(_=_.responseEnd,y+=P*(_<S?1:(S-I)/(_-I)))}if(--o,n+=8*(f+y)/(d.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Yd=null,Qd=null;function Tc(e){return e.nodeType===9?e:e.ownerDocument}function Py(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Jd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Xd=null;function rA(){var e=window.event;return e&&e.type==="popstate"?e===Xd?!1:(Xd=e,!0):(Xd=null,!1)}var Hy=typeof setTimeout=="function"?setTimeout:void 0,sA=typeof clearTimeout=="function"?clearTimeout:void 0,By=typeof Promise=="function"?Promise:void 0,oA=typeof queueMicrotask=="function"?queueMicrotask:typeof By<"u"?function(e){return By.resolve(null).then(e).catch(cA)}:Hy;function cA(e){setTimeout(function(){throw e})}function Bi(e){return e==="head"}function Ky(e,n){var a=n,o=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(d),wr(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Us(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Us(a);for(var f=a.firstChild;f;){var y=f.nextSibling,S=f.nodeName;f[es]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=y}}else a==="body"&&Us(e.ownerDocument.body);a=d}while(a);wr(n)}function Fy(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function $d(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":$d(a),nu(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function lA(e,n,a,o){for(;e.nodeType===1;){var d=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[es])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Cn(e.nextSibling),e===null)break}return null}function uA(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Cn(e.nextSibling),e===null))return null;return e}function Gy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Cn(e.nextSibling),e===null))return null;return e}function Zd(e){return e.data==="$?"||e.data==="$~"}function Wd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function dA(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Cn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var eh=null;function qy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Cn(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function Vy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function Yy(e,n,a){switch(n=Tc(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Us(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);nu(e)}var Sn=new Map,Qy=new Set;function wc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var pi=Q.d;Q.d={f:hA,r:fA,D:mA,C:gA,L:pA,m:yA,X:CA,S:vA,M:SA};function hA(){var e=pi.f(),n=yc();return e||n}function fA(e){var n=qa(e);n!==null&&n.tag===5&&n.type==="form"?dp(n):pi.r(e)}var Er=typeof document>"u"?null:document;function Jy(e,n,a){var o=Er;if(o&&typeof n=="string"&&n){var d=hn(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),Qy.has(d)||(Qy.add(d),e={rel:e,crossOrigin:a,href:n},o.querySelector(d)===null&&(n=o.createElement("link"),wt(n,"link",e),pt(n),o.head.appendChild(n)))}}function mA(e){pi.D(e),Jy("dns-prefetch",e,null)}function gA(e,n){pi.C(e,n),Jy("preconnect",e,n)}function pA(e,n,a){pi.L(e,n,a);var o=Er;if(o&&e&&n){var d='link[rel="preload"][as="'+hn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+hn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+hn(a.imageSizes)+'"]')):d+='[href="'+hn(e)+'"]';var f=d;switch(n){case"style":f=Ar(e);break;case"script":f=Tr(e)}Sn.has(f)||(e=C({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Sn.set(f,e),o.querySelector(d)!==null||n==="style"&&o.querySelector(Ls(f))||n==="script"&&o.querySelector(Ps(f))||(n=o.createElement("link"),wt(n,"link",e),pt(n),o.head.appendChild(n)))}}function yA(e,n){pi.m(e,n);var a=Er;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+hn(o)+'"][href="'+hn(e)+'"]',f=d;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Tr(e)}if(!Sn.has(f)&&(e=C({rel:"modulepreload",href:e},n),Sn.set(f,e),a.querySelector(d)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ps(f)))return}o=a.createElement("link"),wt(o,"link",e),pt(o),a.head.appendChild(o)}}}function vA(e,n,a){pi.S(e,n,a);var o=Er;if(o&&e){var d=Va(o).hoistableStyles,f=Ar(e);n=n||"default";var y=d.get(f);if(!y){var S={loading:0,preload:null};if(y=o.querySelector(Ls(f)))S.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Sn.get(f))&&th(e,a);var _=y=o.createElement("link");pt(_),wt(_,"link",e),_._p=new Promise(function(I,P){_.onload=I,_.onerror=P}),_.addEventListener("load",function(){S.loading|=1}),_.addEventListener("error",function(){S.loading|=2}),S.loading|=4,xc(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:S},d.set(f,y)}}}function CA(e,n){pi.X(e,n);var a=Er;if(a&&e){var o=Va(a).hoistableScripts,d=Tr(e),f=o.get(d);f||(f=a.querySelector(Ps(d)),f||(e=C({src:e,async:!0},n),(n=Sn.get(d))&&nh(e,n),f=a.createElement("script"),pt(f),wt(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(d,f))}}function SA(e,n){pi.M(e,n);var a=Er;if(a&&e){var o=Va(a).hoistableScripts,d=Tr(e),f=o.get(d);f||(f=a.querySelector(Ps(d)),f||(e=C({src:e,async:!0,type:"module"},n),(n=Sn.get(d))&&nh(e,n),f=a.createElement("script"),pt(f),wt(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(d,f))}}function Xy(e,n,a,o){var d=(d=ve.current)?wc(d):null;if(!d)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ar(a.href),a=Va(d).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ar(a.href);var f=Va(d).hoistableStyles,y=f.get(e);if(y||(d=d.ownerDocument||d,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=d.querySelector(Ls(e)))&&!f._p&&(y.instance=f,y.state.loading=5),Sn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Sn.set(e,a),f||bA(d,e,a,y.state))),n&&o===null)throw Error(s(528,""));return y}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Tr(a),a=Va(d).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ar(e){return'href="'+hn(e)+'"'}function Ls(e){return'link[rel="stylesheet"]['+e+"]"}function $y(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function bA(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),wt(n,"link",a),pt(n),e.head.appendChild(n))}function Tr(e){return'[src="'+hn(e)+'"]'}function Ps(e){return"script[async]"+e}function Zy(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+hn(a.href)+'"]');if(o)return n.instance=o,pt(o),o;var d=C({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),pt(o),wt(o,"style",d),xc(o,a.precedence,e),n.instance=o;case"stylesheet":d=Ar(a.href);var f=e.querySelector(Ls(d));if(f)return n.state.loading|=4,n.instance=f,pt(f),f;o=$y(a),(d=Sn.get(d))&&th(o,d),f=(e.ownerDocument||e).createElement("link"),pt(f);var y=f;return y._p=new Promise(function(S,_){y.onload=S,y.onerror=_}),wt(f,"link",o),n.state.loading|=4,xc(f,a.precedence,e),n.instance=f;case"script":return f=Tr(a.src),(d=e.querySelector(Ps(f)))?(n.instance=d,pt(d),d):(o=a,(d=Sn.get(f))&&(o=C({},a),nh(o,d)),e=e.ownerDocument||e,d=e.createElement("script"),pt(d),wt(d,"link",o),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,xc(o,a.precedence,e));return n.instance}function xc(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=o.length?o[o.length-1]:null,f=d,y=0;y<o.length;y++){var S=o[y];if(S.dataset.precedence===n)f=S;else if(f!==d)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function th(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function nh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Nc=null;function Wy(e,n,a){if(Nc===null){var o=new Map,d=Nc=new Map;d.set(a,o)}else d=Nc,o=d.get(a),o||(o=new Map,d.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),d=0;d<a.length;d++){var f=a[d];if(!(f[es]||f[_t]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=e+y;var S=o.get(y);S?S.push(f):o.set(y,[f])}}return o}function ev(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function _A(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function tv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function EA(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=Ar(o.href),f=n.querySelector(Ls(d));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Rc.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,pt(f);return}f=n.ownerDocument||n,o=$y(o),(d=Sn.get(d))&&th(o,d),f=f.createElement("link"),pt(f);var y=f;y._p=new Promise(function(S,_){y.onload=S,y.onerror=_}),wt(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Rc.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var ih=0;function AA(e,n){return e.stylesheets&&e.count===0&&Oc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&Oc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&ih===0&&(ih=62500*aA());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Oc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>ih?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(d)}}:null}function Rc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Oc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var jc=null;function Oc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,jc=new Map,n.forEach(TA,e),jc=null,Rc.call(e))}function TA(e,n){if(!(n.state.loading&4)){var a=jc.get(e);if(a)var o=a.get(null);else{a=new Map,jc.set(e,a);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var y=d[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),o=y)}o&&a.set(null,o)}d=n.instance,y=d.getAttribute("data-precedence"),f=a.get(y)||o,f===o&&a.set(null,d),a.set(y,d),this.count++,o=Rc.bind(this),d.addEventListener("load",o),d.addEventListener("error",o),f?f.parentNode.insertBefore(d,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var zs={$$typeof:M,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function wA(e,n,a,o,d,f,y,S,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zl(0),this.hiddenUpdates=Zl(null),this.identifierPrefix=o,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function nv(e,n,a,o,d,f,y,S,_,I,P,G){return e=new wA(e,n,a,y,_,I,P,G,S),n=1,f===!0&&(n|=24),f=an(3,null,null,n),e.current=f,f.stateNode=e,n=Uu(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},Hu(f),e}function iv(e){return e?(e=nr,e):nr}function av(e,n,a,o,d,f){d=iv(d),o.context===null?o.context=d:o.pendingContext=d,o=ji(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Oi(e,o,n),a!==null&&(Yt(a,e,n),ys(a,e,n))}function rv(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function ah(e,n){rv(e,n),(e=e.alternate)&&rv(e,n)}function sv(e){if(e.tag===13||e.tag===31){var n=da(e,67108864);n!==null&&Yt(n,e,67108864),ah(e,67108864)}}function ov(e){if(e.tag===13||e.tag===31){var n=ln();n=Wl(n);var a=da(e,n);a!==null&&Yt(a,e,n),ah(e,n)}}var Ic=!0;function xA(e,n,a,o){var d=L.T;L.T=null;var f=Q.p;try{Q.p=2,rh(e,n,a,o)}finally{Q.p=f,L.T=d}}function NA(e,n,a,o){var d=L.T;L.T=null;var f=Q.p;try{Q.p=8,rh(e,n,a,o)}finally{Q.p=f,L.T=d}}function rh(e,n,a,o){if(Ic){var d=sh(o);if(d===null)qd(e,n,o,kc,a),lv(e,o);else if(jA(d,e,n,a,o))o.stopPropagation();else if(lv(e,o),n&4&&-1<RA.indexOf(e)){for(;d!==null;){var f=qa(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=sa(f.pendingLanes);if(y!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;y;){var _=1<<31-bt(y);S.entanglements[1]|=_,y&=~_}qn(f),(Ie&6)===0&&(gc=Rt()+500,ks(0))}}break;case 31:case 13:S=da(f,2),S!==null&&Yt(S,f,2),yc(),ah(f,2)}if(f=sh(o),f===null&&qd(e,n,o,kc,a),f===d)break;d=f}d!==null&&o.stopPropagation()}else qd(e,n,o,null,a)}}function sh(e){return e=cu(e),oh(e)}var kc=null;function oh(e){if(kc=null,e=Ga(e),e!==null){var n=u(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=h(n),e!==null)return e;e=null}else if(a===31){if(e=m(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return kc=e,null}function cv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xl()){case bo:return 2;case _o:return 8;case Ba:case $l:return 32;case $:return 268435456;default:return 32}default:return 32}}var ch=!1,Ki=null,Fi=null,Gi=null,Hs=new Map,Bs=new Map,qi=[],RA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lv(e,n){switch(e){case"focusin":case"focusout":Ki=null;break;case"dragenter":case"dragleave":Fi=null;break;case"mouseover":case"mouseout":Gi=null;break;case"pointerover":case"pointerout":Hs.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bs.delete(n.pointerId)}}function Ks(e,n,a,o,d,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[d]},n!==null&&(n=qa(n),n!==null&&sv(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function jA(e,n,a,o,d){switch(n){case"focusin":return Ki=Ks(Ki,e,n,a,o,d),!0;case"dragenter":return Fi=Ks(Fi,e,n,a,o,d),!0;case"mouseover":return Gi=Ks(Gi,e,n,a,o,d),!0;case"pointerover":var f=d.pointerId;return Hs.set(f,Ks(Hs.get(f)||null,e,n,a,o,d)),!0;case"gotpointercapture":return f=d.pointerId,Bs.set(f,Ks(Bs.get(f)||null,e,n,a,o,d)),!0}return!1}function uv(e){var n=Ga(e.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=h(a),n!==null){e.blockedOn=n,Am(e.priority,function(){ov(a)});return}}else if(n===31){if(n=m(a),n!==null){e.blockedOn=n,Am(e.priority,function(){ov(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Mc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=sh(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);ou=o,a.target.dispatchEvent(o),ou=null}else return n=qa(a),n!==null&&sv(n),e.blockedOn=a,!1;n.shift()}return!0}function dv(e,n,a){Mc(e)&&a.delete(n)}function OA(){ch=!1,Ki!==null&&Mc(Ki)&&(Ki=null),Fi!==null&&Mc(Fi)&&(Fi=null),Gi!==null&&Mc(Gi)&&(Gi=null),Hs.forEach(dv),Bs.forEach(dv)}function Dc(e,n){e.blockedOn===n&&(e.blockedOn=null,ch||(ch=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,OA)))}var Uc=null;function hv(e){Uc!==e&&(Uc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Uc===e&&(Uc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],d=e[n+2];if(typeof o!="function"){if(oh(o||a)===null)continue;break}var f=qa(a);f!==null&&(e.splice(n,3),n-=3,sd(f,{pending:!0,data:d,method:a.method,action:o},o,d))}}))}function wr(e){function n(_){return Dc(_,e)}Ki!==null&&Dc(Ki,e),Fi!==null&&Dc(Fi,e),Gi!==null&&Dc(Gi,e),Hs.forEach(n),Bs.forEach(n);for(var a=0;a<qi.length;a++){var o=qi[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<qi.length&&(a=qi[0],a.blockedOn===null);)uv(a),a.blockedOn===null&&qi.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var d=a[o],f=a[o+1],y=d[Bt]||null;if(typeof f=="function")y||hv(a);else if(y){var S=null;if(f&&f.hasAttribute("formAction")){if(d=f,y=f[Bt]||null)S=y.formAction;else if(oh(d)!==null)continue}else S=y.action;typeof S=="function"?a[o+1]=S:(a.splice(o,3),o-=3),hv(a)}}}function fv(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return d=y})},focusReset:"manual",scroll:"manual"})}function n(){d!==null&&(d(),d=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),d!==null&&(d(),d=null)}}}function lh(e){this._internalRoot=e}Lc.prototype.render=lh.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=ln();av(a,o,e,n,null,null)},Lc.prototype.unmount=lh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;av(e.current,2,null,e,null,null),yc(),n[Fa]=null}};function Lc(e){this._internalRoot=e}Lc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Em();e={blockedOn:null,target:e,priority:n};for(var a=0;a<qi.length&&n!==0&&n<qi[a].priority;a++);qi.splice(a,0,e),a===0&&uv(e)}};var mv=t.version;if(mv!=="19.2.3")throw Error(s(527,mv,"19.2.3"));Q.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var IA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{Re=Pc.inject(IA),Dt=Pc}catch{}}return Gs.createRoot=function(e,n){if(!c(e))throw Error(s(299));var a=!1,o="",d=bp,f=_p,y=Ep;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=nv(e,1,!1,null,null,a,o,null,d,f,y,fv),e[Fa]=n.current,Gd(e),new lh(n)},Gs.hydrateRoot=function(e,n,a){if(!c(e))throw Error(s(299));var o=!1,d="",f=bp,y=_p,S=Ep,_=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(_=a.formState)),n=nv(e,1,!0,n,a??null,o,d,_,f,y,S,fv),n.context=iv(null),a=n.current,o=ln(),o=Wl(o),d=ji(o),d.callback=null,Oi(a,d,o),a=o,n.current.lanes=a,Wr(n,a),qn(n),e[Fa]=n.current,Gd(e),new Lc(n)},Gs.version="19.2.3",Gs}var Av;function GA(){if(Av)return hh.exports;Av=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),hh.exports=FA(),hh.exports}var QC=GA();const qA="msal.js.common",JC="https://login.microsoftonline.com/common/",VA="login.microsoftonline.com",XC="common",YA="adfs",QA="dstsv2",JA=`${JC}discovery/instance?api-version=1.1&authorization_endpoint=`,Tv=".ciamlogin.com",XA=".onmicrosoft.com",Oh="|",$C="openid",ZC="profile",af="offline_access",$A="email",rf="S256",ZA="application/x-www-form-urlencoded;charset=utf-8",qs="Not Available",Ih="/",wv="http://169.254.169.254/metadata/instance/compute/location",WA="2020-06-01",eT=2e3,tT="TryAutoDetect",nT="login.microsoft.com",iT=["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],xv=240,aT="invalid_instance",Nv=200,rT=400,Rv=400,sT=499,oT=500,cT=599,Or={GET:"GET",POST:"POST"},Br=[$C,ZC,af],jv=[...Br,$A],zt={CONTENT_TYPE:"Content-Type",CONTENT_LENGTH:"Content-Length",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"},Ov={ACTIVE_ACCOUNT_FILTERS:"active-account-filters"},Wi={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},zc={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},Jt={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",NO_SESSION:"no_session"},sf={CODE:"code",IDTOKEN_TOKEN_REFRESHTOKEN:"id_token token refresh_token"},of={QUERY:"query",FRAGMENT:"fragment"},WC={AUTHORIZATION_CODE_GRANT:"authorization_code",REFRESH_TOKEN_GRANT:"refresh_token"},lT="MSSTS",uT="ADFS",eS="Generic",tS="-",kh=".",xt={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},cf="appmetadata",dT="client_info",rl="1",Mh="authority-metadata",hT=3600*24,In={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},Iv=5,fT=330,mT=50,nS="server-telemetry",kv="|",xr=",",gT="1",pT="0",yT="unknown_error",Le={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},vT=60,CT=3600,iS="throttling",ST="retry-after, h429",bT="invalid_grant",_T="client_mismatch",Nr={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},ph={CONFIGURED_NO_AUTO_DETECTION:"2",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},Aa={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"},ET={Pop:"pop"},aS=300;const Ia="client_id",rS="redirect_uri",AT="response_type",TT="response_mode",wT="grant_type",xT="claims",NT="scope",RT="refresh_token",jT="state",OT="nonce",IT="prompt",kT="code",MT="code_challenge",DT="code_challenge_method",UT="code_verifier",LT="client-request-id",PT="x-client-SKU",zT="x-client-VER",HT="x-client-OS",BT="x-client-CPU",KT="x-client-current-telemetry",FT="x-client-last-telemetry",GT="x-ms-lib-capability",qT="x-app-name",VT="x-app-ver",YT="post_logout_redirect_uri",QT="id_token_hint",JT="client_secret",XT="client_assertion",$T="client_assertion_type",sS="token_type",oS="req_cnf",Mv="return_spa_code",ZT="nativebroker",WT="logout_hint",ew="sid",tw="login_hint",nw="domain_hint",iw="x-client-xtra-sku",sl="brk_client_id",ol="brk_redirect_uri",Dh="instance_aware",aw="ear_jwk",rw="ear_jwe_crypto";function lf(r){return`See https://aka.ms/msal.js.errors#${r} for details`}class Ke extends Error{constructor(t,i,s){const c=i||(t?lf(t):""),u=c?`${t}: ${c}`:t;super(u),Object.setPrototypeOf(this,Ke.prototype),this.errorCode=t||"",this.errorMessage=c||"",this.subError=s||"",this.name="AuthError"}setCorrelationId(t){this.correlationId=t}}function Uh(r,t){return new Ke(r,t||lf(r))}class uf extends Ke{constructor(t){super(t),this.name="ClientConfigurationError",Object.setPrototypeOf(this,uf.prototype)}}function Ge(r){return new uf(r)}class An{static isEmptyObj(t){if(t)try{const i=JSON.parse(t);return Object.keys(i).length===0}catch{}return!0}static startsWith(t,i){return t.indexOf(i)===0}static endsWith(t,i){return t.length>=i.length&&t.lastIndexOf(i)===t.length-i.length}static queryStringToObject(t){const i={},s=t.split("&"),c=u=>decodeURIComponent(u.replace(/\+/g," "));return s.forEach(u=>{if(u.trim()){const[h,m]=u.split(/=(.+)/g,2);h&&m&&(i[c(h)]=c(m))}}),i}static trimArrayEntries(t){return t.map(i=>i.trim())}static removeEmptyStringsFromArray(t){return t.filter(i=>!!i)}static jsonParseHelper(t){try{return JSON.parse(t)}catch{return null}}static matchPattern(t,i){return new RegExp(t.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(i)}}class df extends Ke{constructor(t,i){super(t,i),this.name="ClientAuthError",Object.setPrototypeOf(this,df.prototype)}}function V(r,t){return new df(r,t)}const sw="redirect_uri_empty",ow="authority_uri_insecure",Hc="url_parse_error",cw="empty_url_error",lw="empty_input_scopes_error",cS="invalid_claims",uw="token_request_empty",dw="logout_request_empty",lS="pkce_params_missing",uS="invalid_cloud_discovery_metadata",hw="invalid_authority_metadata",fw="untrusted_authority",hf="missing_ssh_jwk",mw="missing_ssh_kid",gw="cannot_set_OIDCOptions",pw="cannot_allow_platform_broker",yw="authority_mismatch",vw="invalid_request_method_for_EAR";const dS="client_info_decoding_error",Cw="client_info_empty_error",hS="token_parsing_error",Sw="null_or_empty_token",Qi="endpoints_resolution_error",bw="network_error",_w="openid_config_error",Ew="hash_not_deserialized",no="invalid_state",Aw="state_mismatch",Dv="state_not_found",Tw="nonce_mismatch",fS="auth_time_not_found",ww="max_age_transpired",xw="multiple_matching_appMetadata",Nw="request_cannot_be_made",Rw="cannot_remove_empty_scope",jw="cannot_append_scopeset",Uv="empty_input_scopeset",mS="no_account_in_silent_request",Ow="invalid_cache_record",gS="invalid_cache_environment",Lv="no_account_found",pS="no_crypto_object",Na="token_refresh_required",Iw="token_claims_cnf_required_for_signedjwt",kw="authorization_code_missing_from_server_response",Mw="binding_key_not_removed",Dw="end_session_endpoint_not_supported",yS="key_id_missing",Ce="method_not_implemented";class Mt{constructor(t){const i=t?An.trimArrayEntries([...t]):[],s=i?An.removeEmptyStringsFromArray(i):[];if(!s||!s.length)throw Ge(lw);this.scopes=new Set,s.forEach(c=>this.scopes.add(c))}static fromString(t){const s=(t||"").split(" ");return new Mt(s)}static createSearchScopes(t){const i=t&&t.length>0?t:[...Br],s=new Mt(i);return s.containsOnlyOIDCScopes()?s.removeScope(af):s.removeOIDCScopes(),s}containsScope(t){const i=this.printScopesLowerCase().split(" "),s=new Mt(i);return t?s.scopes.has(t.toLowerCase()):!1}containsScopeSet(t){return!t||t.scopes.size<=0?!1:this.scopes.size>=t.scopes.size&&t.asArray().every(i=>this.containsScope(i))}containsOnlyOIDCScopes(){let t=0;return jv.forEach(i=>{this.containsScope(i)&&(t+=1)}),this.scopes.size===t}appendScope(t){t&&this.scopes.add(t.trim())}appendScopes(t){try{t.forEach(i=>this.appendScope(i))}catch{throw V(jw)}}removeScope(t){if(!t)throw V(Rw);this.scopes.delete(t.trim())}removeOIDCScopes(){jv.forEach(t=>{this.scopes.delete(t)})}unionScopeSets(t){if(!t)throw V(Uv);const i=new Set;return t.scopes.forEach(s=>i.add(s.toLowerCase())),this.scopes.forEach(s=>i.add(s.toLowerCase())),i}intersectingScopeSets(t){if(!t)throw V(Uv);t.containsOnlyOIDCScopes()||t.removeOIDCScopes();const i=this.unionScopeSets(t),s=t.getScopeCount(),c=this.getScopeCount();return i.size<c+s}getScopeCount(){return this.scopes.size}asArray(){const t=[];return this.scopes.forEach(i=>t.push(i)),t}printScopes(){return this.scopes?this.asArray().join(" "):""}printScopesLowerCase(){return this.printScopes().toLowerCase()}}function wl(r,t,i){if(!t)return;const s=r.get(Ia);s&&r.has(sl)&&i?.addFields({embeddedClientId:s,embeddedRedirectUri:r.get(rS)},t)}function ff(r,t){r.set(AT,t)}function Uw(r,t){r.set(TT,t||of.QUERY)}function Lw(r){r.set(ZT,"1")}function mf(r,t,i=!0,s=Br){i&&!s.includes("openid")&&!t.includes("openid")&&s.push("openid");const c=i?[...t||[],...s]:t||[],u=new Mt(c);r.set(NT,u.printScopes())}function gf(r,t){r.set(Ia,t)}function pf(r,t){r.set(rS,t)}function Pw(r,t){r.set(YT,t)}function zw(r,t){r.set(QT,t)}function Hw(r,t){r.set(nw,t)}function Bc(r,t){r.set(tw,t)}function cl(r,t){r.set(zt.CCS_HEADER,`UPN:${t}`)}function Zs(r,t){r.set(zt.CCS_HEADER,`Oid:${t.uid}@${t.utid}`)}function Pv(r,t){r.set(ew,t)}function yf(r,t,i){const s=Vw(t,i);try{JSON.parse(s)}catch{throw Ge(cS)}r.set(xT,s)}function vf(r,t){r.set(LT,t)}function Cf(r,t){r.set(PT,t.sku),r.set(zT,t.version),t.os&&r.set(HT,t.os),t.cpu&&r.set(BT,t.cpu)}function Sf(r,t){t?.appName&&r.set(qT,t.appName),t?.appVersion&&r.set(VT,t.appVersion)}function Bw(r,t){r.set(IT,t)}function vS(r,t){t&&r.set(jT,t)}function Kw(r,t){r.set(OT,t)}function bf(r,t,i){if(t&&i)r.set(MT,t),r.set(DT,i);else throw Ge(lS)}function Fw(r,t){r.set(kT,t)}function Gw(r,t){r.set(RT,t)}function qw(r,t){r.set(UT,t)}function CS(r,t){r.set(JT,t)}function SS(r,t){t&&r.set(XT,t)}function bS(r,t){t&&r.set($T,t)}function _S(r,t){r.set(wT,t)}function _f(r){r.set(dT,"1")}function ES(r){r.has(Dh)||r.set(Dh,"true")}function Jn(r,t){Object.entries(t).forEach(([i,s])=>{!r.has(i)&&s&&r.set(i,s)})}function Vw(r,t){let i;if(!r)i={};else try{i=JSON.parse(r)}catch{throw Ge(cS)}return t&&t.length>0&&(i.hasOwnProperty(zc.ACCESS_TOKEN)||(i[zc.ACCESS_TOKEN]={}),i[zc.ACCESS_TOKEN][zc.XMS_CC]={values:t}),JSON.stringify(i)}function Ef(r,t){t&&(r.set(sS,Le.POP),r.set(oS,t))}function AS(r,t){t&&(r.set(sS,Le.SSH),r.set(oS,t))}function TS(r,t){r.set(KT,t.generateCurrentRequestHeaderValue()),r.set(FT,t.generateLastRequestHeaderValue())}function wS(r){r.set(GT,ST)}function Yw(r,t){r.set(WT,t)}function xl(r,t,i){r.has(sl)||r.set(sl,t),r.has(ol)||r.set(ol,i)}function Qw(r,t){r.set(aw,encodeURIComponent(t)),r.set(rw,"eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0")}function zv(r){if(!r)return r;let t=r.toLowerCase();return An.endsWith(t,"?")?t=t.slice(0,-1):An.endsWith(t,"?/")&&(t=t.slice(0,-2)),An.endsWith(t,"/")||(t+="/"),t}function xS(r){return r.startsWith("#/")?r.substring(2):r.startsWith("#")||r.startsWith("?")?r.substring(1):r}function ll(r){if(!r||r.indexOf("=")<0)return null;try{const t=xS(r),i=Object.fromEntries(new URLSearchParams(t));if(i.code||i.ear_jwe||i.error||i.error_description||i.state)return i}catch{throw V(Ew)}return null}function io(r){const t=new Array;return r.forEach((i,s)=>{t.push(`${s}=${encodeURIComponent(i)}`)}),t.join("&")}function Hv(r){if(!r)return r;const t=r.split("#")[0];try{const i=new URL(t),s=i.origin+i.pathname+i.search;return zv(s)}catch{return zv(t)}}const ul={createNewGuid:()=>{throw V(Ce)},base64Decode:()=>{throw V(Ce)},base64Encode:()=>{throw V(Ce)},base64UrlEncode:()=>{throw V(Ce)},encodeKid:()=>{throw V(Ce)},async getPublicKeyThumbprint(){throw V(Ce)},async removeTokenBindingKey(){throw V(Ce)},async clearKeystore(){throw V(Ce)},async signJwt(){throw V(Ce)},async hashString(){throw V(Ce)}};var Xe;(function(r){r[r.Error=0]="Error",r[r.Warning=1]="Warning",r[r.Info=2]="Info",r[r.Verbose=3]="Verbose",r[r.Trace=4]="Trace"})(Xe||(Xe={}));const Jw=50,Xw=500,Ta=new Map;function $w(r,t){Ta.delete(r),Ta.set(r,t)}function Zw(r,t){const i=Date.now();let s=Ta.get(r);if(s)$w(r,s);else if(s={logs:[],firstEventTime:i},Ta.set(r,s),Ta.size>Jw){const c=Ta.keys().next().value;c&&Ta.delete(c)}s.logs.push({...t,milliseconds:i-s.firstEventTime}),s.logs.length>Xw&&s.logs.shift()}function Ww(r){if(r.length!==6)return!1;for(let t=0;t<r.length;t++){const i=r[t];if(!(i>="a"&&i<="z"||i>="A"&&i<="Z"||i>="0"&&i<="9"))return!1}return!0}class Pn{constructor(t,i,s){this.level=Xe.Info;const c=()=>{},u=t||Pn.createDefaultLoggerOptions();this.localCallback=u.loggerCallback||c,this.piiLoggingEnabled=u.piiLoggingEnabled||!1,this.level=typeof u.logLevel=="number"?u.logLevel:Xe.Info,this.packageName=i||"",this.packageVersion=s||""}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Xe.Info}}clone(t,i){return new Pn({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level},t,i)}logMessage(t,i){const s=i.correlationId;if(Ww(t)){const p={hash:t,level:i.logLevel,containsPii:i.containsPii||!1,milliseconds:0};Zw(s,p)}if(i.logLevel>this.level||!this.piiLoggingEnabled&&i.containsPii)return;const m=`${`[${new Date().toUTCString()}] : [${s}]`} : ${this.packageName}@${this.packageVersion} : ${Xe[i.logLevel]} - ${t}`;this.executeCallback(i.logLevel,m,i.containsPii||!1)}executeCallback(t,i,s){this.localCallback&&this.localCallback(t,i,s)}error(t,i){this.logMessage(t,{logLevel:Xe.Error,containsPii:!1,correlationId:i})}errorPii(t,i){this.logMessage(t,{logLevel:Xe.Error,containsPii:!0,correlationId:i})}warning(t,i){this.logMessage(t,{logLevel:Xe.Warning,containsPii:!1,correlationId:i})}warningPii(t,i){this.logMessage(t,{logLevel:Xe.Warning,containsPii:!0,correlationId:i})}info(t,i){this.logMessage(t,{logLevel:Xe.Info,containsPii:!1,correlationId:i})}infoPii(t,i){this.logMessage(t,{logLevel:Xe.Info,containsPii:!0,correlationId:i})}verbose(t,i){this.logMessage(t,{logLevel:Xe.Verbose,containsPii:!1,correlationId:i})}verbosePii(t,i){this.logMessage(t,{logLevel:Xe.Verbose,containsPii:!0,correlationId:i})}trace(t,i){this.logMessage(t,{logLevel:Xe.Trace,containsPii:!1,correlationId:i})}tracePii(t,i){this.logMessage(t,{logLevel:Xe.Trace,containsPii:!0,correlationId:i})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}const Nl="@azure/msal-common",co="16.0.2";const Af={None:"none"};function Bv(r,t){return!!r&&!!t&&r===t.split(".")[1]}function Rl(r,t,i,s){if(s){const{oid:c,sub:u,tid:h,name:m,tfp:p,acr:g,preferred_username:v,upn:C,login_hint:b}=s,x=h||p||g||"";return{tenantId:x,localAccountId:c||u||"",name:m,username:v||C||"",loginHint:b,isHomeTenant:Bv(x,r)}}else return{tenantId:i,localAccountId:t,username:"",isHomeTenant:Bv(i,r)}}function Tf(r,t,i,s){let c=r;if(t){const{isHomeTenant:u,...h}=t;c={...r,...h}}if(i){const{isHomeTenant:u,...h}=Rl(r.homeAccountId,r.localAccountId,r.tenantId,i);return c={...c,...h,idTokenClaims:i,idToken:s},c}return c}function yi(r,t){const i=ex(r);try{const s=t(i);return JSON.parse(s)}catch{throw V(hS)}}function Ra(r){if(!r.signin_state)return!1;const t=["kmsi","dvc_dmjd"];return r.signin_state.some(i=>t.includes(i.trim().toLowerCase()))}function ex(r){if(!r)throw V(Sw);const i=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(r);if(!i||i.length<4)throw V(hS);return i[2]}function NS(r,t){if(t===0||Date.now()-3e5>r+t)throw V(ww)}class ke{get urlString(){return this._urlString}constructor(t){if(this._urlString=t,!this._urlString)throw Ge(cw);t.includes("#")||(this._urlString=ke.canonicalizeUri(t))}static canonicalizeUri(t){if(t){let i=t.toLowerCase();return An.endsWith(i,"?")?i=i.slice(0,-1):An.endsWith(i,"?/")&&(i=i.slice(0,-2)),An.endsWith(i,"/")||(i+="/"),i}return t}validateAsUri(){let t;try{t=this.getUrlComponents()}catch{throw Ge(Hc)}if(!t.HostNameAndPort||!t.PathSegments)throw Ge(Hc);if(!t.Protocol||t.Protocol.toLowerCase()!=="https:")throw Ge(ow)}static appendQueryString(t,i){return i?t.indexOf("?")<0?`${t}?${i}`:`${t}&${i}`:t}static removeHashFromUrl(t){return ke.canonicalizeUri(t.split("#")[0])}replaceTenantPath(t){const i=this.getUrlComponents(),s=i.PathSegments;return t&&s.length!==0&&(s[0]===Wi.COMMON||s[0]===Wi.ORGANIZATIONS)&&(s[0]=t),ke.constructAuthorityUriFromObject(i)}getUrlComponents(){const t=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),i=this.urlString.match(t);if(!i)throw Ge(Hc);const s={Protocol:i[1],HostNameAndPort:i[4],AbsolutePath:i[5],QueryString:i[7]};let c=s.AbsolutePath.split("/");return c=c.filter(u=>u&&u.length>0),s.PathSegments=c,s.QueryString&&s.QueryString.endsWith("/")&&(s.QueryString=s.QueryString.substring(0,s.QueryString.length-1)),s}static getDomainFromUrl(t){const i=RegExp("^([^:/?#]+://)?([^/?#]*)"),s=t.match(i);if(!s)throw Ge(Hc);return s[2]}static getAbsoluteUrl(t,i){if(t[0]===Ih){const c=new ke(i).getUrlComponents();return c.Protocol+"//"+c.HostNameAndPort+t}return t}static constructAuthorityUriFromObject(t){return new ke(t.Protocol+"//"+t.HostNameAndPort+"/"+t.PathSegments.join("/"))}}const tx=[{host:"login.microsoftonline.com"},{host:"login.chinacloudapi.cn",issuerHost:"login.partner.microsoftonline.cn"},{host:"login.microsoftonline.us"},{host:"login.sovcloud-identity.fr"},{host:"login.sovcloud-identity.de"},{host:"login.sovcloud-identity.sg"}];function nx(r,t){return{token_endpoint:`https://${r}/{tenantid}/oauth2/v2.0/token`,jwks_uri:`https://${r}/{tenantid}/discovery/v2.0/keys`,issuer:`https://${t}/{tenantid}/v2.0`,authorization_endpoint:`https://${r}/{tenantid}/oauth2/v2.0/authorize`,end_session_endpoint:`https://${r}/{tenantid}/oauth2/v2.0/logout`}}const ix=tx.reduce((r,{host:t,issuerHost:i})=>(r[t]=nx(t,i||t),r),{}),RS={endpointMetadata:ix,instanceDiscoveryMetadata:{metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},Kv=RS.endpointMetadata,wf=RS.instanceDiscoveryMetadata,jS=new Set;wf.metadata.forEach(r=>{r.aliases.forEach(t=>{jS.add(t)})});function ax(r,t,i){let s;const c=r.canonicalAuthority;if(c){const u=new ke(c).getUrlComponents().HostNameAndPort;s=Fv(t,i,u,r.cloudDiscoveryMetadata?.metadata)||Fv(t,i,u,wf.metadata)||r.knownAuthorities}return s||[]}function Fv(r,t,i,s,c){if(r.trace("1bmquz",t),i&&s){const u=dl(s,i);if(u)return r.trace("1fotbt",t),u.aliases;r.trace("14avvj",t)}return null}function rx(r){return dl(wf.metadata,r)}function dl(r,t){for(let i=0;i<r.length;i++){const s=r[i];if(s.aliases.includes(t))return s}return null}const Lh="cache_quota_exceeded",sx="cache_error_unknown";class Ir extends Error{constructor(t,i){const s=i||lf(t);super(s),Object.setPrototypeOf(this,Ir.prototype),this.name="CacheError",this.errorCode=t,this.errorMessage=s}}function Ph(r){return r instanceof Error?r.name==="QuotaExceededError"||r.name==="NS_ERROR_DOM_QUOTA_REACHED"||r.message.includes("exceeded the quota")?new Ir(Lh):new Ir(r.name,r.message):new Ir(sx)}function hl(r,t){if(!r)throw V(Cw);try{const i=t(r);return JSON.parse(i)}catch{throw V(dS)}}function kr(r){if(!r)throw V(dS);const t=r.split(kh,2);return{uid:t[0],utid:t.length<2?"":t[1]}}const Mn={Default:0,Adfs:1,Dsts:2,Ciam:3};function xf(r){return r&&(r.tid||r.tfp||r.acr)||null}const $t={AAD:"AAD",OIDC:"OIDC",EAR:"EAR"};function na(r){return{homeAccountId:r.homeAccountId,environment:r.environment,tenantId:r.realm,username:r.username,localAccountId:r.localAccountId,loginHint:r.loginHint,name:r.name,nativeAccountId:r.nativeAccountId,authorityType:r.authorityType,tenantProfiles:new Map((r.tenantProfiles||[]).map(t=>[t.tenantId,t])),dataBoundary:r.dataBoundary}}function ox(r,t,i){let s;t.authorityType===Mn.Adfs?s=uT:t.protocolMode===$t.OIDC?s=eS:s=lT;let c,u;r.clientInfo&&i&&(c=hl(r.clientInfo,i),c.xms_tdbr&&(u=c.xms_tdbr==="EU"?"EU":"None"));const h=r.environment||t&&t.getPreferredCache();if(!h)throw V(gS);const m=r.idTokenClaims?.preferred_username||r.idTokenClaims?.upn,p=r.idTokenClaims?.emails?r.idTokenClaims.emails[0]:null,g=m||p||"",v=r.idTokenClaims?.login_hint,C=c?.utid||xf(r.idTokenClaims)||"",b=c?.uid||r.idTokenClaims?.oid||r.idTokenClaims?.sub||"";let x;return r.tenantProfiles?x=r.tenantProfiles:x=[Rl(r.homeAccountId,b,C,r.idTokenClaims)],{homeAccountId:r.homeAccountId,environment:h,realm:C,localAccountId:b,username:g,authorityType:s,loginHint:v,clientInfo:r.clientInfo,name:r.idTokenClaims?.name||"",lastModificationTime:void 0,lastModificationApp:void 0,cloudGraphHostName:r.cloudGraphHostName,msGraphHost:r.msGraphHost,nativeAccountId:r.nativeAccountId,tenantProfiles:x,dataBoundary:u}}function cx(r,t,i){return{authorityType:r.authorityType||eS,homeAccountId:r.homeAccountId,localAccountId:r.localAccountId,nativeAccountId:r.nativeAccountId,realm:r.tenantId,environment:r.environment,username:r.username,loginHint:r.loginHint,name:r.name,cloudGraphHostName:t,msGraphHost:i,tenantProfiles:Array.from(r.tenantProfiles?.values()||[]),dataBoundary:r.dataBoundary}}function OS(r,t,i,s,c,u){if(!(t===Mn.Adfs||t===Mn.Dsts)){if(r)try{const h=hl(r,s.base64Decode);if(h.uid&&h.utid)return`${h.uid}.${h.utid}`}catch{}i.warning("1ub6wv",c)}return u?.sub||""}function lx(r){return r?r.hasOwnProperty("homeAccountId")&&r.hasOwnProperty("environment")&&r.hasOwnProperty("realm")&&r.hasOwnProperty("localAccountId")&&r.hasOwnProperty("username")&&r.hasOwnProperty("authorityType"):!1}class zh{constructor(t,i,s,c,u){this.clientId=t,this.cryptoImpl=i,this.commonLogger=s.clone(Nl,co),this.staticAuthorityOptions=u,this.performanceClient=c}getAllAccounts(t={},i){return this.buildTenantProfiles(this.getAccountsFilteredBy(t,i),i,t)}getAccountInfoFilteredBy(t,i){const s=this.getAllAccounts(t,i);return s.length>1?s.sort(u=>u.idTokenClaims?-1:1)[0]:s.length===1?s[0]:null}getBaseAccountInfo(t,i){const s=this.getAccountsFilteredBy(t,i);return s.length>0?na(s[0]):null}buildTenantProfiles(t,i,s){return t.flatMap(c=>this.getTenantProfilesFromAccountEntity(c,i,s?.tenantId,s))}getTenantedAccountInfoByFilter(t,i,s,c,u){let h=null,m;if(u&&!this.tenantProfileMatchesFilter(s,u))return null;const p=this.getIdToken(t,c,i,s.tenantId);return p&&(m=yi(p.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(m,u))?null:(h=Tf(t,s,m,p?.secret),h)}getTenantProfilesFromAccountEntity(t,i,s,c){const u=na(t);let h=u.tenantProfiles||new Map;const m=this.getTokenKeys();if(s){const g=h.get(s);if(g)h=new Map([[s,g]]);else return[]}const p=[];return h.forEach(g=>{const v=this.getTenantedAccountInfoByFilter(u,m,g,i,c);v&&p.push(v)}),p}tenantProfileMatchesFilter(t,i){return!(i.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(t,i.localAccountId)||i.name&&t.name!==i.name||i.isHomeTenant!==void 0&&t.isHomeTenant!==i.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(t,i){return!(i&&(i.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(t,i.localAccountId)||i.loginHint&&!this.matchLoginHintFromTokenClaims(t,i.loginHint)||i.username&&!this.matchUsername(t.preferred_username,i.username)||i.name&&!this.matchName(t,i.name)||i.sid&&!this.matchSid(t,i.sid)))}async saveCacheRecord(t,i,s,c){if(!t)throw V(Ow);try{t.account&&await this.setAccount(t.account,i,s),t.idToken&&c?.idToken!==!1&&await this.setIdTokenCredential(t.idToken,i,s),t.accessToken&&c?.accessToken!==!1&&await this.saveAccessToken(t.accessToken,i,s),t.refreshToken&&c?.refreshToken!==!1&&await this.setRefreshTokenCredential(t.refreshToken,i,s),t.appMetadata&&this.setAppMetadata(t.appMetadata,i)}catch(u){throw this.commonLogger?.error("0j476p",i),u instanceof Ke?u:Ph(u)}}async saveAccessToken(t,i,s){const c={clientId:t.clientId,credentialType:t.credentialType,environment:t.environment,homeAccountId:t.homeAccountId,realm:t.realm,tokenType:t.tokenType},u=this.getTokenKeys(),h=Mt.fromString(t.target);u.accessToken.forEach(m=>{if(!this.accessTokenKeyMatchesFilter(m,c,!1))return;const p=this.getAccessTokenCredential(m,i);p&&this.credentialMatchesFilter(p,c,i)&&Mt.fromString(p.target).intersectingScopeSets(h)&&this.removeAccessToken(m,i)}),await this.setAccessTokenCredential(t,i,s)}getAccountsFilteredBy(t,i){const s=this.getAccountKeys(),c=[];return s.forEach(u=>{const h=this.getAccount(u,i);if(!h||t.homeAccountId&&!this.matchHomeAccountId(h,t.homeAccountId)||t.username&&!this.matchUsername(h.username,t.username)||t.environment&&!this.matchEnvironment(h,t.environment,i)||t.realm&&!this.matchRealm(h,t.realm)||t.nativeAccountId&&!this.matchNativeAccountId(h,t.nativeAccountId)||t.authorityType&&!this.matchAuthorityType(h,t.authorityType))return;const m={localAccountId:t?.localAccountId,name:t?.name},p=h.tenantProfiles?.filter(g=>this.tenantProfileMatchesFilter(g,m));p&&p.length===0||c.push(h)}),c}credentialMatchesFilter(t,i,s){return!(i.clientId&&!this.matchClientId(t,i.clientId)||i.userAssertionHash&&!this.matchUserAssertionHash(t,i.userAssertionHash)||typeof i.homeAccountId=="string"&&!this.matchHomeAccountId(t,i.homeAccountId)||i.environment&&!this.matchEnvironment(t,i.environment,s)||i.realm&&!this.matchRealm(t,i.realm)||i.credentialType&&!this.matchCredentialType(t,i.credentialType)||i.familyId&&!this.matchFamilyId(t,i.familyId)||i.target&&!this.matchTarget(t,i.target)||t.credentialType===xt.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(i.tokenType&&!this.matchTokenType(t,i.tokenType)||i.tokenType===Le.SSH&&i.keyId&&!this.matchKeyId(t,i.keyId)))}getAppMetadataFilteredBy(t,i){const s=this.getKeys(),c={};return s.forEach(u=>{if(!this.isAppMetadata(u))return;const h=this.getAppMetadata(u,i);h&&(t.environment&&!this.matchEnvironment(h,t.environment,i)||t.clientId&&!this.matchClientId(h,t.clientId)||(c[u]=h))}),c}getAuthorityMetadataByAlias(t,i){const s=this.getAuthorityMetadataKeys();let c=null;return s.forEach(u=>{if(!this.isAuthorityMetadata(u)||u.indexOf(this.clientId)===-1)return;const h=this.getAuthorityMetadata(u,i);h&&h.aliases.indexOf(t)!==-1&&(c=h)}),c}removeAllAccounts(t){this.getAllAccounts({},t).forEach(s=>{this.removeAccount(s,t)})}removeAccount(t,i){this.removeAccountContext(t,i);const s=this.getAccountKeys(),c=u=>u.includes(t.homeAccountId)&&u.includes(t.environment);s.filter(c).forEach(u=>{this.removeItem(u,i),this.performanceClient.incrementFields({accountsRemoved:1},i)})}removeAccountContext(t,i){const s=this.getTokenKeys(),c=u=>u.includes(t.homeAccountId)&&u.includes(t.environment);s.idToken.filter(c).forEach(u=>{this.removeIdToken(u,i)}),s.accessToken.filter(c).forEach(u=>{this.removeAccessToken(u,i)}),s.refreshToken.filter(c).forEach(u=>{this.removeRefreshToken(u,i)})}removeAccessToken(t,i){const s=this.getAccessTokenCredential(t,i);if(s&&(this.removeItem(t,i),this.performanceClient.incrementFields({accessTokensRemoved:1},i),s.credentialType.toLowerCase()===xt.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()&&s.tokenType===Le.POP)){const u=s.keyId;u&&this.cryptoImpl.removeTokenBindingKey(u,i).catch(()=>{this.commonLogger.error("0cx291",i),this.performanceClient?.incrementFields({removeTokenBindingKeyFailure:1},i)})}}removeAppMetadata(t){return this.getKeys().forEach(s=>{this.isAppMetadata(s)&&this.removeItem(s,t)}),!0}getIdToken(t,i,s,c){this.commonLogger.trace("1drz22",i);const u={homeAccountId:t.homeAccountId,environment:t.environment,credentialType:xt.ID_TOKEN,clientId:this.clientId,realm:c},h=this.getIdTokensByFilter(u,i,s),m=h.size;if(m<1)return this.commonLogger.info("1atvtd",i),null;if(m>1){let p=h;if(!c){const g=new Map;h.forEach((C,b)=>{C.realm===t.tenantId&&g.set(b,C)});const v=g.size;if(v<1)return this.commonLogger.info("0ooalx",i),h.values().next().value;if(v===1)return this.commonLogger.info("1eq2vc",i),g.values().next().value;p=g}return this.commonLogger.info("1ws328",i),p.forEach((g,v)=>{this.removeIdToken(v,i)}),this.performanceClient.addFields({multiMatchedID:h.size},i),null}return this.commonLogger.info("1sm769",i),h.values().next().value}getIdTokensByFilter(t,i,s){const c=s&&s.idToken||this.getTokenKeys().idToken,u=new Map;return c.forEach(h=>{if(!this.idTokenKeyMatchesFilter(h,{clientId:this.clientId,...t}))return;const m=this.getIdTokenCredential(h,i);m&&this.credentialMatchesFilter(m,t,i)&&u.set(h,m)}),u}idTokenKeyMatchesFilter(t,i){const s=t.toLowerCase();return!(i.clientId&&s.indexOf(i.clientId.toLowerCase())===-1||i.homeAccountId&&s.indexOf(i.homeAccountId.toLowerCase())===-1)}removeIdToken(t,i){this.removeItem(t,i)}removeRefreshToken(t,i){this.removeItem(t,i)}getAccessToken(t,i,s,c){const u=i.correlationId;this.commonLogger.trace("1t7hz1",u);const h=Mt.createSearchScopes(i.scopes),m=i.authenticationScheme||Le.BEARER,p=m.toLowerCase()!==Le.BEARER.toLowerCase()?xt.ACCESS_TOKEN_WITH_AUTH_SCHEME:xt.ACCESS_TOKEN,g={homeAccountId:t.homeAccountId,environment:t.environment,credentialType:p,clientId:this.clientId,realm:c||t.tenantId,target:h,tokenType:m,keyId:i.sshKid},v=s&&s.accessToken||this.getTokenKeys().accessToken,C=[];v.forEach(x=>{if(this.accessTokenKeyMatchesFilter(x,g,!0)){const T=this.getAccessTokenCredential(x,u);T&&this.credentialMatchesFilter(T,g,u)&&C.push(T)}});const b=C.length;return b<1?(this.commonLogger.info("1nckna",u),null):b>1?(this.commonLogger.info("1wkfwp",u),C.forEach(x=>{this.removeAccessToken(this.generateCredentialKey(x),u)}),this.performanceClient.addFields({multiMatchedAT:C.length},u),null):(this.commonLogger.info("06yt98",u),C[0])}accessTokenKeyMatchesFilter(t,i,s){const c=t.toLowerCase();if(i.clientId&&c.indexOf(i.clientId.toLowerCase())===-1||i.homeAccountId&&c.indexOf(i.homeAccountId.toLowerCase())===-1||i.realm&&c.indexOf(i.realm.toLowerCase())===-1)return!1;if(i.target){const u=i.target.asArray();for(let h=0;h<u.length;h++){if(s&&!c.includes(u[h].toLowerCase()))return!1;if(!s&&c.includes(u[h].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(t,i){const s=this.getTokenKeys(),c=[];return s.accessToken.forEach(u=>{if(!this.accessTokenKeyMatchesFilter(u,t,!0))return;const h=this.getAccessTokenCredential(u,i);h&&this.credentialMatchesFilter(h,t,i)&&c.push(h)}),c}getRefreshToken(t,i,s,c){this.commonLogger.trace("0x53vi",s);const u=i?rl:void 0,h={homeAccountId:t.homeAccountId,environment:t.environment,credentialType:xt.REFRESH_TOKEN,clientId:this.clientId,familyId:u},m=c&&c.refreshToken||this.getTokenKeys().refreshToken,p=[];m.forEach(v=>{if(this.refreshTokenKeyMatchesFilter(v,h)){const C=this.getRefreshTokenCredential(v,s);C&&this.credentialMatchesFilter(C,h,s)&&p.push(C)}});const g=p.length;return g<1?(this.commonLogger.info("0dlw11",s),null):(g>1&&this.performanceClient.addFields({multiMatchedRT:g},s),this.commonLogger.info("0wcnep",s),p[0])}refreshTokenKeyMatchesFilter(t,i){const s=t.toLowerCase();return!(i.familyId&&s.indexOf(i.familyId.toLowerCase())===-1||!i.familyId&&i.clientId&&s.indexOf(i.clientId.toLowerCase())===-1||i.homeAccountId&&s.indexOf(i.homeAccountId.toLowerCase())===-1)}readAppMetadataFromCache(t,i){const s={environment:t,clientId:this.clientId},c=this.getAppMetadataFilteredBy(s,i),u=Object.keys(c).map(m=>c[m]),h=u.length;if(h<1)return null;if(h>1)throw V(xw);return u[0]}isAppMetadataFOCI(t,i){const s=this.readAppMetadataFromCache(t,i);return!!(s&&s.familyId===rl)}matchHomeAccountId(t,i){return typeof t.homeAccountId=="string"&&i===t.homeAccountId}matchLocalAccountIdFromTokenClaims(t,i){const s=t.oid||t.sub;return i===s}matchLocalAccountIdFromTenantProfile(t,i){return t.localAccountId===i}matchName(t,i){return i.toLowerCase()===t.name?.toLowerCase()}matchUsername(t,i){return!!(t&&typeof t=="string"&&i?.toLowerCase()===t.toLowerCase())}matchUserAssertionHash(t,i){return!!(t.userAssertionHash&&i===t.userAssertionHash)}matchEnvironment(t,i,s){if(this.staticAuthorityOptions){const u=ax(this.staticAuthorityOptions,this.commonLogger,s);if(u.includes(i)&&u.includes(t.environment))return!0}const c=this.getAuthorityMetadataByAlias(i,s);return!!(c&&c.aliases.indexOf(t.environment)>-1)}matchCredentialType(t,i){return t.credentialType&&i.toLowerCase()===t.credentialType.toLowerCase()}matchClientId(t,i){return!!(t.clientId&&i===t.clientId)}matchFamilyId(t,i){return!!(t.familyId&&i===t.familyId)}matchRealm(t,i){return t.realm?.toLowerCase()===i.toLowerCase()}matchNativeAccountId(t,i){return!!(t.nativeAccountId&&i===t.nativeAccountId)}matchLoginHintFromTokenClaims(t,i){return t.login_hint===i||t.preferred_username===i||t.upn===i}matchSid(t,i){return t.sid===i}matchAuthorityType(t,i){return!!(t.authorityType&&i.toLowerCase()===t.authorityType.toLowerCase())}matchTarget(t,i){return t.credentialType!==xt.ACCESS_TOKEN&&t.credentialType!==xt.ACCESS_TOKEN_WITH_AUTH_SCHEME||!t.target?!1:Mt.fromString(t.target).containsScopeSet(i)}matchTokenType(t,i){return!!(t.tokenType&&t.tokenType===i)}matchKeyId(t,i){return!!(t.keyId&&t.keyId===i)}isAppMetadata(t){return t.indexOf(cf)!==-1}isAuthorityMetadata(t){return t.indexOf(Mh)!==-1}generateAuthorityMetadataCacheKey(t){return`${Mh}-${this.clientId}-${t}`}static toObject(t,i){for(const s in i)t[s]=i[s];return t}}class ux extends zh{async setAccount(){throw V(Ce)}getAccount(){throw V(Ce)}async setIdTokenCredential(){throw V(Ce)}getIdTokenCredential(){throw V(Ce)}async setAccessTokenCredential(){throw V(Ce)}getAccessTokenCredential(){throw V(Ce)}async setRefreshTokenCredential(){throw V(Ce)}getRefreshTokenCredential(){throw V(Ce)}setAppMetadata(){throw V(Ce)}getAppMetadata(){throw V(Ce)}setServerTelemetry(){throw V(Ce)}getServerTelemetry(){throw V(Ce)}setAuthorityMetadata(){throw V(Ce)}getAuthorityMetadata(){throw V(Ce)}getAuthorityMetadataKeys(){throw V(Ce)}setThrottlingCache(){throw V(Ce)}getThrottlingCache(){throw V(Ce)}removeItem(){throw V(Ce)}getKeys(){throw V(Ce)}getAccountKeys(){throw V(Ce)}getTokenKeys(){throw V(Ce)}generateCredentialKey(){throw V(Ce)}generateAccountKey(){throw V(Ce)}}const dx={InProgress:1};class IS{generateId(){return"callback-id"}startMeasurement(t,i){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:dx.InProgress,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:t,startTimeMs:Date.now(),correlationId:i||""}}}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}const kS={tokenRenewalOffsetSeconds:aS,preventCorsPreflight:!1},hx={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Xe.Info,correlationId:""},fx={async sendGetRequestAsync(){throw V(Ce)},async sendPostRequestAsync(){throw V(Ce)}},mx={sku:qA,version:co,cpu:"",os:""},gx={clientSecret:"",clientAssertion:void 0},px={azureCloudInstance:Af.None,tenant:`${XC}`},yx={application:{appName:"",appVersion:""}};function Nf({authOptions:r,systemOptions:t,loggerOptions:i,storageInterface:s,networkInterface:c,cryptoInterface:u,clientCredentials:h,libraryInfo:m,telemetry:p,serverTelemetryManager:g,persistencePlugin:v,serializableCache:C}){const b={...hx,...i};return{authOptions:vx(r),systemOptions:{...kS,...t},loggerOptions:b,storageInterface:s||new ux(r.clientId,ul,new Pn(b),new IS),networkInterface:c||fx,cryptoInterface:u||ul,clientCredentials:h||gx,libraryInfo:{...mx,...m},telemetry:{...yx,...p},serverTelemetryManager:g||null,persistencePlugin:v||null,serializableCache:C||null}}function vx(r){return{clientCapabilities:[],azureCloudOptions:px,instanceAware:!1,...r}}function MS(r){return r.authOptions.authority.options.protocolMode===$t.OIDC}class za extends Ke{constructor(t,i,s,c,u){super(t,i,s),this.name="ServerError",this.errorNo=c,this.status=u,Object.setPrototypeOf(this,za.prototype)}}const Hh="no_tokens_found",Cx="native_account_unavailable",DS="refresh_token_expired",US="ux_not_allowed",Sx="interaction_required",bx="consent_required",_x="login_required",Rf="bad_token";const Gv=[Sx,bx,_x,Rf,US],Ex=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token","ux_not_allowed"];class wn extends Ke{constructor(t,i,s,c,u,h,m,p){super(t,i,s),Object.setPrototypeOf(this,wn.prototype),this.timestamp=c||"",this.traceId=u||"",this.correlationId=h||"",this.claims=m||"",this.name="InteractionRequiredAuthError",this.errorNo=p}}function LS(r,t,i){const s=!!r&&Gv.indexOf(r)>-1,c=!!i&&Ex.indexOf(i)>-1,u=!!t&&Gv.some(h=>t.indexOf(h)>-1);return s||u||c}function fl(r,t){return new wn(r,t)}function Ax(r,t,i){const s=Tx(r,i);return t?`${s}${Oh}${t}`:s}function Tx(r,t){if(!r)throw V(pS);const i={id:r.createNewGuid()};t&&(i.meta=t);const s=JSON.stringify(i);return r.base64Encode(s)}function lo(r,t){if(!r)throw V(pS);if(!t)throw V(no);try{const i=t.split(Oh),s=i[0],c=i.length>1?i.slice(1).join(Oh):"",u=r(s),h=JSON.parse(u);return{userRequestState:c||"",libraryState:h}}catch{throw V(no)}}function zn(){return Math.round(new Date().getTime()/1e3)}function qv(r){return r.getTime()/1e3}function Jc(r){return r?new Date(Number(r)*1e3):new Date}function ml(r,t){const i=Number(r)||0;return zn()+t>i}function Vv(r,t){const i=Number(r)+t*24*60*60*1e3;return Date.now()>i}function wx(r){return Number(r)>zn()}const xx="networkClientSendPostRequestAsync",Nx="refreshTokenClientExecutePostToTokenEndpoint",Rx="authorizationCodeClientExecutePostToTokenEndpoint",jx="refreshTokenClientExecuteTokenRequest",Ox="refreshTokenClientAcquireToken",yh="refreshTokenClientAcquireTokenWithCachedRefreshToken",Ix="refreshTokenClientCreateTokenRequestBody",kx="silentFlowClientGenerateResultFromCacheRecord",jf="getAuthCodeUrl",PS="handleCodeResponseFromServer",Mx="authClientExecuteTokenRequest",Dx="authClientCreateTokenRequestBody",Ux="updateTokenEndpointAuthority",uo="popTokenGenerateCnf",Of="handleServerTokenResponse",Lx="authorityResolveEndpointsAsync",Px="authorityGetCloudDiscoveryMetadataFromNetwork",zx="authorityUpdateCloudDiscoveryMetadata",Hx="authorityGetEndpointMetadataFromNetwork",Bx="authorityUpdateEndpointMetadata",Yv="authorityUpdateMetadataWithRegionalInformation",Kx="regionDiscoveryDetectRegion",Qv="regionDiscoveryGetRegionFromIMDS",Fx="regionDiscoveryGetCurrentVersion",Gx="cacheManagerGetRefreshToken",qx="setUserData";const Ln=(r,t,i,s,c)=>(...u)=>{i.trace("1plfzx",c);const h=s.startMeasurement(t,c);if(c){const m=t+"CallCount";s.incrementFields({[m]:1},c)}try{const m=r(...u);return h.end({success:!0}),i.trace("1g8n6a",c),m}catch(m){i.trace("0cfd8i",c);try{i.trace(JSON.stringify(m),c)}catch{i.trace("00dty7",c)}throw h.end({success:!1},m),m}},z=(r,t,i,s,c)=>(...u)=>{i.trace("1plfzx",c);const h=s.startMeasurement(t,c);if(c){const m=t+"CallCount";s.incrementFields({[m]:1},c)}return r(...u).then(m=>(i.trace("1g8n6a",c),h.end({success:!0}),m)).catch(m=>{i.trace("0cfd8i",c);try{i.trace(JSON.stringify(m),c)}catch{i.trace("00dty7",c)}throw h.end({success:!1},m),m})};const Vx={SW:"sw"};class Pr{constructor(t,i){this.cryptoUtils=t,this.performanceClient=i}async generateCnf(t,i){const s=await z(this.generateKid.bind(this),uo,i,this.performanceClient,t.correlationId)(t),c=this.cryptoUtils.base64UrlEncode(JSON.stringify(s));return{kid:s.kid,reqCnfString:c}}async generateKid(t){return{kid:await this.cryptoUtils.getPublicKeyThumbprint(t),xms_ksl:Vx.SW}}async signPopToken(t,i,s){return this.signPayload(t,i,s)}async signPayload(t,i,s,c){const{resourceRequestMethod:u,resourceRequestUri:h,shrClaims:m,shrNonce:p,shrOptions:g}=s,C=(h?new ke(h):void 0)?.getUrlComponents();return this.cryptoUtils.signJwt({at:t,ts:zn(),m:u?.toUpperCase(),u:C?.HostNameAndPort,nonce:p||this.cryptoUtils.createNewGuid(),p:C?.AbsolutePath,q:C?.QueryString?[[],C.QueryString]:void 0,client_claims:m||void 0,...c},i,g,s.correlationId)}}class Yx{constructor(t,i){this.cache=t,this.hasChanged=i}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}function If(r,t,i,s,c){return{credentialType:xt.ID_TOKEN,homeAccountId:r,environment:t,clientId:s,secret:i,realm:c,lastUpdatedAt:Date.now().toString()}}function kf(r,t,i,s,c,u,h,m,p,g,v,C,b){const x={homeAccountId:r,credentialType:xt.ACCESS_TOKEN,secret:i,cachedAt:zn().toString(),expiresOn:h.toString(),extendedExpiresOn:m.toString(),environment:t,clientId:s,realm:c,target:u,tokenType:v||Le.BEARER,lastUpdatedAt:Date.now().toString()};if(C&&(x.userAssertionHash=C),g&&(x.refreshOn=g.toString()),x.tokenType?.toLowerCase()!==Le.BEARER.toLowerCase())switch(x.credentialType=xt.ACCESS_TOKEN_WITH_AUTH_SCHEME,x.tokenType){case Le.POP:const T=yi(i,p);if(!T?.cnf?.kid)throw V(Iw);x.keyId=T.cnf.kid;break;case Le.SSH:x.keyId=b}return x}function Qx(r,t,i,s,c,u,h){const m={credentialType:xt.REFRESH_TOKEN,homeAccountId:r,environment:t,clientId:s,secret:i,lastUpdatedAt:Date.now().toString()};return u&&(m.userAssertionHash=u),c&&(m.familyId=c),h&&(m.expiresOn=h.toString()),m}function jl(r){return r.hasOwnProperty("homeAccountId")&&r.hasOwnProperty("environment")&&r.hasOwnProperty("credentialType")&&r.hasOwnProperty("clientId")&&r.hasOwnProperty("secret")}function Jv(r){return r?jl(r)&&r.hasOwnProperty("realm")&&r.hasOwnProperty("target")&&(r.credentialType===xt.ACCESS_TOKEN||r.credentialType===xt.ACCESS_TOKEN_WITH_AUTH_SCHEME):!1}function Jx(r){return r?jl(r)&&r.hasOwnProperty("realm")&&r.credentialType===xt.ID_TOKEN:!1}function Xv(r){return r?jl(r)&&r.credentialType===xt.REFRESH_TOKEN:!1}function Xx(r,t){const i=r.indexOf(nS)===0;let s=!0;return t&&(s=t.hasOwnProperty("failedRequests")&&t.hasOwnProperty("errors")&&t.hasOwnProperty("cacheHits")),i&&s}function $x(r,t){let i=!1;r&&(i=r.indexOf(iS)===0);let s=!0;return t&&(s=t.hasOwnProperty("throttleTime")),i&&s}function Zx({environment:r,clientId:t}){return[cf,r,t].join(tS).toLowerCase()}function Wx(r,t){return t?r.indexOf(cf)===0&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("environment"):!1}function e0(r,t){return t?r.indexOf(Mh)===0&&t.hasOwnProperty("aliases")&&t.hasOwnProperty("preferred_cache")&&t.hasOwnProperty("preferred_network")&&t.hasOwnProperty("canonical_authority")&&t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("aliasesFromNetwork")&&t.hasOwnProperty("endpointsFromNetwork")&&t.hasOwnProperty("expiresAt")&&t.hasOwnProperty("jwks_uri"):!1}function $v(){return zn()+hT}function Kc(r,t,i){r.authorization_endpoint=t.authorization_endpoint,r.token_endpoint=t.token_endpoint,r.end_session_endpoint=t.end_session_endpoint,r.issuer=t.issuer,r.endpointsFromNetwork=i,r.jwks_uri=t.jwks_uri}function vh(r,t,i){r.aliases=t.aliases,r.preferred_cache=t.preferred_cache,r.preferred_network=t.preferred_network,r.aliasesFromNetwork=i}function Zv(r){return r.expiresAt<=zn()}class ka{constructor(t,i,s,c,u,h,m){this.clientId=t,this.cacheStorage=i,this.cryptoObj=s,this.logger=c,this.performanceClient=u,this.serializableCache=h,this.persistencePlugin=m}validateTokenResponse(t,i,s){if(t.error||t.error_description||t.suberror){const c=`Error(s): ${t.error_codes||qs} - Timestamp: ${t.timestamp||qs} - Description: ${t.error_description||qs} - Correlation ID: ${t.correlation_id||qs} - Trace ID: ${t.trace_id||qs}`,u=t.error_codes?.length?t.error_codes[0]:void 0,h=new za(t.error,c,t.suberror,u,t.status);if(s&&t.status&&t.status>=oT&&t.status<=cT){this.logger.warning("16ks7j",i);return}else if(s&&t.status&&t.status>=rT&&t.status<=sT){this.logger.warning("0g61x3",i);return}throw LS(t.error,t.error_description,t.suberror)?new wn(t.error,t.error_description,t.suberror,t.timestamp||"",t.trace_id||"",t.correlation_id||"",t.claims||"",u):h}}async handleServerTokenResponse(t,i,s,c,u,h,m,p,g){let v;if(t.id_token){if(v=yi(t.id_token||"",this.cryptoObj.base64Decode),u&&u.nonce&&v.nonce!==u.nonce)throw V(Tw);if(c.maxAge||c.maxAge===0){const T=v.auth_time;if(!T)throw V(fS);NS(T,c.maxAge)}}this.homeAccountIdentifier=OS(t.client_info||"",i.authorityType,this.logger,this.cryptoObj,c.correlationId,v);let C;u&&u.state&&(C=lo(this.cryptoObj.base64Decode,u.state)),t.key_id=t.key_id||c.sshKid||void 0;const b=this.generateCacheRecord(t,i,s,c,v,h,u);let x;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("0jbz5k",c.correlationId),x=new Yx(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(x)),m&&!p&&b.account){const T=this.cacheStorage.generateAccountKey(na(b.account));if(!this.cacheStorage.getAccount(T,c.correlationId))return this.logger.warning("1gmt66",c.correlationId),await ka.generateAuthenticationResult(this.cryptoObj,i,b,!1,c,this.performanceClient,v,C,void 0,g)}await this.cacheStorage.saveCacheRecord(b,c.correlationId,Ra(v||{}),c.storeInCache)}finally{this.persistencePlugin&&this.serializableCache&&x&&(this.logger.verbose("1bh17u",c.correlationId),await this.persistencePlugin.afterCacheAccess(x))}return ka.generateAuthenticationResult(this.cryptoObj,i,b,!1,c,this.performanceClient,v,C,t,g)}generateCacheRecord(t,i,s,c,u,h,m){const p=i.getPreferredCache();if(!p)throw V(gS);const g=xf(u);let v,C;t.id_token&&u&&(v=If(this.homeAccountIdentifier,p,t.id_token,this.clientId,g||""),C=zS(this.cacheStorage,i,this.homeAccountIdentifier,this.cryptoObj.base64Decode,c.correlationId,u,t.client_info,p,g,m,void 0,this.logger));let b=null;if(t.access_token){const N=t.scope?Mt.fromString(t.scope):new Mt(c.scopes||[]),j=(typeof t.expires_in=="string"?parseInt(t.expires_in,10):t.expires_in)||0,F=(typeof t.ext_expires_in=="string"?parseInt(t.ext_expires_in,10):t.ext_expires_in)||0,H=(typeof t.refresh_in=="string"?parseInt(t.refresh_in,10):t.refresh_in)||void 0,M=s+j,X=M+F,Y=H&&H>0?s+H:void 0;b=kf(this.homeAccountIdentifier,p,t.access_token,this.clientId,g||i.tenant||"",N.printScopes(),M,X,this.cryptoObj.base64Decode,Y,t.token_type,h,t.key_id)}let x=null;if(t.refresh_token){let N;if(t.refresh_token_expires_in){const j=typeof t.refresh_token_expires_in=="string"?parseInt(t.refresh_token_expires_in,10):t.refresh_token_expires_in;N=s+j,this.performanceClient?.addFields({ntwkRtExpiresOnSeconds:N},c.correlationId)}x=Qx(this.homeAccountIdentifier,p,t.refresh_token,this.clientId,t.foci,h,N)}let T=null;return t.foci&&(T={clientId:this.clientId,environment:p,familyId:t.foci}),{account:C,idToken:v,accessToken:b,refreshToken:x,appMetadata:T}}static async generateAuthenticationResult(t,i,s,c,u,h,m,p,g,v){let C="",b=[],x=null,T,N,j="";if(s.accessToken){if(s.accessToken.tokenType===Le.POP&&!u.popKid){const X=new Pr(t,h),{secret:Y,keyId:le}=s.accessToken;if(!le)throw V(yS);C=await X.signPopToken(Y,le,u)}else C=s.accessToken.secret;b=Mt.fromString(s.accessToken.target).asArray(),x=Jc(s.accessToken.expiresOn),T=Jc(s.accessToken.extendedExpiresOn),s.accessToken.refreshOn&&(N=Jc(s.accessToken.refreshOn))}s.appMetadata&&(j=s.appMetadata.familyId===rl?rl:"");const F=m?.oid||m?.sub||"",H=m?.tid||"";g?.spa_accountid&&s.account&&(s.account.nativeAccountId=g?.spa_accountid);const M=s.account?Tf(na(s.account),void 0,m,s.idToken?.secret):null;return{authority:i.canonicalAuthority,uniqueId:F,tenantId:H,scopes:b,account:M,idToken:s?.idToken?.secret||"",idTokenClaims:m||{},accessToken:C,fromCache:c,expiresOn:x,extExpiresOn:T,refreshOn:N,correlationId:u.correlationId,requestId:v||"",familyId:j,tokenType:s.accessToken?.tokenType||"",state:p?p.userRequestState:"",cloudGraphHostName:s.account?.cloudGraphHostName||"",msGraphHost:s.account?.msGraphHost||"",code:g?.spa_code,fromPlatformBroker:!1}}}function zS(r,t,i,s,c,u,h,m,p,g,v,C){C?.verbose("09jz0t",c);const x=r.getAccountKeys().find(H=>H.startsWith(i));let T=null;x&&(T=r.getAccount(x,c));const N=T||ox({homeAccountId:i,idTokenClaims:u,clientInfo:h,environment:m,cloudGraphHostName:g?.cloud_graph_host_name,msGraphHost:g?.msgraph_host,nativeAccountId:v},t,s),j=N.tenantProfiles||[],F=p||N.realm;if(F&&!j.find(H=>H.tenantId===F)){const H=Rl(i,N.localAccountId,F,u);j.push(H)}return N.tenantProfiles=j,N}const Un={HOME_ACCOUNT_ID:"home_account_id",UPN:"UPN"};async function HS(r,t,i){return typeof r=="string"?r:r({clientId:t,tokenEndpoint:i})}function Ol(r,t,i){return{clientId:r,authority:t.authority,scopes:t.scopes,homeAccountIdentifier:i,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid,embeddedClientId:t.embeddedClientId||t.extraParameters?.clientId}}class Yn{static generateThrottlingStorageKey(t){return`${iS}.${JSON.stringify(t)}`}static preProcess(t,i,s){const c=Yn.generateThrottlingStorageKey(i),u=t.getThrottlingCache(c,s);if(u){if(u.throttleTime<Date.now()){t.removeItem(c,s);return}throw new za(u.errorCodes?.join(" ")||"",u.errorMessage,u.subError)}}static postProcess(t,i,s,c){if(Yn.checkResponseStatus(s)||Yn.checkResponseForRetryAfter(s)){const u={throttleTime:Yn.calculateThrottleTime(parseInt(s.headers[zt.RETRY_AFTER])),error:s.body.error,errorCodes:s.body.error_codes,errorMessage:s.body.error_description,subError:s.body.suberror};t.setThrottlingCache(Yn.generateThrottlingStorageKey(i),u,c)}}static checkResponseStatus(t){return t.status===429||t.status>=500&&t.status<600}static checkResponseForRetryAfter(t){return t.headers?t.headers.hasOwnProperty(zt.RETRY_AFTER)&&(t.status<200||t.status>=300):!1}static calculateThrottleTime(t){const i=t<=0?0:t,s=Date.now()/1e3;return Math.floor(Math.min(s+(i||vT),s+CT)*1e3)}static removeThrottle(t,i,s,c){const u=Ol(i,s,c),h=this.generateThrottlingStorageKey(u);t.removeItem(h,s.correlationId)}}class Il extends Ke{constructor(t,i,s){super(t.errorCode,t.errorMessage,t.subError),Object.setPrototypeOf(this,Il.prototype),this.name="NetworkError",this.error=t,this.httpStatus=i,this.responseHeaders=s}}function $s(r,t,i,s){return r.errorMessage=`${r.errorMessage}, additionalErrorInfo: error.name:${s?.name}, error.message:${s?.message}`,new Il(r,t,i)}function BS(r,t,i){const s={};if(s[zt.CONTENT_TYPE]=ZA,!t&&i)switch(i.type){case Un.HOME_ACCOUNT_ID:try{const c=kr(i.credential);s[zt.CCS_HEADER]=`Oid:${c.uid}@${c.utid}`}catch{r.verbose("1qhtee","")}break;case Un.UPN:s[zt.CCS_HEADER]=`UPN: ${i.credential}`;break}return s}function KS(r,t,i,s){const c=new Map;return r.embeddedClientId&&xl(c,t,i),r.extraQueryParameters&&Jn(c,r.extraQueryParameters),vf(c,r.correlationId),wl(c,r.correlationId,s),io(c)}async function FS(r,t,i,s,c,u,h,m,p,g){const v=await t0(s,r,{body:t,headers:i},c,u,h,m,p);return g&&v.status<500&&v.status!==429&&g.clearTelemetryCache(),v}async function t0(r,t,i,s,c,u,h,m){Yn.preProcess(c,r,s);let p;try{p=await z(u.sendPostRequestAsync.bind(u),xx,h,m,s)(t,i);const g=p.headers||{};m?.addFields({refreshTokenSize:p.body.refresh_token?.length||0,httpVerToken:g[zt.X_MS_HTTP_VERSION]||"",requestId:g[zt.X_MS_REQUEST_ID]||""},s)}catch(g){if(g instanceof Il){const v=g.responseHeaders;throw v&&m?.addFields({httpVerToken:v[zt.X_MS_HTTP_VERSION]||"",requestId:v[zt.X_MS_REQUEST_ID]||"",contentTypeHeader:v[zt.CONTENT_TYPE]||void 0,contentLengthHeader:v[zt.CONTENT_LENGTH]||void 0,httpStatus:g.httpStatus},s),g.error}throw g instanceof Ke?g:V(bw)}return Yn.postProcess(c,r,p,s),p}function n0(r){return r.hasOwnProperty("authorization_endpoint")&&r.hasOwnProperty("token_endpoint")&&r.hasOwnProperty("issuer")&&r.hasOwnProperty("jwks_uri")}function i0(r){return r.hasOwnProperty("tenant_discovery_endpoint")&&r.hasOwnProperty("metadata")}function a0(r){return r.hasOwnProperty("error")&&r.hasOwnProperty("error_description")}class kl{constructor(t,i,s,c){this.networkInterface=t,this.logger=i,this.performanceClient=s,this.correlationId=c}async detectRegion(t,i){let s=t;if(s)i.region_source=Nr.ENVIRONMENT_VARIABLE;else{const c=kl.IMDS_OPTIONS;try{const u=await z(this.getRegionFromIMDS.bind(this),Qv,this.logger,this.performanceClient,this.correlationId)(WA,c);if(u.status===Nv&&(s=u.body,i.region_source=Nr.IMDS),u.status===Rv){const h=await z(this.getCurrentVersion.bind(this),Fx,this.logger,this.performanceClient,this.correlationId)(c);if(!h)return i.region_source=Nr.FAILED_AUTO_DETECTION,null;const m=await z(this.getRegionFromIMDS.bind(this),Qv,this.logger,this.performanceClient,this.correlationId)(h,c);m.status===Nv&&(s=m.body,i.region_source=Nr.IMDS)}}catch{return i.region_source=Nr.FAILED_AUTO_DETECTION,null}}return s||(i.region_source=Nr.FAILED_AUTO_DETECTION),s||null}async getRegionFromIMDS(t,i){return this.networkInterface.sendGetRequestAsync(`${wv}?api-version=${t}&format=text`,i,eT)}async getCurrentVersion(t){try{const i=await this.networkInterface.sendGetRequestAsync(`${wv}?format=json`,t);return i.status===Rv&&i.body&&i.body["newest-versions"]&&i.body["newest-versions"].length>0?i.body["newest-versions"][0]:null}catch{return null}}}kl.IMDS_OPTIONS={headers:{Metadata:"true"}};class Qt{constructor(t,i,s,c,u,h,m,p){this.canonicalAuthority=t,this._canonicalAuthority.validateAsUri(),this.networkInterface=i,this.cacheManager=s,this.authorityOptions=c,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=u,this.performanceClient=m,this.correlationId=h,this.managedIdentity=p||!1,this.regionDiscovery=new kl(i,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(t){if(t.HostNameAndPort.endsWith(Tv))return Mn.Ciam;const i=t.PathSegments;if(i.length)switch(i[0].toLowerCase()){case YA:return Mn.Adfs;case QA:return Mn.Dsts}return Mn.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(t){this._canonicalAuthority=new ke(t),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw V(Qi)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw V(Qi)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw V(Qi)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw V(Dw);return this.replacePath(this.metadata.end_session_endpoint)}else throw V(Qi)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw V(Qi)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw V(Qi)}canReplaceTenant(t){return t.PathSegments.length===1&&!Qt.reservedTenantDomains.has(t.PathSegments[0])&&this.getAuthorityType(t)===Mn.Default&&this.protocolMode!==$t.OIDC}replaceTenant(t){return t.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(t){let i=t;const c=new ke(this.metadata.canonical_authority).getUrlComponents(),u=c.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((m,p)=>{let g=u[p];if(p===0&&this.canReplaceTenant(c)){const v=new ke(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];g!==v&&(this.logger.verbose("1q3g2x",this.correlationId),g=v)}m!==g&&(i=i.replace(`/${g}/`,`/${m}/`))}),this.replaceTenant(i)}get defaultOpenIdConfigurationEndpoint(){const t=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===Mn.Adfs||this.protocolMode===$t.OIDC&&!this.isAliasOfKnownMicrosoftAuthority(t)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){const t=this.getCurrentMetadataEntity(),i=await z(this.updateCloudDiscoveryMetadata.bind(this),zx,this.logger,this.performanceClient,this.correlationId)(t);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,t.preferred_network);const s=await z(this.updateEndpointMetadata.bind(this),Bx,this.logger,this.performanceClient,this.correlationId)(t);this.updateCachedMetadata(t,i,{source:s}),this.performanceClient?.addFields({cloudDiscoverySource:i,authorityEndpointSource:s},this.correlationId)}getCurrentMetadataEntity(){let t=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort,this.correlationId);return t||(t={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:$v(),jwks_uri:""}),t}updateCachedMetadata(t,i,s){i!==In.CACHE&&s?.source!==In.CACHE&&(t.expiresAt=$v(),t.canonical_authority=this.canonicalAuthority);const c=this.cacheManager.generateAuthorityMetadataCacheKey(t.preferred_cache,this.correlationId);this.cacheManager.setAuthorityMetadata(c,t,this.correlationId),this.metadata=t}async updateEndpointMetadata(t){const i=this.updateEndpointMetadataFromLocalSources(t);if(i){if(i.source===In.HARDCODED_VALUES&&this.authorityOptions.azureRegionConfiguration?.azureRegion&&i.metadata){const c=await z(this.updateMetadataWithRegionalInformation.bind(this),Yv,this.logger,this.performanceClient,this.correlationId)(i.metadata);Kc(t,c,!1),t.canonical_authority=this.canonicalAuthority}return i.source}let s=await z(this.getEndpointMetadataFromNetwork.bind(this),Hx,this.logger,this.performanceClient,this.correlationId)();if(s)return this.authorityOptions.azureRegionConfiguration?.azureRegion&&(s=await z(this.updateMetadataWithRegionalInformation.bind(this),Yv,this.logger,this.performanceClient,this.correlationId)(s)),Kc(t,s,!0),In.NETWORK;throw V(_w,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(t){this.logger.verbose("1fi0kc",this.correlationId);const i=this.getEndpointMetadataFromConfig();if(i)return this.logger.verbose("06t0uj",this.correlationId),Kc(t,i,!1),{source:In.CONFIG};this.logger.verbose("151k0p",this.correlationId);const s=this.getEndpointMetadataFromHardcodedValues();if(s)return Kc(t,s,!1),{source:In.HARDCODED_VALUES,metadata:s};this.logger.verbose("1imop5",this.correlationId);const c=Zv(t);return this.isAuthoritySameType(t)&&t.endpointsFromNetwork&&!c?(this.logger.verbose("16uq31",""),{source:In.CACHE}):(c&&this.logger.verbose("0uoibc",""),null)}isAuthoritySameType(t){return new ke(t.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw Ge(hw)}return null}async getEndpointMetadataFromNetwork(){const t={},i=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose("1y65x6",this.correlationId);try{const s=await this.networkInterface.sendGetRequestAsync(i,t);return n0(s.body)?s.body:(this.logger.verbose("1koyv8",this.correlationId),null)}catch{return this.logger.verbose("0a9wik",this.correlationId),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in Kv?Kv[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(t){const i=this.authorityOptions.azureRegionConfiguration?.azureRegion;if(i){if(i!==tT)return this.regionDiscoveryMetadata.region_outcome=ph.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=i,Qt.replaceWithRegionalInformation(t,i);const s=await z(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),Kx,this.logger,this.performanceClient,this.correlationId)(this.authorityOptions.azureRegionConfiguration?.environmentRegion,this.regionDiscoveryMetadata);if(s)return this.regionDiscoveryMetadata.region_outcome=ph.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=s,Qt.replaceWithRegionalInformation(t,s);this.regionDiscoveryMetadata.region_outcome=ph.AUTO_DETECTION_REQUESTED_FAILED}return t}async updateCloudDiscoveryMetadata(t){const i=this.updateCloudDiscoveryMetadataFromLocalSources(t);if(i)return i;const s=await z(this.getCloudDiscoveryMetadataFromNetwork.bind(this),Px,this.logger,this.performanceClient,this.correlationId)();if(s)return vh(t,s,!0),In.NETWORK;throw Ge(fw)}updateCloudDiscoveryMetadataFromLocalSources(t){this.logger.verbose("0jhlgt",this.correlationId),this.logger.verbosePii("1fy7uz",this.correlationId),this.logger.verbosePii("08zabj",this.correlationId),this.logger.verbosePii("1o1kv3",this.correlationId);const i=this.getCloudDiscoveryMetadataFromConfig();if(i)return this.logger.verbose("1nakio",this.correlationId),vh(t,i,!1),In.CONFIG;this.logger.verbose("1x74aj",this.correlationId);const s=rx(this.hostnameAndPort);if(s)return this.logger.verbose("0by47c",this.correlationId),vh(t,s,!1),In.HARDCODED_VALUES;this.logger.verbose("0r2fzy",this.correlationId);const c=Zv(t);return this.isAuthoritySameType(t)&&t.aliasesFromNetwork&&!c?(this.logger.verbose("1uffgh",""),In.CACHE):(c&&this.logger.verbose("0uoibc",""),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===Mn.Ciam)return this.logger.verbose("04y84h",this.correlationId),Qt.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("0gszr3",this.correlationId);try{this.logger.verbose("1iifkx",this.correlationId);const t=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),i=dl(t.metadata,this.hostnameAndPort);if(this.logger.verbose("0q67e3",""),i)return this.logger.verbose("0hzfao",this.correlationId),i;this.logger.verbose("1ajz3u",this.correlationId)}catch{throw this.logger.verbose("1wq5tu",this.correlationId),Ge(uS)}}return this.isInKnownAuthorities()?(this.logger.verbose("0mt9al",this.correlationId),Qt.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){const t=`${JA}${this.canonicalAuthority}oauth2/v2.0/authorize`,i={};let s=null;try{const c=await this.networkInterface.sendGetRequestAsync(t,i);let u,h;if(i0(c.body))u=c.body,h=u.metadata,this.logger.verbosePii("1vglyt",this.correlationId);else if(a0(c.body)){if(this.logger.warning("062uto",this.correlationId),u=c.body,u.error===aT)return this.logger.error("1x90tm",this.correlationId),null;this.logger.warning("0wchdm",this.correlationId),this.logger.warning("1s5mpv",this.correlationId),this.logger.warning("1yhqpw",this.correlationId),h=[]}else return this.logger.error("0768g0",this.correlationId),null;this.logger.verbose("1lrobr",this.correlationId),s=dl(h,this.hostnameAndPort)}catch(c){return c instanceof Ke?this.logger.error("0vwhc7",this.correlationId):this.logger.error("0s2z41",this.correlationId),null}return s||(this.logger.warning("0jp28q",this.correlationId),this.logger.verbose("130sd8",this.correlationId),s=Qt.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),s}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(i=>i&&ke.getDomainFromUrl(i).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(t,i){let s;if(i&&i.azureCloudInstance!==Af.None){const c=i.tenant?i.tenant:XC;s=`${i.azureCloudInstance}/${c}/`}return s||t}static createCloudDiscoveryMetadataFromHost(t){return{preferred_network:t,preferred_cache:t,aliases:[t]}}getPreferredCache(){if(this.managedIdentity)return VA;if(this.discoveryComplete())return this.metadata.preferred_cache;throw V(Qi)}isAlias(t){return this.metadata.aliases.indexOf(t)>-1}isAliasOfKnownMicrosoftAuthority(t){return jS.has(t)}static isPublicCloudAuthority(t){return iT.indexOf(t)>=0}static buildRegionalAuthorityString(t,i,s){const c=new ke(t);c.validateAsUri();const u=c.getUrlComponents();let h=`${i}.${u.HostNameAndPort}`;this.isPublicCloudAuthority(u.HostNameAndPort)&&(h=`${i}.${nT}`);const m=ke.constructAuthorityUriFromObject({...c.getUrlComponents(),HostNameAndPort:h}).urlString;return s?`${m}?${s}`:m}static replaceWithRegionalInformation(t,i){const s={...t};return s.authorization_endpoint=Qt.buildRegionalAuthorityString(s.authorization_endpoint,i),s.token_endpoint=Qt.buildRegionalAuthorityString(s.token_endpoint,i),s.end_session_endpoint&&(s.end_session_endpoint=Qt.buildRegionalAuthorityString(s.end_session_endpoint,i)),s}static transformCIAMAuthority(t){let i=t;const c=new ke(t).getUrlComponents();if(c.PathSegments.length===0&&c.HostNameAndPort.endsWith(Tv)){const u=c.HostNameAndPort.split(".")[0];i=`${i}${u}${XA}`}return i}}Qt.reservedTenantDomains=new Set(["{tenant}","{tenantid}",Wi.COMMON,Wi.CONSUMERS,Wi.ORGANIZATIONS]);function r0(r){const s=new ke(r).getUrlComponents().PathSegments.slice(-1)[0]?.toLowerCase();switch(s){case Wi.COMMON:case Wi.ORGANIZATIONS:case Wi.CONSUMERS:return;default:return s}}function GS(r){return r.endsWith(Ih)?r:`${r}${Ih}`}function s0(r){const t=r.cloudDiscoveryMetadata;let i;if(t)try{i=JSON.parse(t)}catch{throw Ge(uS)}return{canonicalAuthority:r.authority?GS(r.authority):void 0,knownAuthorities:r.knownAuthorities,cloudDiscoveryMetadata:i}}async function qS(r,t,i,s,c,u,h){const m=Qt.transformCIAMAuthority(GS(r)),p=new Qt(m,t,i,s,c,u,h);try{return await z(p.resolveEndpointsAsync.bind(p),Lx,c,h,u)(),p}catch{throw V(Qi)}}class VS{constructor(t,i){this.includeRedirectUri=!0,this.config=Nf(t),this.logger=new Pn(this.config.loggerOptions,Nl,co),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=i,this.oidcDefaultScopes=this.config.authOptions.authority.options.OIDCOptions?.defaultScopes}async acquireToken(t,i){if(!t.code)throw V(Nw);i&&i.cloud_instance_host_name&&await z(this.updateTokenEndpointAuthority.bind(this),Ux,this.logger,this.performanceClient,t.correlationId)(i.cloud_instance_host_name,t.correlationId);const s=zn(),c=await z(this.executeTokenRequest.bind(this),Mx,this.logger,this.performanceClient,t.correlationId)(this.authority,t,this.serverTelemetryManager),u=c.headers?.[zt.X_MS_REQUEST_ID],h=new ka(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.performanceClient,this.config.serializableCache,this.config.persistencePlugin);return h.validateTokenResponse(c.body,t.correlationId),z(h.handleServerTokenResponse.bind(h),Of,this.logger,this.performanceClient,t.correlationId)(c.body,this.authority,s,t,i,void 0,void 0,void 0,u)}getLogoutUri(t){if(!t)throw Ge(dw);const i=this.createLogoutUrlQueryString(t);return ke.appendQueryString(this.authority.endSessionEndpoint,i)}async executeTokenRequest(t,i,s){const c=KS(i,this.config.authOptions.clientId,this.config.authOptions.redirectUri,this.performanceClient),u=ke.appendQueryString(t.tokenEndpoint,c),h=await z(this.createTokenRequestBody.bind(this),Dx,this.logger,this.performanceClient,i.correlationId)(i);let m;if(i.clientInfo)try{const v=hl(i.clientInfo,this.cryptoUtils.base64Decode);m={credential:`${v.uid}${kh}${v.utid}`,type:Un.HOME_ACCOUNT_ID}}catch{this.logger.verbose("0wznt3",i.correlationId)}const p=BS(this.logger,this.config.systemOptions.preventCorsPreflight,m||i.ccsCredential),g=Ol(this.config.authOptions.clientId,i);return z(FS,Rx,this.logger,this.performanceClient,i.correlationId)(u,h,p,g,i.correlationId,this.cacheManager,this.networkClient,this.logger,this.performanceClient,s)}async createTokenRequestBody(t){const i=new Map;if(gf(i,t.embeddedClientId||t.extraParameters?.[Ia]||this.config.authOptions.clientId),this.includeRedirectUri)pf(i,t.redirectUri);else if(!t.redirectUri)throw Ge(sw);if(mf(i,t.scopes,!0,this.oidcDefaultScopes),Fw(i,t.code),Cf(i,this.config.libraryInfo),Sf(i,this.config.telemetry.application),wS(i),this.serverTelemetryManager&&!MS(this.config)&&TS(i,this.serverTelemetryManager),t.codeVerifier&&qw(i,t.codeVerifier),this.config.clientCredentials.clientSecret&&CS(i,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const c=this.config.clientCredentials.clientAssertion;SS(i,await HS(c.assertion,this.config.authOptions.clientId,t.resourceRequestUri)),bS(i,c.assertionType)}if(_S(i,WC.AUTHORIZATION_CODE_GRANT),_f(i),t.authenticationScheme===Le.POP){const c=new Pr(this.cryptoUtils,this.performanceClient);let u;t.popKid?u=this.cryptoUtils.encodeKid(t.popKid):u=(await z(c.generateCnf.bind(c),uo,this.logger,this.performanceClient,t.correlationId)(t,this.logger)).reqCnfString,Ef(i,u)}else if(t.authenticationScheme===Le.SSH)if(t.sshJwk)AS(i,t.sshJwk);else throw Ge(hf);(!An.isEmptyObj(t.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&yf(i,t.claims,this.config.authOptions.clientCapabilities);let s;if(t.clientInfo)try{const c=hl(t.clientInfo,this.cryptoUtils.base64Decode);s={credential:`${c.uid}${kh}${c.utid}`,type:Un.HOME_ACCOUNT_ID}}catch{this.logger.verbose("0wznt3",t.correlationId)}else s=t.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&s)switch(s.type){case Un.HOME_ACCOUNT_ID:try{const c=kr(s.credential);Zs(i,c)}catch{this.logger.verbose("1qhtee",t.correlationId)}break;case Un.UPN:cl(i,s.credential);break}return t.embeddedClientId&&xl(i,this.config.authOptions.clientId,this.config.authOptions.redirectUri),t.extraParameters&&Jn(i,t.extraParameters),t.enableSpaAuthorizationCode&&(!t.extraParameters||!t.extraParameters[Mv])&&Jn(i,{[Mv]:"1"}),wl(i,t.correlationId,this.performanceClient),io(i)}createLogoutUrlQueryString(t){const i=new Map;return t.postLogoutRedirectUri&&Pw(i,t.postLogoutRedirectUri),t.correlationId&&vf(i,t.correlationId),t.idTokenHint&&zw(i,t.idTokenHint),t.state&&vS(i,t.state),t.logoutHint&&Yw(i,t.logoutHint),t.extraQueryParameters&&Jn(i,t.extraQueryParameters),this.config.authOptions.instanceAware&&ES(i),io(i)}async updateTokenEndpointAuthority(t,i){const s=`https://${t}/${this.authority.tenant}/`,c=await qS(s,this.networkClient,this.cacheManager,this.authority.options,this.logger,i,this.performanceClient);this.authority=c}}const o0=300;class c0{constructor(t,i){this.config=Nf(t),this.logger=new Pn(this.config.loggerOptions,Nl,co),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=i}async acquireToken(t){const i=zn(),s=await z(this.executeTokenRequest.bind(this),jx,this.logger,this.performanceClient,t.correlationId)(t,this.authority),c=s.headers?.[zt.X_MS_REQUEST_ID],u=new ka(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.performanceClient,this.config.serializableCache,this.config.persistencePlugin);return u.validateTokenResponse(s.body,t.correlationId),z(u.handleServerTokenResponse.bind(u),Of,this.logger,this.performanceClient,t.correlationId)(s.body,this.authority,i,t,void 0,void 0,!0,t.forceCache,c)}async acquireTokenByRefreshToken(t){if(!t)throw Ge(uw);if(!t.account)throw V(mS);if(this.cacheManager.isAppMetadataFOCI(t.account.environment,t.correlationId))try{return await z(this.acquireTokenWithCachedRefreshToken.bind(this),yh,this.logger,this.performanceClient,t.correlationId)(t,!0)}catch(s){const c=s instanceof wn&&s.errorCode===Hh,u=s instanceof za&&s.errorCode===bT&&s.subError===_T;if(c||u)return z(this.acquireTokenWithCachedRefreshToken.bind(this),yh,this.logger,this.performanceClient,t.correlationId)(t,!1);throw s}return z(this.acquireTokenWithCachedRefreshToken.bind(this),yh,this.logger,this.performanceClient,t.correlationId)(t,!1)}async acquireTokenWithCachedRefreshToken(t,i){const s=Ln(this.cacheManager.getRefreshToken.bind(this.cacheManager),Gx,this.logger,this.performanceClient,t.correlationId)(t.account,i,t.correlationId,void 0);if(!s)throw fl(Hh);if(s.expiresOn){const u=t.refreshTokenExpirationOffsetSeconds||o0;if(this.performanceClient?.addFields({cacheRtExpiresOnSeconds:Number(s.expiresOn),rtOffsetSeconds:u},t.correlationId),ml(s.expiresOn,u))throw fl(DS)}const c={...t,refreshToken:s.secret,authenticationScheme:t.authenticationScheme||Le.BEARER,ccsCredential:{credential:t.account.homeAccountId,type:Un.HOME_ACCOUNT_ID}};try{return await z(this.acquireToken.bind(this),Ox,this.logger,this.performanceClient,t.correlationId)(c)}catch(u){if(u instanceof wn&&u.subError===Rf){this.logger.verbose("1pg3ap",t.correlationId);const h=this.cacheManager.generateCredentialKey(s);this.cacheManager.removeRefreshToken(h,t.correlationId)}throw u}}async executeTokenRequest(t,i){const s=KS(t,this.config.authOptions.clientId,this.config.authOptions.redirectUri,this.performanceClient),c=ke.appendQueryString(i.tokenEndpoint,s),u=await z(this.createTokenRequestBody.bind(this),Ix,this.logger,this.performanceClient,t.correlationId)(t),h=BS(this.logger,this.config.systemOptions.preventCorsPreflight,t.ccsCredential),m=Ol(this.config.authOptions.clientId,t);return z(FS,Nx,this.logger,this.performanceClient,t.correlationId)(c,u,h,m,t.correlationId,this.cacheManager,this.networkClient,this.logger,this.performanceClient,this.serverTelemetryManager)}async createTokenRequestBody(t){const i=new Map;if(gf(i,t.embeddedClientId||t.extraParameters?.[Ia]||this.config.authOptions.clientId),t.redirectUri&&pf(i,t.redirectUri),mf(i,t.scopes,!0,this.config.authOptions.authority.options.OIDCOptions?.defaultScopes),_S(i,WC.REFRESH_TOKEN_GRANT),_f(i),Cf(i,this.config.libraryInfo),Sf(i,this.config.telemetry.application),wS(i),this.serverTelemetryManager&&!MS(this.config)&&TS(i,this.serverTelemetryManager),Gw(i,t.refreshToken),this.config.clientCredentials.clientSecret&&CS(i,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const s=this.config.clientCredentials.clientAssertion;SS(i,await HS(s.assertion,this.config.authOptions.clientId,t.resourceRequestUri)),bS(i,s.assertionType)}if(t.authenticationScheme===Le.POP){const s=new Pr(this.cryptoUtils,this.performanceClient);let c;t.popKid?c=this.cryptoUtils.encodeKid(t.popKid):c=(await z(s.generateCnf.bind(s),uo,this.logger,this.performanceClient,t.correlationId)(t,this.logger)).reqCnfString,Ef(i,c)}else if(t.authenticationScheme===Le.SSH)if(t.sshJwk)AS(i,t.sshJwk);else throw Ge(hf);if((!An.isEmptyObj(t.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&yf(i,t.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&t.ccsCredential)switch(t.ccsCredential.type){case Un.HOME_ACCOUNT_ID:try{const s=kr(t.ccsCredential.credential);Zs(i,s)}catch{this.logger.verbose("1qhtee",t.correlationId)}break;case Un.UPN:cl(i,t.ccsCredential.credential);break}return t.embeddedClientId&&xl(i,this.config.authOptions.clientId,this.config.authOptions.redirectUri),t.extraParameters&&Jn(i,{...t.extraParameters}),wl(i,t.correlationId,this.performanceClient),io(i)}}class l0{constructor(t,i){this.config=Nf(t),this.logger=new Pn(this.config.loggerOptions,Nl,co),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=i}async acquireCachedToken(t){let i=Aa.NOT_APPLICABLE;if(t.forceRefresh||!An.isEmptyObj(t.claims))throw this.setCacheOutcome(Aa.FORCE_REFRESH_OR_CLAIMS,t.correlationId),V(Na);if(!t.account)throw V(mS);const s=t.account.tenantId||r0(t.authority),c=this.cacheManager.getTokenKeys(),u=this.cacheManager.getAccessToken(t.account,t,c,s);if(u){if(wx(u.cachedAt)||ml(u.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(Aa.CACHED_ACCESS_TOKEN_EXPIRED,t.correlationId),V(Na);u.refreshOn&&ml(u.refreshOn,0)&&(i=Aa.PROACTIVELY_REFRESHED)}else throw this.setCacheOutcome(Aa.NO_CACHED_ACCESS_TOKEN,t.correlationId),V(Na);const h=t.authority||this.authority.getPreferredCache(),m={account:this.cacheManager.getAccount(this.cacheManager.generateAccountKey(t.account),t.correlationId),accessToken:u,idToken:this.cacheManager.getIdToken(t.account,t.correlationId,c,s),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(h,t.correlationId)};return this.setCacheOutcome(i,t.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await z(this.generateResultFromCacheRecord.bind(this),kx,this.logger,this.performanceClient,t.correlationId)(m,t),i]}setCacheOutcome(t,i){this.serverTelemetryManager?.setCacheOutcome(t),this.performanceClient?.addFields({cacheOutcome:t},i),t!==Aa.NOT_APPLICABLE&&this.logger.info("09ingz",i)}async generateResultFromCacheRecord(t,i){let s;if(t.idToken&&(s=yi(t.idToken.secret,this.config.cryptoInterface.base64Decode)),i.maxAge||i.maxAge===0){const c=s?.auth_time;if(!c)throw V(fS);NS(c,i.maxAge)}return ka.generateAuthenticationResult(this.cryptoUtils,this.authority,t,!0,i,this.performanceClient,s)}}const u0={sendGetRequestAsync:()=>Promise.reject(V(Ce)),sendPostRequestAsync:()=>Promise.reject(V(Ce))};function d0(r,t,i,s){const c=t.correlationId,u=new Map;gf(u,t.embeddedClientId||t.extraQueryParameters?.[Ia]||r.clientId);const h=[...t.scopes||[],...t.extraScopesToConsent||[]];if(mf(u,h,!0,r.authority.options.OIDCOptions?.defaultScopes),pf(u,t.redirectUri),vf(u,c),Uw(u,t.responseMode),_f(u),t.prompt&&(Bw(u,t.prompt),s?.addFields({prompt:t.prompt},c)),t.domainHint&&(Hw(u,t.domainHint),s?.addFields({domainHintFromRequest:!0},c)),t.prompt!==Jt.SELECT_ACCOUNT)if(t.sid&&t.prompt===Jt.NONE)i.verbose("1tvqyx",t.correlationId),Pv(u,t.sid),s?.addFields({sidFromRequest:!0},c);else if(t.account){const m=m0(t.account);let p=g0(t.account);if(p&&t.domainHint&&(i.warning("0wkg3v",t.correlationId),p=null),p){i.verbose("1eyfsw",t.correlationId),Bc(u,p),s?.addFields({loginHintFromClaim:!0},c);try{const g=kr(t.account.homeAccountId);Zs(u,g)}catch{i.verbose("12ugck",t.correlationId)}}else if(m&&t.prompt===Jt.NONE){i.verbose("1rmd8s",t.correlationId),Pv(u,m),s?.addFields({sidFromClaim:!0},c);try{const g=kr(t.account.homeAccountId);Zs(u,g)}catch{i.verbose("12ugck",t.correlationId)}}else if(t.loginHint)i.verbose("0y3007",t.correlationId),Bc(u,t.loginHint),cl(u,t.loginHint),s?.addFields({loginHintFromRequest:!0},c);else if(t.account.username){i.verbose("02f507",t.correlationId),Bc(u,t.account.username),s?.addFields({loginHintFromUpn:!0},c);try{const g=kr(t.account.homeAccountId);Zs(u,g)}catch{i.verbose("12ugck",t.correlationId)}}}else t.loginHint&&(i.verbose("0g01ey",t.correlationId),Bc(u,t.loginHint),cl(u,t.loginHint),s?.addFields({loginHintFromRequest:!0},c));else i.verbose("169k9v",t.correlationId);return t.nonce&&Kw(u,t.nonce),t.state&&vS(u,t.state),(t.claims||r.clientCapabilities&&r.clientCapabilities.length>0)&&yf(u,t.claims,r.clientCapabilities),t.embeddedClientId&&xl(u,r.clientId,r.redirectUri),r.instanceAware&&(!t.extraQueryParameters||!Object.keys(t.extraQueryParameters).includes(Dh))&&ES(u),u}function Mf(r,t){const i=io(t);return ke.appendQueryString(r.authorizationEndpoint,i)}function h0(r,t){if(YS(r,t),!r.code)throw V(kw);return r}function YS(r,t){if(!r.state||!t)throw r.state?V(Dv,"Cached State"):V(Dv,"Server State");let i,s;try{i=decodeURIComponent(r.state)}catch{throw V(no,r.state)}try{s=decodeURIComponent(t)}catch{throw V(no,r.state)}if(i!==s)throw V(Aw);if(r.error||r.error_description||r.suberror){const c=f0(r);throw LS(r.error,r.error_description,r.suberror)?new wn(r.error||"",r.error_description,r.suberror,r.timestamp||"",r.trace_id||"",r.correlation_id||"",r.claims||"",c):new za(r.error||"",r.error_description,r.suberror,c)}}function f0(r){const t="code=",i=r.error_uri?.lastIndexOf(t);return i&&i>=0?r.error_uri?.substring(i+t.length):void 0}function m0(r){return r.idTokenClaims?.sid||null}function g0(r){return r.loginHint||r.idTokenClaims?.login_hint||null}const Bh="unexpected_error";const Wv=",",QS="|";function p0(r){const{skus:t,libraryName:i,libraryVersion:s,extensionName:c,extensionVersion:u}=r,h=new Map([[0,[i,s]],[2,[c,u]]]);let m=[];if(t?.length){if(m=t.split(Wv),m.length<4)return t}else m=Array.from({length:4},()=>QS);return h.forEach((p,g)=>{p.length===2&&p[0]?.length&&p[1]?.length&&y0({skuArr:m,index:g,skuName:p[0],skuVersion:p[1]})}),m.join(Wv)}function y0(r){const{skuArr:t,index:i,skuName:s,skuVersion:c}=r;i>=t.length||(t[i]=[s,c].join(QS))}class ao{constructor(t,i){this.cacheOutcome=Aa.NOT_APPLICABLE,this.cacheManager=i,this.apiId=t.apiId,this.correlationId=t.correlationId,this.wrapperSKU=t.wrapperSKU||"",this.wrapperVer=t.wrapperVer||"",this.telemetryCacheKey=nS+tS+t.clientId}generateCurrentRequestHeaderValue(){const t=`${this.apiId}${xr}${this.cacheOutcome}`,i=[this.wrapperSKU,this.wrapperVer],s=this.getNativeBrokerErrorCode();s?.length&&i.push(`broker_error=${s}`);const c=i.join(xr),u=this.getRegionDiscoveryFields(),h=[t,u].join(xr);return[Iv,h,c].join(kv)}generateLastRequestHeaderValue(){const t=this.getLastRequests(),i=ao.maxErrorsToSend(t),s=t.failedRequests.slice(0,2*i).join(xr),c=t.errors.slice(0,i).join(xr),u=t.errors.length,h=i<u?gT:pT,m=[u,h].join(xr);return[Iv,t.cacheHits,s,c,m].join(kv)}cacheFailedRequest(t){const i=this.getLastRequests();i.errors.length>=mT&&(i.failedRequests.shift(),i.failedRequests.shift(),i.errors.shift()),i.failedRequests.push(this.apiId,this.correlationId),t instanceof Error&&t&&t.toString()?t instanceof Ke?t.subError?i.errors.push(t.subError):t.errorCode?i.errors.push(t.errorCode):i.errors.push(t.toString()):i.errors.push(t.toString()):i.errors.push(yT),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,i,this.correlationId)}incrementCacheHits(){const t=this.getLastRequests();return t.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t,this.correlationId),t.cacheHits}getLastRequests(){const t={failedRequests:[],errors:[],cacheHits:0};return this.cacheManager.getServerTelemetry(this.telemetryCacheKey,this.correlationId)||t}clearTelemetryCache(){const t=this.getLastRequests(),i=ao.maxErrorsToSend(t),s=t.errors.length;if(i===s)this.cacheManager.removeItem(this.telemetryCacheKey,this.correlationId);else{const c={failedRequests:t.failedRequests.slice(i*2),errors:t.errors.slice(i),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,c,this.correlationId)}}static maxErrorsToSend(t){let i,s=0,c=0;const u=t.errors.length;for(i=0;i<u;i++){const h=t.failedRequests[2*i]||"",m=t.failedRequests[2*i+1]||"",p=t.errors[i]||"";if(c+=h.toString().length+m.toString().length+p.length+3,c<fT)s+=1;else break}return s}getRegionDiscoveryFields(){const t=[];return t.push(this.regionUsed||""),t.push(this.regionSource||""),t.push(this.regionOutcome||""),t.join(",")}updateRegionDiscoveryMetadata(t){this.regionUsed=t.region_used,this.regionSource=t.region_source,this.regionOutcome=t.region_outcome}setCacheOutcome(t){this.cacheOutcome=t}setNativeBrokerErrorCode(t){const i=this.getLastRequests();i.nativeBrokerErrorCode=t,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,i,this.correlationId)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){const t=this.getLastRequests();delete t.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t,this.correlationId)}static makeExtraSkuString(t){return p0(t)}}class Df extends Ke{constructor(t,i){super(t,i),this.name="JoseHeaderError",Object.setPrototypeOf(this,Df.prototype)}}function eC(r){return new Df(r)}const v0="missing_kid_error",C0="missing_alg_error";class Uf{constructor(t){this.typ=t.typ,this.alg=t.alg,this.kid=t.kid}static getShrHeaderString(t){if(!t.kid)throw eC(v0);if(!t.alg)throw eC(C0);const i=new Uf({typ:t.typ||ET.Pop,kid:t.kid,alg:t.alg});return JSON.stringify(i)}}function Ml(r){return`See https://aka.ms/msal.js.errors#${r} for details`}class ho extends Ke{constructor(t,i){super(t,Ml(t),i),Object.setPrototypeOf(this,ho.prototype),this.name="BrowserAuthError"}}function Z(r,t){return new ho(r,t)}const _n={INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",MSAL_SKU:"msal.js.browser"},En={CHANNEL_ID:"53ee284d-920a-4b59-9d30-a60315b26836",PREFERRED_EXTENSION_ID:"ppnbnpeolgkicgegkbkbjmhlideopiji",MATS_TELEMETRY:"MATS",MICROSOFT_ENTRA_BROKERID:"MicrosoftEntra",DOM_API_NAME:"DOM API",PLATFORM_DOM_APIS:"get-token-and-sign-out",PLATFORM_DOM_PROVIDER:"PlatformAuthDOMHandler",PLATFORM_EXTENSION_PROVIDER:"PlatformAuthExtensionHandler"},Vs={HandshakeRequest:"Handshake",HandshakeResponse:"HandshakeResponse",GetToken:"GetToken",Response:"Response"},Tn={LocalStorage:"localStorage",SessionStorage:"sessionStorage",MemoryStorage:"memoryStorage"},tC={GET:"GET",POST:"POST"},Xi={SIGNIN:"signin",SIGNOUT:"signout"},mt={ORIGIN_URI:"request.origin",URL_HASH:"urlHash",REQUEST_PARAMS:"request.params",VERIFIER:"code.verifier",INTERACTION_STATUS_KEY:"interaction.status",NATIVE_REQUEST:"request.native"},Fc={WRAPPER_SKU:"wrapper.sku",WRAPPER_VER:"wrapper.version"},Me={acquireTokenRedirect:861,acquireTokenPopup:862,ssoSilent:863,acquireTokenSilent_authCode:864,handleRedirectPromise:865,acquireTokenByCode:866,acquireTokenSilent_silentFlow:61,logout:961,logoutPopup:962};var ce;(function(r){r.Redirect="redirect",r.Popup="popup",r.Silent="silent",r.None="none"})(ce||(ce={}));const Ct={Startup:"startup",Logout:"logout",AcquireToken:"acquireToken",HandleRedirect:"handleRedirect",None:"none"},nC={scopes:Br},JS="jwk",S0={React:"@azure/msal-react"},Kh="msal.db",b0=1,_0=`${Kh}.keys`,Pt={Default:0,AccessToken:1,AccessTokenAndRefreshToken:2,RefreshToken:3,RefreshTokenAndNetwork:4,Skip:5},E0=[Pt.Default,Pt.Skip,Pt.RefreshTokenAndNetwork];function Gc(r){return encodeURIComponent(ro(r).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function ia(r){return XS(r).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ro(r){return XS(new TextEncoder().encode(r))}function XS(r){const t=Array.from(r,i=>String.fromCodePoint(i)).join("");return btoa(t)}const $S="pkce_not_created",ZS="ear_jwk_empty",A0="ear_jwe_empty",iC="crypto_nonexistent",Lf="empty_navigate_uri",T0="hash_empty_error",Pf="no_state_in_hash",w0="hash_does_not_contain_known_properties",WS="unable_to_parse_state",x0="state_interaction_type_mismatch",N0="interaction_in_progress",R0="interaction_in_progress_cancelled",j0="popup_window_error",O0="empty_window_error",Fh="user_cancelled",I0="redirect_bridge_empty_response",k0="redirect_in_iframe",M0="block_iframe_reload",D0="block_nested_popups",zf="silent_logout_unsupported",U0="no_account_error",L0="no_token_request_cache_error",P0="unable_to_parse_token_request_cache_error",eb="non_browser_environment",Ys="database_not_open",Gh="no_network_connectivity",z0="post_request_failed",H0="get_request_failed",aC="failed_to_parse_response",tb="crypto_key_not_found",B0="auth_code_required",K0="auth_code_or_nativeAccountId_required",F0="spa_code_and_nativeAccountId_present",nb="database_unavailable",G0="unable_to_acquire_token_from_native_platform",q0="native_handshake_timeout",V0="native_extension_not_installed",ib="native_connection_not_established",Xc="uninitialized_public_client_application",Y0="native_prompt_not_supported",Q0="invalid_base64_string",J0="invalid_pop_token_request",X0="failed_to_build_headers",$0="failed_to_parse_headers",Ch="failed_to_decrypt_ear_response",gl="timed_out",Z0="empty_response";function un(r){return new TextDecoder().decode(ea(r))}function ea(r){let t=r.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Z(Q0)}const i=atob(t);return Uint8Array.from(i,s=>s.codePointAt(0)||0)}const W0="RSASSA-PKCS1-v1_5",Kr="AES-GCM",ab="HKDF",Hf="SHA-256",eN=2048,tN=new Uint8Array([1,0,1]),rC="0123456789abcdef",sC=new Uint32Array(1),Bf="raw",rb="encrypt",Kf="decrypt",nN="deriveKey",iN="crypto_subtle_undefined",Ff={name:W0,hash:Hf,modulusLength:eN,publicExponent:tN};function aN(r){if(!window)throw Z(eb);if(!window.crypto)throw Z(iC);if(!r&&!window.crypto.subtle)throw Z(iC,iN)}async function sb(r){const i=new TextEncoder().encode(r);return window.crypto.subtle.digest(Hf,i)}function rN(r){return window.crypto.getRandomValues(r)}function Sh(){return window.crypto.getRandomValues(sC),sC[0]}function Ma(){const r=Date.now(),t=Sh()*1024+(Sh()&1023),i=new Uint8Array(16),s=Math.trunc(t/2**30),c=t&2**30-1,u=Sh();i[0]=r/2**40,i[1]=r/2**32,i[2]=r/2**24,i[3]=r/2**16,i[4]=r/2**8,i[5]=r,i[6]=112|s>>>8,i[7]=s,i[8]=128|c>>>24,i[9]=c>>>16,i[10]=c>>>8,i[11]=c,i[12]=u>>>24,i[13]=u>>>16,i[14]=u>>>8,i[15]=u;let h="";for(let m=0;m<i.length;m++)h+=rC.charAt(i[m]>>>4),h+=rC.charAt(i[m]&15),(m===3||m===5||m===7||m===9)&&(h+="-");return h}async function sN(r,t){return window.crypto.subtle.generateKey(Ff,r,t)}async function bh(r){return window.crypto.subtle.exportKey(JS,r)}async function oN(r,t,i){return window.crypto.subtle.importKey(JS,r,Ff,t,i)}async function cN(r,t){return window.crypto.subtle.sign(Ff,r,t)}async function Gf(){const r=await ob(),i={alg:"dir",kty:"oct",k:ia(new Uint8Array(r))};return ro(JSON.stringify(i))}async function lN(r){const t=un(r),s=JSON.parse(t).k,c=ea(s);return window.crypto.subtle.importKey(Bf,c,Kr,!1,[Kf])}async function uN(r,t){const i=t.split(".");if(i.length!==5)throw Z(Ch,"jwe_length");const s=await lN(r).catch(()=>{throw Z(Ch,"import_key")});try{const c=new TextEncoder().encode(i[0]),u=ea(i[2]),h=ea(i[3]),m=ea(i[4]),p=m.byteLength*8,g=new Uint8Array(h.length+m.length);g.set(h),g.set(m,h.length);const v=await window.crypto.subtle.decrypt({name:Kr,iv:u,tagLength:p,additionalData:c},s,g);return new TextDecoder().decode(v)}catch{throw Z(Ch,"decrypt")}}async function ob(){const r=await window.crypto.subtle.generateKey({name:Kr,length:256},!0,[rb,Kf]);return window.crypto.subtle.exportKey(Bf,r)}async function oC(r){return window.crypto.subtle.importKey(Bf,r,ab,!1,[nN])}async function cb(r,t,i){return window.crypto.subtle.deriveKey({name:ab,salt:t,hash:Hf,info:new TextEncoder().encode(i)},r,{name:Kr,length:256},!1,[rb,Kf])}async function dN(r,t,i){const s=new TextEncoder().encode(t),c=window.crypto.getRandomValues(new Uint8Array(16)),u=await cb(r,c,i),h=await window.crypto.subtle.encrypt({name:Kr,iv:new Uint8Array(12)},u,s);return{data:ia(new Uint8Array(h)),nonce:ia(c)}}async function cC(r,t,i,s){const c=ea(s),u=await cb(r,ea(t),i),h=await window.crypto.subtle.decrypt({name:Kr,iv:new Uint8Array(12)},u,c);return new TextDecoder().decode(h)}async function hN(r){const t=await sb(r),i=new Uint8Array(t);return ia(i)}class qf extends Ke{constructor(t,i){super(t,i),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,qf.prototype)}}function vt(r){return new qf(r,Ml(r))}const lb="storage_not_supported",Lt="stubbed_public_client_application_called",fN="in_mem_redirect_unavailable";function mN(){const r=window.location.hash,t=window.location.search;let i=!1,s=!1,c="",u;if(r&&r.length>1){const v=r.charAt(0)==="#"?r.substring(1):r,C=new URLSearchParams(v);C.has("state")&&(i=!0,c=v,u=C)}if(t&&t.length>1){const v=t.charAt(0)==="?"?t.substring(1):t,C=new URLSearchParams(v);C.has("state")&&(s=!0,c=v,u=C)}if(i&&s){const v=t.charAt(0)==="?"?t.substring(1):t,C=r.charAt(0)==="#"?r.substring(1):r;c=`${v}${C}`,u=new URLSearchParams(c)}if(!c||!u)throw Z(Z0);const h=u.get("state");if(!h)throw Z(Pf);const{libraryState:m}=lo(un,h),{id:p,meta:g}=m;if(!p||!g)throw Z(WS,"missing_library_state");return{params:u,payload:c,urlHash:r,urlQuery:t,hasResponseInHash:i,hasResponseInQuery:s,libraryState:{id:p,meta:g}}}function ub(r){r.location.hash="",typeof r.history.replaceState=="function"&&r.history.replaceState(null,"",`${r.location.origin}${r.location.pathname}${r.location.search}`)}function gN(r){const t=r.split("#");t.shift(),window.location.hash=t.length>0?t.join("#"):""}function Dl(){return window.parent!==window}function pN(){if(Dl())return!1;try{const{libraryState:r}=mN(),{meta:t}=r;return t.interactionType===ce.Popup}catch{return!1}}let $i=null;function yN(r,t){$i&&(r.verbose("18y01k",t),clearTimeout($i.timeoutId),$i.channel.close(),$i.reject(Z(R0)),$i=null)}async function jr(r,t,i,s){return new Promise((c,u)=>{t.verbose("1rf6em",s.correlationId);const{libraryState:h}=lo(i.base64Decode,s.state||""),m=new BroadcastChannel(h.id);let p;const g=window.setTimeout(()=>{$i=null,m.close(),u(Z(gl,"redirect_bridge_timeout"))},r);$i={timeoutId:g,channel:m,reject:u},m.onmessage=v=>{p=v.data.payload,$i=null,clearTimeout(g),m.close(),p?c(p):u(Z(I0))}})}function Zi(){return typeof window<"u"&&window.location?window.location.href.split("?")[0].split("#")[0]:""}function vN(){const t=new ke(window.location.href).getUrlComponents();return`${t.Protocol}//${t.HostNameAndPort}/`}function CN(){if(ll(window.location.hash)&&Dl())throw Z(M0)}function SN(r){if(Dl()&&!r)throw Z(k0)}function bN(){if(pN())throw Z(D0)}function db(){if(typeof window>"u")throw Z(eb)}function hb(r){if(!r)throw Z(Xc)}function Vf(r){db(),CN(),bN(),hb(r)}function lC(r,t){if(Vf(r),SN(t.system.allowRedirectInIframe),t.cache.cacheLocation===Tn.MemoryStorage)throw vt(fN)}function fb(r){const t=document.createElement("link");t.rel="preconnect",t.href=new URL(r).origin,t.crossOrigin="anonymous",document.head.appendChild(t),window.setTimeout(()=>{try{document.head.removeChild(t)}catch{}},1e4)}function qh(){return Ma()}const _N="acquireTokenFromCache",EN="acquireTokenByRefreshToken",AN="acquireTokenSilentAsync",TN="cryptoOptsGetPublicKeyThumbprint",wN="cryptoOptsSignJwt",xN="silentCacheClientAcquireToken",NN="silentIframeClientAcquireToken",RN="awaitConcurrentIframe",jN="silentRefreshClientAcquireToken",ja="standardInteractionClientGetDiscoveredAuthority",mb="nativeInteractionClientAcquireToken",ON="refreshTokenClientAcquireTokenByRefreshToken",uC="acquireTokenBySilentIframe",Yf="initializeBaseRequest",IN="initializeSilentRequest",kN="initializeCache",dC="silentIframeClientTokenHelper",_h="silentHandlerInitiateAuthRequest",pl="silentHandlerMonitorIframeForHash",MN="silentHandlerLoadFrameSync",ta="standardInteractionClientCreateAuthCodeClient",Ul="standardInteractionClientGetClientConfiguration",Ll="standardInteractionClientInitializeAuthorizationRequest",DN="silentFlowClientAcquireCachedToken",UN="getStandardParams",LN="handleCodeResponse",Qf="handleResponseEar",gb="handleResponsePlatformBroker",Mr="handleResponseCode",PN="authClientAcquireToken",Ws="deserializeResponse",zN="authorityFactoryCreateDiscoveredInstance",HN="acquireTokenByCodeAsync",BN="handleRedirectPromise",KN="handleNativeRedirectPromise",FN="nativeMessageHandlerHandshake",GN="importExistingCache",Da="generatePkceCodes",qN="generateCodeVerifier",VN="generateCodeChallengeFromVerifier",YN="sha256Digest",QN="getRandomValues",hC="generateHKDF",JN="generateBaseKey",XN="base64Decode",$N="urlEncodeArr",ZN="encrypt",fC="decrypt",Jf="generateEarKey",WN="decryptEarResponse";class eR{constructor(){this.dbName=Kh,this.version=b0,this.tableName=_0,this.dbOpen=!1}async open(){return new Promise((t,i)=>{const s=window.indexedDB.open(this.dbName,this.version);s.addEventListener("upgradeneeded",c=>{c.target.result.createObjectStore(this.tableName)}),s.addEventListener("success",c=>{const u=c;this.db=u.target.result,this.dbOpen=!0,t()}),s.addEventListener("error",()=>i(Z(nb)))})}closeConnection(){const t=this.db;t&&this.dbOpen&&(t.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(t){return await this.validateDbIsOpen(),new Promise((i,s)=>{if(!this.db)return s(Z(Ys));const h=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(t);h.addEventListener("success",m=>{const p=m;this.closeConnection(),i(p.target.result)}),h.addEventListener("error",m=>{this.closeConnection(),s(m)})})}async setItem(t,i){return await this.validateDbIsOpen(),new Promise((s,c)=>{if(!this.db)return c(Z(Ys));const m=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(i,t);m.addEventListener("success",()=>{this.closeConnection(),s()}),m.addEventListener("error",p=>{this.closeConnection(),c(p)})})}async removeItem(t){return await this.validateDbIsOpen(),new Promise((i,s)=>{if(!this.db)return s(Z(Ys));const h=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(t);h.addEventListener("success",()=>{this.closeConnection(),i()}),h.addEventListener("error",m=>{this.closeConnection(),s(m)})})}async getKeys(){return await this.validateDbIsOpen(),new Promise((t,i)=>{if(!this.db)return i(Z(Ys));const u=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();u.addEventListener("success",h=>{const m=h;this.closeConnection(),t(m.target.result)}),u.addEventListener("error",h=>{this.closeConnection(),i(h)})})}async containsKey(t){return await this.validateDbIsOpen(),new Promise((i,s)=>{if(!this.db)return s(Z(Ys));const h=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(t);h.addEventListener("success",m=>{const p=m;this.closeConnection(),i(p.target.result===1)}),h.addEventListener("error",m=>{this.closeConnection(),s(m)})})}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise((t,i)=>{const s=window.indexedDB.deleteDatabase(Kh),c=setTimeout(()=>i(!1),200);s.addEventListener("success",()=>(clearTimeout(c),t(!0))),s.addEventListener("blocked",()=>(clearTimeout(c),t(!0))),s.addEventListener("error",()=>(clearTimeout(c),i(!1)))})}}class Pl{constructor(){this.cache=new Map}async initialize(){}getItem(t){return this.cache.get(t)||null}getUserData(t){return this.getItem(t)}setItem(t,i){this.cache.set(t,i)}async setUserData(t,i){this.setItem(t,i)}removeItem(t){this.cache.delete(t)}getKeys(){const t=[];return this.cache.forEach((i,s)=>{t.push(s)}),t}containsKey(t){return this.cache.has(t)}clear(){this.cache.clear()}decryptData(){return Promise.resolve(null)}}class tR{constructor(t){this.inMemoryCache=new Pl,this.indexedDBCache=new eR,this.logger=t}handleDatabaseAccessError(t,i){if(t instanceof ho&&t.errorCode===nb)this.logger.error("1wx7zz",i);else throw t}async getItem(t,i){const s=this.inMemoryCache.getItem(t);if(!s)try{return this.logger.verbose("0naxpl",i),await this.indexedDBCache.getItem(t)}catch(c){this.handleDatabaseAccessError(c,i)}return s}async setItem(t,i,s){this.inMemoryCache.setItem(t,i);try{await this.indexedDBCache.setItem(t,i)}catch(c){this.handleDatabaseAccessError(c,s)}}async removeItem(t,i){this.inMemoryCache.removeItem(t);try{await this.indexedDBCache.removeItem(t)}catch(s){this.handleDatabaseAccessError(s,i)}}async getKeys(t){const i=this.inMemoryCache.getKeys();if(i.length===0)try{return this.logger.verbose("1iqrbq",t),await this.indexedDBCache.getKeys()}catch(s){this.handleDatabaseAccessError(s,t)}return i}async containsKey(t,i){const s=this.inMemoryCache.containsKey(t);if(!s)try{return this.logger.verbose("03zl2j",i),await this.indexedDBCache.containsKey(t)}catch(c){this.handleDatabaseAccessError(c,i)}return s}clearInMemory(t){this.logger.verbose("03r21p",t),this.inMemoryCache.clear(),this.logger.verbose("0uksk1",t)}async clearPersistent(t){try{this.logger.verbose("0rdqut",t);const i=await this.indexedDBCache.deleteDatabase();return i&&this.logger.verbose("149ouc",t),i}catch(i){return this.handleDatabaseAccessError(i,t),!1}}}class Si{constructor(t,i,s){this.logger=t,aN(s??!1),this.cache=new tR(this.logger),this.performanceClient=i}createNewGuid(){return Ma()}base64Encode(t){return ro(t)}base64Decode(t){return un(t)}base64UrlEncode(t){return Gc(t)}encodeKid(t){return this.base64UrlEncode(JSON.stringify({kid:t}))}async getPublicKeyThumbprint(t){const i=this.performanceClient?.startMeasurement(TN,t.correlationId),s=await sN(Si.EXTRACTABLE,Si.POP_KEY_USAGES),c=await bh(s.publicKey),u={e:c.e,kty:c.kty,n:c.n},h=mC(u),m=await this.hashString(h),p=await bh(s.privateKey),g=await oN(p,!1,["sign"]);return await this.cache.setItem(m,{privateKey:g,publicKey:s.publicKey,requestMethod:t.resourceRequestMethod,requestUri:t.resourceRequestUri},t.correlationId),i&&i.end({success:!0}),m}async removeTokenBindingKey(t,i){if(await this.cache.removeItem(t,i),await this.cache.containsKey(t,i))throw V(Mw)}async clearKeystore(t){this.cache.clearInMemory(t);try{return await this.cache.clearPersistent(t),!0}catch(i){return i instanceof Error?this.logger.error("1owpn8",t):this.logger.error("0yrmwo",t),!1}}async signJwt(t,i,s,c){const u=this.performanceClient?.startMeasurement(wN,c),h=await this.cache.getItem(i,c||"");if(!h)throw Z(tb);const m=await bh(h.publicKey),p=mC(m),g=Gc(JSON.stringify({kid:i})),v=Uf.getShrHeaderString({...s?.header,alg:m.alg,kid:g}),C=Gc(v);t.cnf={jwk:JSON.parse(p)};const b=Gc(JSON.stringify(t)),x=`${C}.${b}`,N=new TextEncoder().encode(x),j=await cN(h.privateKey,N),F=ia(new Uint8Array(j)),H=`${x}.${F}`;return u&&u.end({success:!0}),H}async hashString(t){return hN(t)}}Si.POP_KEY_USAGES=["sign","verify"];Si.EXTRACTABLE=!0;function mC(r){return JSON.stringify(r,Object.keys(r).sort())}const nR="acquireTokenSilent",iR="acquireTokenByCode",aR="acquireTokenPopup",rR="acquireTokenPreRedirect",Eh="acquireTokenRedirect",sR="ssoSilent",oR="initializeClientApplication",cR="localStorageUpdated";const Nt="msal",Xf="browser",gC="|",It=2,$c=2,lR=`${Nt}.${Xf}.log.level`,uR=`${Nt}.${Xf}.log.pii`,dR=`${Nt}.${Xf}.platform.auth.dom`,pC=`${Nt}.version`,yC="account.keys",vC="token.keys";function Dr(r=$c){return r<1?`${Nt}.${yC}`:`${Nt}.${r}.${yC}`}function Ur(r,t=It){return t<1?`${Nt}.${vC}.${r}`:`${Nt}.${t}.${vC}.${r}`}const hR=1440*60*1e3,Vh={Lax:"Lax",None:"None"};class pb{initialize(){return Promise.resolve()}getItem(t){const i=`${encodeURIComponent(t)}`,s=document.cookie.split(";");for(let c=0;c<s.length;c++){const u=s[c],[h,...m]=decodeURIComponent(u).trim().split("="),p=m.join("=");if(h===i)return p}return""}getUserData(){throw V(Ce)}setItem(t,i,s,c=!0,u=Vh.Lax){let h=`${encodeURIComponent(t)}=${encodeURIComponent(i)};path=/;SameSite=${u};`;if(s){const m=fR(s);h+=`expires=${m};`}(c||u===Vh.None)&&(h+="Secure;"),document.cookie=h}async setUserData(){return Promise.reject(V(Ce))}removeItem(t){this.setItem(t,"",-1)}getKeys(){const t=document.cookie.split(";"),i=[];return t.forEach(s=>{const c=decodeURIComponent(s).trim().split("=");i.push(c[0])}),i}containsKey(t){return this.getKeys().includes(t)}decryptData(){return Promise.resolve(null)}}function fR(r){const t=new Date;return new Date(t.getTime()+r*hR).toUTCString()}function Ji(r,t){const i=r.getItem(Dr(t));return i?JSON.parse(i):[]}function kn(r,t,i){const s=t.getItem(Ur(r,i));if(s){const c=JSON.parse(s);if(c&&c.hasOwnProperty("idToken")&&c.hasOwnProperty("accessToken")&&c.hasOwnProperty("refreshToken"))return c}return{idToken:[],accessToken:[],refreshToken:[]}}function Zc(r){return r.hasOwnProperty("id")&&r.hasOwnProperty("nonce")&&r.hasOwnProperty("data")}const CC="msal.cache.encryption",mR="msal.broadcast.cache";class gR{constructor(t,i,s){if(!window.localStorage)throw vt(lb);this.memoryStorage=new Pl,this.initialized=!1,this.clientId=t,this.logger=i,this.performanceClient=s,this.broadcast=new BroadcastChannel(mR)}async initialize(t){const i=new pb,s=i.getItem(CC);let c={key:"",id:""};if(s)try{c=JSON.parse(s)}catch{}if(c.key&&c.id){const u=Ln(ea,XN,this.logger,this.performanceClient,t)(c.key);this.encryptionCookie={id:c.id,key:await z(oC,hC,this.logger,this.performanceClient,t)(u)}}else{const u=Ma(),h=await z(ob,JN,this.logger,this.performanceClient,t)(),m=Ln(ia,$N,this.logger,this.performanceClient,t)(new Uint8Array(h));this.encryptionCookie={id:u,key:await z(oC,hC,this.logger,this.performanceClient,t)(h)};const p={id:u,key:m};i.setItem(CC,JSON.stringify(p),0,!0,Vh.None)}await z(this.importExistingCache.bind(this),GN,this.logger,this.performanceClient,t)(t),this.broadcast.addEventListener("message",u=>{this.updateCache(u,t)}),this.initialized=!0}getItem(t){return window.localStorage.getItem(t)}getUserData(t){if(!this.initialized)throw Z(Xc);return this.memoryStorage.getItem(t)}async decryptData(t,i,s){if(!this.initialized||!this.encryptionCookie)throw Z(Xc);if(i.id!==this.encryptionCookie.id)return this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},s),null;const c=await z(cC,fC,this.logger,this.performanceClient,s)(this.encryptionCookie.key,i.nonce,this.getContext(t),i.data);if(!c)return null;try{return{...JSON.parse(c),lastUpdatedAt:i.lastUpdatedAt}}catch{return this.performanceClient.incrementFields({encryptedCacheCorruptionCount:1},s),null}}setItem(t,i){window.localStorage.setItem(t,i)}async setUserData(t,i,s,c,u){if(!this.initialized||!this.encryptionCookie)throw Z(Xc);if(u)this.setItem(t,i);else{const{data:h,nonce:m}=await z(dN,ZN,this.logger,this.performanceClient,s)(this.encryptionCookie.key,i,this.getContext(t)),p={id:this.encryptionCookie.id,nonce:m,data:h,lastUpdatedAt:c};this.setItem(t,JSON.stringify(p))}this.memoryStorage.setItem(t,i),this.broadcast.postMessage({key:t,value:i,context:this.getContext(t)})}removeItem(t){this.memoryStorage.containsKey(t)&&(this.memoryStorage.removeItem(t),this.broadcast.postMessage({key:t,value:null,context:this.getContext(t)})),window.localStorage.removeItem(t)}getKeys(){return Object.keys(window.localStorage)}containsKey(t){return window.localStorage.hasOwnProperty(t)}clear(){this.memoryStorage.clear(),Ji(this).forEach(s=>this.removeItem(s));const i=kn(this.clientId,this);i.idToken.forEach(s=>this.removeItem(s)),i.accessToken.forEach(s=>this.removeItem(s)),i.refreshToken.forEach(s=>this.removeItem(s)),this.getKeys().forEach(s=>{(s.startsWith(Nt)||s.indexOf(this.clientId)!==-1)&&this.removeItem(s)})}async importExistingCache(t){if(!this.encryptionCookie)return;let i=Ji(this);i=await this.importArray(i,t),i.length?this.setItem(Dr(),JSON.stringify(i)):this.removeItem(Dr());const s=kn(this.clientId,this);s.idToken=await this.importArray(s.idToken,t),s.accessToken=await this.importArray(s.accessToken,t),s.refreshToken=await this.importArray(s.refreshToken,t),s.idToken.length||s.accessToken.length||s.refreshToken.length?this.setItem(Ur(this.clientId),JSON.stringify(s)):this.removeItem(Ur(this.clientId))}async getItemFromEncryptedCache(t,i){if(!this.encryptionCookie)return null;const s=this.getItem(t);if(!s)return null;let c;try{c=JSON.parse(s)}catch{return null}return Zc(c)?c.id!==this.encryptionCookie.id?(this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},i),null):(this.performanceClient.incrementFields({encryptedCacheCount:1},i),z(cC,fC,this.logger,this.performanceClient,i)(this.encryptionCookie.key,c.nonce,this.getContext(t),c.data)):(this.performanceClient.incrementFields({unencryptedCacheCount:1},i),s)}async importArray(t,i){const s=[],c=[];return t.forEach(u=>{const h=this.getItemFromEncryptedCache(u,i).then(m=>{m?(this.memoryStorage.setItem(u,m),s.push(u)):this.removeItem(u)});c.push(h)}),await Promise.all(c),s}getContext(t){let i="";return t.includes(this.clientId)&&(i=this.clientId),i}updateCache(t,i){this.logger.trace("17cxcm",i);const s=this.performanceClient.startMeasurement(cR);s.add({isBackground:!0});const{key:c,value:u,context:h}=t.data;if(!c){this.logger.error("0e10qr",i),s.end({success:!1,errorCode:"noKey"});return}if(h&&h!==this.clientId){this.logger.trace("04rtdy",i),s.end({success:!1,errorCode:"contextMismatch"});return}u?(this.memoryStorage.setItem(c,u),this.logger.verbose("1vzsgt",i)):(this.memoryStorage.removeItem(c),this.logger.verbose("04ypih",i)),s.end({success:!0})}}class pR{constructor(){if(!window.sessionStorage)throw vt(lb)}async initialize(){}getItem(t){return window.sessionStorage.getItem(t)}getUserData(t){return this.getItem(t)}setItem(t,i){window.sessionStorage.setItem(t,i)}async setUserData(t,i){this.setItem(t,i)}removeItem(t){window.sessionStorage.removeItem(t)}getKeys(){return Object.keys(window.sessionStorage)}containsKey(t){return window.sessionStorage.hasOwnProperty(t)}decryptData(){return Promise.resolve(null)}}const re={INITIALIZE_START:"msal:initializeStart",INITIALIZE_END:"msal:initializeEnd",ACTIVE_ACCOUNT_CHANGED:"msal:activeAccountChanged",LOGIN_SUCCESS:"msal:loginSuccess",ACQUIRE_TOKEN_START:"msal:acquireTokenStart",BROKERED_REQUEST_START:"msal:brokeredRequestStart",ACQUIRE_TOKEN_SUCCESS:"msal:acquireTokenSuccess",BROKERED_REQUEST_SUCCESS:"msal:brokeredRequestSuccess",ACQUIRE_TOKEN_FAILURE:"msal:acquireTokenFailure",BROKERED_REQUEST_FAILURE:"msal:brokeredRequestFailure",ACQUIRE_TOKEN_NETWORK_START:"msal:acquireTokenFromNetworkStart",HANDLE_REDIRECT_START:"msal:handleRedirectStart",HANDLE_REDIRECT_END:"msal:handleRedirectEnd",POPUP_OPENED:"msal:popupOpened",LOGOUT_START:"msal:logoutStart",LOGOUT_SUCCESS:"msal:logoutSuccess",LOGOUT_FAILURE:"msal:logoutFailure",LOGOUT_END:"msal:logoutEnd",RESTORE_FROM_BFCACHE:"msal:restoreFromBFCache",BROKER_CONNECTION_ESTABLISHED:"msal:brokerConnectionEstablished"};const yR="@azure/msal-browser",Ua="5.0.2";function Yi(r,t){const i=r.indexOf(t);i>-1&&r.splice(i,1)}class Yh extends zh{constructor(t,i,s,c,u,h,m){super(t,s,c,u,m),this.cacheConfig=i,this.logger=c,this.internalStorage=new Pl,this.browserStorage=SC(t,i.cacheLocation,c,u),this.temporaryCacheStorage=SC(t,Tn.SessionStorage,c,u),this.cookieStorage=new pb,this.eventHandler=h}async initialize(t){this.performanceClient.addFields({cacheLocation:this.cacheConfig.cacheLocation,cacheRetentionDays:this.cacheConfig.cacheRetentionDays},t),await this.browserStorage.initialize(t),await this.migrateExistingCache(t),this.trackVersionChanges(t)}async migrateExistingCache(t){let i=Ji(this.browserStorage),s=kn(this.clientId,this.browserStorage);this.performanceClient.addFields({preMigrateAcntCount:i.length,preMigrateATCount:s.accessToken.length,preMigrateITCount:s.idToken.length,preMigrateRTCount:s.refreshToken.length},t);for(let u=0;u<$c;u++){const h=u;await this.removeStaleAccounts(u,h,t)}for(let u=0;u<It;u++){const h=u;await this.migrateIdTokens(u,h,t)}const c=this.getKMSIValues();for(let u=0;u<It;u++)await this.migrateAccessTokens(u,c,t),await this.migrateRefreshTokens(u,c,t);i=Ji(this.browserStorage),s=kn(this.clientId,this.browserStorage),this.performanceClient.addFields({postMigrateAcntCount:i.length,postMigrateATCount:s.accessToken.length,postMigrateITCount:s.idToken.length,postMigrateRTCount:s.refreshToken.length},t)}async updateOldEntry(t,i){const s=this.browserStorage.getItem(t),c=this.validateAndParseJson(s||"");if(!c)return this.browserStorage.removeItem(t),null;if(!c.lastUpdatedAt)c.lastUpdatedAt=Date.now().toString(),this.setItem(t,JSON.stringify(c),i);else if(Vv(c.lastUpdatedAt,this.cacheConfig.cacheRetentionDays))return this.browserStorage.removeItem(t),this.performanceClient.incrementFields({expiredCacheRemovedCount:1},i),null;const u=Zc(c)?await this.browserStorage.decryptData(t,c,i):c;return!u||!jl(u)?(this.performanceClient.incrementFields({invalidCacheCount:1},i),null):(Jv(u)||Xv(u))&&u.expiresOn&&ml(u.expiresOn,aS)?(this.browserStorage.removeItem(t),this.performanceClient.incrementFields({expiredCacheRemovedCount:1},i),null):u}async removeStaleAccounts(t,i,s){const c=Ji(this.browserStorage,t);if(c.length!==0){for(const u of[...c]){this.performanceClient.incrementFields({oldAcntCount:1},s);const h=this.browserStorage.getItem(u),m=this.validateAndParseJson(h||"");if(!m){Yi(c,u);continue}if(m.lastUpdatedAt)Vv(m.lastUpdatedAt,this.cacheConfig.cacheRetentionDays)&&(await this.removeAccountOldSchema(u,m,i,s),Yi(c,u));else{m.lastUpdatedAt=Date.now().toString(),this.setItem(u,JSON.stringify(m),s);continue}}this.setAccountKeys(c,s,t)}}async removeAccountOldSchema(t,i,s,c){const h=(Zc(i)?await this.browserStorage.decryptData(t,i,c):i)?.homeAccountId;if(h){const m=this.getTokenKeys(s);[...m.idToken].filter(p=>p.includes(h)).forEach(p=>{this.browserStorage.removeItem(p),Yi(m.idToken,p)}),[...m.accessToken].filter(p=>p.includes(h)).forEach(p=>{this.browserStorage.removeItem(p),Yi(m.accessToken,p)}),[...m.refreshToken].filter(p=>p.includes(h)).forEach(p=>{this.browserStorage.removeItem(p),Yi(m.refreshToken,p)}),this.setTokenKeys(m,c,s)}this.performanceClient.incrementFields({expiredAcntRemovedCount:1},c),this.browserStorage.removeItem(t)}getKMSIValues(){const t={},i=this.getTokenKeys().idToken;for(const s of i){const c=this.browserStorage.getUserData(s);if(c){const u=JSON.parse(c),h=yi(u.secret,un);h&&(t[u.homeAccountId]=Ra(h))}}return t}async migrateIdTokens(t,i,s){const c=kn(this.clientId,this.browserStorage,t);if(c.idToken.length===0)return;const u=kn(this.clientId,this.browserStorage,It),h=Ji(this.browserStorage),m=Ji(this.browserStorage,i);for(const p of[...c.idToken]){this.performanceClient.incrementFields({oldITCount:1},s);const g=await this.updateOldEntry(p,s);if(!g){Yi(c.idToken,p);continue}const v=h.find(H=>H.includes(g.homeAccountId)),C=m.find(H=>H.includes(g.homeAccountId));let b=null;if(v)b=this.getAccount(v,s);else if(C){const H=this.browserStorage.getItem(C),M=this.validateAndParseJson(H||"");b=M&&Zc(M)?await this.browserStorage.decryptData(C,M,s):M}if(!b){this.performanceClient.incrementFields({skipITMigrateCount:1},s);continue}const x=yi(g.secret,un),T=this.generateCredentialKey(g),N=this.getIdTokenCredential(T,s),j=Object.keys(x).includes("signin_state"),F=N&&Object.keys(yi(N.secret,un)||{}).includes("signin_state");if(!N||g.lastUpdatedAt>N.lastUpdatedAt&&(j||!F)){const H=b.tenantProfiles||[],M=xf(x)||b.realm;if(M&&!H.find(le=>le.tenantId===M)){const le=Rl(b.homeAccountId,b.localAccountId,M,x);H.push(le)}b.tenantProfiles=H;const X=this.generateAccountKey(na(b)),Y=Ra(x);await this.setUserData(X,JSON.stringify(b),s,b.lastUpdatedAt,Y),h.includes(X)||h.push(X),await this.setUserData(T,JSON.stringify(g),s,g.lastUpdatedAt,Y),this.performanceClient.incrementFields({migratedITCount:1},s),u.idToken.push(T)}}this.setTokenKeys(c,s,t),this.setTokenKeys(u,s),this.setAccountKeys(h,s)}async migrateAccessTokens(t,i,s){const c=kn(this.clientId,this.browserStorage,t);if(c.accessToken.length===0)return;const u=kn(this.clientId,this.browserStorage,It);for(const h of[...c.accessToken]){this.performanceClient.incrementFields({oldATCount:1},s);const m=await this.updateOldEntry(h,s);if(!m){Yi(c.accessToken,h);continue}if(!(m.homeAccountId in i)){this.performanceClient.incrementFields({skipATMigrateCount:1},s);continue}const p=this.generateCredentialKey(m),g=i[m.homeAccountId];if(!u.accessToken.includes(p))await this.setUserData(p,JSON.stringify(m),s,m.lastUpdatedAt,g),this.performanceClient.incrementFields({migratedATCount:1},s),u.accessToken.push(p);else{const v=this.getAccessTokenCredential(p,s);(!v||m.lastUpdatedAt>v.lastUpdatedAt)&&(await this.setUserData(p,JSON.stringify(m),s,m.lastUpdatedAt,g),this.performanceClient.incrementFields({migratedATCount:1},s))}}this.setTokenKeys(c,s,t),this.setTokenKeys(u,s)}async migrateRefreshTokens(t,i,s){const c=kn(this.clientId,this.browserStorage,t);if(c.refreshToken.length===0)return;const u=kn(this.clientId,this.browserStorage,It);for(const h of[...c.refreshToken]){this.performanceClient.incrementFields({oldRTCount:1},s);const m=await this.updateOldEntry(h,s);if(!m){Yi(c.refreshToken,h);continue}if(!(m.homeAccountId in i)){this.performanceClient.incrementFields({skipRTMigrateCount:1},s);continue}const p=this.generateCredentialKey(m),g=i[m.homeAccountId];if(!u.refreshToken.includes(p))await this.setUserData(p,JSON.stringify(m),s,m.lastUpdatedAt,g),this.performanceClient.incrementFields({migratedRTCount:1},s),u.refreshToken.push(p);else{const v=this.getRefreshTokenCredential(p,s);(!v||m.lastUpdatedAt>v.lastUpdatedAt)&&(await this.setUserData(p,JSON.stringify(m),s,m.lastUpdatedAt,g),this.performanceClient.incrementFields({migratedRTCount:1},s))}}this.setTokenKeys(c,s,t),this.setTokenKeys(u,s)}trackVersionChanges(t){const i=this.browserStorage.getItem(pC);i&&(this.logger.info("1wuc87",t),this.performanceClient.addFields({previousLibraryVersion:i},t)),i!==Ua&&this.setItem(pC,Ua,t)}validateAndParseJson(t){if(!t)return null;try{const i=JSON.parse(t);return i&&typeof i=="object"?i:null}catch{return null}}setItem(t,i,s){const c=new Array(It+1).fill(0),u=[],h=20;for(let m=0;m<=h;m++)try{if(this.browserStorage.setItem(t,i),m>0)for(let p=0;p<=It;p++){const g=c.slice(0,p).reduce((C,b)=>C+b,0);if(g>=m)break;const v=m>g+c[p]?g+c[p]:m;m>g&&c[p]>0&&this.removeAccessTokenKeys(u.slice(g,v),s,p)}break}catch(p){const g=Ph(p);if(g.errorCode===Lh&&m<h){if(!u.length)for(let v=0;v<=It;v++)if(t===Ur(this.clientId,v)){const C=JSON.parse(i).accessToken;u.push(...C),c[v]=C.length}else{const C=this.getTokenKeys(v).accessToken;u.push(...C),c[v]=C.length}if(u.length<=m)throw g;this.removeAccessToken(u[m],s,!1)}else throw g}}async setUserData(t,i,s,c,u){const h=new Array(It+1).fill(0),m=[],p=20;for(let g=0;g<=p;g++)try{if(await z(this.browserStorage.setUserData.bind(this.browserStorage),qx,this.logger,this.performanceClient,s)(t,i,s,c,u),g>0)for(let v=0;v<=It;v++){const C=h.slice(0,v).reduce((x,T)=>x+T,0);if(C>=g)break;const b=g>C+h[v]?C+h[v]:g;g>C&&h[v]>0&&this.removeAccessTokenKeys(m.slice(C,b),s,v)}break}catch(v){const C=Ph(v);if(C.errorCode===Lh&&g<p){if(!m.length)for(let b=0;b<=It;b++){const x=this.getTokenKeys(b).accessToken;m.push(...x),h[b]=x.length}if(m.length<=g)throw C;this.removeAccessToken(m[g],s,!1)}else throw C}}getAccount(t,i){this.logger.trace("1lfvm6",i);const s=this.browserStorage.getUserData(t);if(!s)return this.removeAccountKeyFromMap(t,i),null;const c=this.validateAndParseJson(s);return!c||!lx(c)?null:zh.toObject({},c)}async setAccount(t,i,s){this.logger.trace("1bz3wr",i);const c=this.generateAccountKey(na(t)),u=Date.now().toString();t.lastUpdatedAt=u,await this.setUserData(c,JSON.stringify(t),i,u,s),this.addAccountKeyToMap(c,i),this.performanceClient.addFields({kmsi:s},i)}setAccountKeys(t,i,s=$c){t.length===0?this.removeItem(Dr(s)):this.setItem(Dr(s),JSON.stringify(t),i)}getAccountKeys(){return Ji(this.browserStorage)}addAccountKeyToMap(t,i){this.logger.trace("0rb85k",i),this.logger.tracePii("1l9bdo",i);const s=this.getAccountKeys();return s.indexOf(t)===-1?(s.push(t),this.setItem(Dr(),JSON.stringify(s),i),this.logger.verbose("0xia39",i),!0):(this.logger.verbose("0161kk",i),!1)}removeAccountKeyFromMap(t,i){this.logger.trace("1jpigu",i),this.logger.tracePii("1xzspl",i);const s=this.getAccountKeys(),c=s.indexOf(t);c>-1?(s.splice(c,1),this.setAccountKeys(s,i)):this.logger.trace("1dytu2",i)}removeAccount(t,i){const s=this.getActiveAccount(i);s?.homeAccountId===t.homeAccountId&&s?.environment===t.environment&&this.setActiveAccount(null,i),super.removeAccount(t,i),this.removeAccountKeyFromMap(this.generateAccountKey(t),i),this.browserStorage.getKeys().forEach(c=>{c.includes(t.homeAccountId)&&c.includes(t.environment)&&this.browserStorage.removeItem(c)})}removeIdToken(t,i){super.removeIdToken(t,i);const s=this.getTokenKeys(),c=s.idToken.indexOf(t);c>-1&&(this.logger.info("05udv9",i),s.idToken.splice(c,1),this.setTokenKeys(s,i))}removeAccessToken(t,i,s=!0){super.removeAccessToken(t,i),s&&this.removeAccessTokenKeys([t],i)}removeAccessTokenKeys(t,i,s=It){this.logger.trace("17o18n",i);const c=this.getTokenKeys(s);let u=0;if(t.forEach(h=>{const m=c.accessToken.indexOf(h);m>-1&&(c.accessToken.splice(m,1),u++)}),u>0){this.logger.info("15i5d5",i),this.setTokenKeys(c,i,s);return}}removeRefreshToken(t,i){super.removeRefreshToken(t,i);const s=this.getTokenKeys(),c=s.refreshToken.indexOf(t);c>-1&&(this.logger.info("1f4fq3",i),s.refreshToken.splice(c,1),this.setTokenKeys(s,i))}getTokenKeys(t=It){return kn(this.clientId,this.browserStorage,t)}setTokenKeys(t,i,s=It){if(t.idToken.length===0&&t.accessToken.length===0&&t.refreshToken.length===0){this.removeItem(Ur(this.clientId,s));return}else this.setItem(Ur(this.clientId,s),JSON.stringify(t),i)}getIdTokenCredential(t,i){const s=this.browserStorage.getUserData(t);if(!s)return this.logger.trace("1jukz6",i),this.removeIdToken(t,i),null;const c=this.validateAndParseJson(s);return!c||!Jx(c)?(this.logger.trace("1jukz6",i),null):(this.logger.trace("01ju66",i),c)}async setIdTokenCredential(t,i,s){this.logger.trace("13hjll",i);const c=this.generateCredentialKey(t),u=Date.now().toString();t.lastUpdatedAt=u,await this.setUserData(c,JSON.stringify(t),i,u,s);const h=this.getTokenKeys();h.idToken.indexOf(c)===-1&&(this.logger.info("07jy92",i),h.idToken.push(c),this.setTokenKeys(h,i))}getAccessTokenCredential(t,i){const s=this.browserStorage.getUserData(t);if(!s)return this.logger.trace("0bqvx8",i),this.removeAccessTokenKeys([t],i),null;const c=this.validateAndParseJson(s);return!c||!Jv(c)?(this.logger.trace("0bqvx8",i),null):(this.logger.trace("1o81rl",i),c)}async setAccessTokenCredential(t,i,s){this.logger.trace("1pondb",i);const c=this.generateCredentialKey(t),u=Date.now().toString();t.lastUpdatedAt=u,await this.setUserData(c,JSON.stringify(t),i,u,s);const h=this.getTokenKeys(),m=h.accessToken.indexOf(c);m!==-1&&h.accessToken.splice(m,1),this.logger.trace("1onhey",i),h.accessToken.push(c),this.setTokenKeys(h,i)}getRefreshTokenCredential(t,i){const s=this.browserStorage.getUserData(t);if(!s)return this.logger.trace("0jlizt",i),this.removeRefreshToken(t,i),null;const c=this.validateAndParseJson(s);return!c||!Xv(c)?(this.logger.trace("0jlizt",i),null):(this.logger.trace("0nokxi",i),c)}async setRefreshTokenCredential(t,i,s){this.logger.trace("0tcg8d",i);const c=this.generateCredentialKey(t),u=Date.now().toString();t.lastUpdatedAt=u,await this.setUserData(c,JSON.stringify(t),i,u,s);const h=this.getTokenKeys();h.refreshToken.indexOf(c)===-1&&(this.logger.info("0eckjs",i),h.refreshToken.push(c),this.setTokenKeys(h,i))}getAppMetadata(t,i){const s=this.browserStorage.getItem(t);if(!s)return this.logger.trace("1q101h",i),null;const c=this.validateAndParseJson(s);return!c||!Wx(t,c)?(this.logger.trace("1q101h",i),null):(this.logger.trace("19pvg2",i),c)}setAppMetadata(t,i){this.logger.trace("0cyma6",i);const s=Zx(t);this.setItem(s,JSON.stringify(t),i)}getServerTelemetry(t,i){const s=this.browserStorage.getItem(t);if(!s)return this.logger.trace("0jk19c",i),null;const c=this.validateAndParseJson(s);return!c||!Xx(t,c)?(this.logger.trace("0jk19c",i),null):(this.logger.trace("12jguk",i),c)}setServerTelemetry(t,i,s){this.logger.trace("1poh61",s),this.setItem(t,JSON.stringify(i),s)}getAuthorityMetadata(t,i){const s=this.internalStorage.getItem(t);if(!s)return this.logger.trace("1r39oe",i),null;const c=this.validateAndParseJson(s);return c&&e0(t,c)?(this.logger.trace("1ohvk3",i),c):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter(i=>this.isAuthorityMetadata(i))}setWrapperMetadata(t,i){this.internalStorage.setItem(Fc.WRAPPER_SKU,t),this.internalStorage.setItem(Fc.WRAPPER_VER,i)}getWrapperMetadata(){const t=this.internalStorage.getItem(Fc.WRAPPER_SKU)||"",i=this.internalStorage.getItem(Fc.WRAPPER_VER)||"";return[t,i]}setAuthorityMetadata(t,i,s){this.logger.trace("07w8n2",s),this.internalStorage.setItem(t,JSON.stringify(i))}getActiveAccount(t){const i=this.generateCacheKey(Ov.ACTIVE_ACCOUNT_FILTERS),s=this.browserStorage.getItem(i);if(!s)return this.logger.trace("08gw0e",t),null;const c=this.validateAndParseJson(s);return c?(this.logger.trace("1t3ch7",t),this.getAccountInfoFilteredBy({homeAccountId:c.homeAccountId,localAccountId:c.localAccountId,tenantId:c.tenantId},t)):(this.logger.trace("0me1up",t),null)}setActiveAccount(t,i){const s=this.generateCacheKey(Ov.ACTIVE_ACCOUNT_FILTERS);if(t){this.logger.verbose("0rsj80",i);const c={homeAccountId:t.homeAccountId,localAccountId:t.localAccountId,tenantId:t.tenantId};this.setItem(s,JSON.stringify(c),i)}else this.logger.verbose("1bp5z5",i),this.browserStorage.removeItem(s);this.eventHandler.emitEvent(re.ACTIVE_ACCOUNT_CHANGED)}getThrottlingCache(t,i){const s=this.browserStorage.getItem(t);if(!s)return this.logger.trace("1h4wa6",i),null;const c=this.validateAndParseJson(s);return!c||!$x(t,c)?(this.logger.trace("1h4wa6",i),null):(this.logger.trace("0of6n8",i),c)}setThrottlingCache(t,i,s){this.logger.trace("0wfgh6",s),this.setItem(t,JSON.stringify(i),s)}getTemporaryCache(t,i,s){const c=s?this.generateCacheKey(t):t,u=this.temporaryCacheStorage.getItem(c);if(!u){if(this.cacheConfig.cacheLocation===Tn.LocalStorage){const h=this.browserStorage.getItem(c);if(h)return this.logger.trace("1yt61y",i),h}return this.logger.trace("1qhy81",i),null}return u}setTemporaryCache(t,i,s){const c=s?this.generateCacheKey(t):t;this.temporaryCacheStorage.setItem(c,i)}removeItem(t){this.browserStorage.removeItem(t)}removeTemporaryItem(t){this.temporaryCacheStorage.removeItem(t)}getKeys(){return this.browserStorage.getKeys()}clear(t){this.removeAllAccounts(t),this.removeAppMetadata(t),this.temporaryCacheStorage.getKeys().forEach(i=>{(i.indexOf(Nt)!==-1||i.indexOf(this.clientId)!==-1)&&this.removeTemporaryItem(i)}),this.browserStorage.getKeys().forEach(i=>{(i.indexOf(Nt)!==-1||i.indexOf(this.clientId)!==-1)&&this.browserStorage.removeItem(i)}),this.internalStorage.clear()}generateCacheKey(t){return An.startsWith(t,Nt)?t:`${Nt}.${this.clientId}.${t}`}generateCredentialKey(t){const i=t.credentialType===xt.REFRESH_TOKEN&&t.familyId||t.clientId,s=t.tokenType&&t.tokenType.toLowerCase()!==Le.BEARER.toLowerCase()?t.tokenType.toLowerCase():"";return[`${Nt}.${It}`,t.homeAccountId,t.environment,t.credentialType,i,t.realm||"",t.target||"",s].join(gC).toLowerCase()}generateAccountKey(t){const i=t.homeAccountId.split(".")[1];return[`${Nt}.${$c}`,t.homeAccountId,t.environment,i||t.tenantId||""].join(gC).toLowerCase()}resetRequestCache(t){this.logger.trace("0h0ynu",t),this.removeTemporaryItem(this.generateCacheKey(mt.REQUEST_PARAMS)),this.removeTemporaryItem(this.generateCacheKey(mt.VERIFIER)),this.removeTemporaryItem(this.generateCacheKey(mt.ORIGIN_URI)),this.removeTemporaryItem(this.generateCacheKey(mt.URL_HASH)),this.removeTemporaryItem(this.generateCacheKey(mt.NATIVE_REQUEST)),this.setInteractionInProgress(!1,void 0)}cacheAuthorizeRequest(t,i,s){this.logger.trace("1tzef5",i);const c=ro(JSON.stringify(t));if(this.setTemporaryCache(mt.REQUEST_PARAMS,c,!0),s){const u=ro(s);this.setTemporaryCache(mt.VERIFIER,u,!0)}}getCachedRequest(t){this.logger.trace("0uen20",t);const i=this.getTemporaryCache(mt.REQUEST_PARAMS,t,!0);if(!i)throw Z(L0);const s=this.getTemporaryCache(mt.VERIFIER,t,!0);let c,u="";try{c=JSON.parse(un(i)),s&&(u=un(s))}catch{throw this.logger.errorPii("0ewsey",t),this.logger.error("0tvdic",t),Z(P0)}return[c,u]}getCachedNativeRequest(){this.logger.trace("1yxcdm","");const t=this.getTemporaryCache(mt.NATIVE_REQUEST,"",!0);if(!t)return this.logger.trace("0mnxd4",""),null;const i=this.validateAndParseJson(t);return i||(this.logger.error("0rrkip",""),null)}isInteractionInProgress(t){const i=this.getInteractionInProgress()?.clientId;return t?i===this.clientId:!!i}getInteractionInProgress(){const t=`${Nt}.${mt.INTERACTION_STATUS_KEY}`,i=this.getTemporaryCache(t,"",!1);try{return i?JSON.parse(i):null}catch{return this.logger.error("0jjyys",""),this.removeTemporaryItem(t),this.resetRequestCache(""),ub(window),null}}setInteractionInProgress(t,i=Xi.SIGNIN,s=!1,c=""){const u=`${Nt}.${mt.INTERACTION_STATUS_KEY}`;if(t){if(this.getInteractionInProgress())if(s)this.logger.warning("1pmscr",c),yN(this.logger,c),this.removeTemporaryItem(u);else throw Z(N0);this.setTemporaryCache(u,JSON.stringify({clientId:this.clientId,type:i}),!1)}else!t&&this.getInteractionInProgress()?.clientId===this.clientId&&this.removeTemporaryItem(u)}async hydrateCache(t,i){const s=If(t.account?.homeAccountId,t.account?.environment,t.idToken,this.clientId,t.tenantId),c=kf(t.account?.homeAccountId,t.account.environment,t.accessToken,this.clientId,t.tenantId,t.scopes.join(" "),t.expiresOn?qv(t.expiresOn):0,t.extExpiresOn?qv(t.extExpiresOn):0,un,void 0,t.tokenType,void 0,i.sshKid),u={idToken:s,accessToken:c};return this.saveCacheRecord(u,t.correlationId,Ra(yi(t.idToken,un)))}async saveCacheRecord(t,i,s,c){try{await super.saveCacheRecord(t,i,s,c)}catch(u){if(u instanceof Ir&&this.performanceClient&&i)try{const h=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:h.refreshToken.length,cacheIdCount:h.idToken.length,cacheAtCount:h.accessToken.length},i)}catch{}throw u}}}function SC(r,t,i,s){try{switch(t){case Tn.LocalStorage:return new gR(r,i,s);case Tn.SessionStorage:return new pR;case Tn.MemoryStorage:default:break}}catch(c){i.error(c,"")}return new Pl}const vR=(r,t,i,s)=>{const c={cacheLocation:Tn.MemoryStorage,cacheRetentionDays:5};return new Yh(r,c,ul,t,i,s)};function CR(r,t,i,s,c){return r.verbose("1yd030",s),i?t.getAllAccounts(c,s):[]}function SR(r,t,i,s){if(t.trace("0u7b90",s),Object.keys(r).length===0)return t.warning("1kz0cu",s),null;const c=i.getAccountInfoFilteredBy(r,s);return c?(t.verbose("0btgll",s),c):(t.verbose("0ltaj5",s),null)}function bR(r,t,i){t.setActiveAccount(r,i)}function _R(r,t){return r.getActiveAccount(t)}const ER="msal.broadcast.event";class AR{constructor(t){this.eventCallbacks=new Map,this.logger=t||new Pn({}),typeof BroadcastChannel<"u"&&(this.broadcastChannel=new BroadcastChannel(ER)),this.invokeCrossTabCallbacks=this.invokeCrossTabCallbacks.bind(this)}addEventCallback(t,i,s){if(typeof window<"u"){const c=s||qh();return this.eventCallbacks.has(c)?(this.logger.error("1578i0",""),null):(this.eventCallbacks.set(c,[t,i||[]]),this.logger.verbose("1cnec4",""),c)}return null}removeEventCallback(t){this.eventCallbacks.delete(t),this.logger.verbose("12zotd","")}emitEvent(t,i,s,c){const u={eventType:t,interactionType:i||null,payload:s||null,error:c||null,timestamp:Date.now()};switch(t){case re.LOGIN_SUCCESS:case re.LOGOUT_SUCCESS:case re.ACTIVE_ACCOUNT_CHANGED:this.broadcastChannel?.postMessage(u)}this.invokeCallbacks(u)}invokeCallbacks(t){this.eventCallbacks.forEach(([i,s],c)=>{(s.length===0||s.includes(t.eventType))&&(this.logger.verbose("15jpwk",""),i.apply(null,[t]))})}invokeCrossTabCallbacks(t){const i=t.data;this.invokeCallbacks(i)}subscribeCrossTab(){this.broadcastChannel?.addEventListener("message",this.invokeCrossTabCallbacks)}unsubscribeCrossTab(){this.broadcastChannel?.removeEventListener("message",this.invokeCrossTabCallbacks)}}class yb{constructor(t,i,s,c,u,h,m,p,g){this.config=t,this.browserStorage=i,this.browserCrypto=s,this.networkClient=this.config.system.networkClient,this.eventHandler=u,this.navigationClient=h,this.platformAuthProvider=g,this.correlationId=p,this.logger=c.clone(_n.MSAL_SKU,Ua),this.performanceClient=m}}function yl(r,t,i,s){i.verbose("0bd1la",s);const c=r||t||"";return ke.getAbsoluteUrl(c,Zi())}function Zt(r,t,i,s,c,u){c.verbose("1p12tq",i);const h={clientId:t,correlationId:i,apiId:r,forceRefresh:!1,wrapperSKU:s.getWrapperMetadata()[0],wrapperVer:s.getWrapperMetadata()[1]};return new ao(h,s)}async function vi(r,t,i,s,c,u,h,m,p){const g=m&&m.hasOwnProperty("instance_aware")?m.instance_aware:void 0,v={protocolMode:r.system.protocolMode,OIDCOptions:r.auth.OIDCOptions,knownAuthorities:r.auth.knownAuthorities,cloudDiscoveryMetadata:r.auth.cloudDiscoveryMetadata,authorityMetadata:r.auth.authorityMetadata},C=u||r.auth.authority,b=g?.length?g==="true":r.auth.instanceAware,x=p&&b?r.auth.authority.replace(ke.getDomainFromUrl(C),p.environment):C,T=Qt.generateAuthority(x,h||r.auth.azureCloudOptions),N=await z(qS,zN,c,i,t)(T,r.system.networkClient,s,v,c,t,i);if(p&&!N.isAlias(p.environment))throw Ge(yw);return N}async function $f(r,t,i,s,c){if(c)try{r.removeAccount(c,s),i.verbose("0s4z6h",s)}catch{i.error("0mgg1d",s)}else try{i.verbose("0zj631",s),r.clear(s),await t.clearKeystore(s)}catch{i.error("12ih0c",s)}}async function Zf(r,t,i,s,c){const u=r.authority||t.auth.authority,h=[...r&&r.scopes||[]],m={...r,correlationId:r.correlationId,authority:u,scopes:h};if(!m.authenticationScheme)m.authenticationScheme=Le.BEARER,s.verbose("1l4fwv",c);else{if(m.authenticationScheme===Le.SSH){if(!r.sshJwk)throw Ge(hf);if(!r.sshKid)throw Ge(mw)}s.verbose("1ecmns",c)}return m}async function TR(r,t,i,s,c){const u=await z(Zf,Yf,c,s,r.correlationId)(r,i,s,c,r.correlationId);return{...r,...u,account:t,forceRefresh:r.forceRefresh||!1}}function vb(r,t){let i;const s=r.httpMethod;if(t===$t.EAR){if(s&&s!==Or.POST)throw Ge(vw);i=Or.POST}else i=s||Or.GET;return i}class Fr extends yb{initializeLogoutRequest(t){this.logger.verbose("0546u4",this.correlationId);const i={correlationId:this.correlationId,...t};if(t)if(t.logoutHint)this.logger.verbose("12k4l4",this.correlationId);else if(t.account){const s=this.getLogoutHintFromIdTokenClaims(t.account);s&&(this.logger.verbose("0st5di",this.correlationId),i.logoutHint=s)}else this.logger.verbose("0pdtc3",this.correlationId);else this.logger.verbose("07ndze",this.correlationId);return!t||t.postLogoutRedirectUri!==null?t&&t.postLogoutRedirectUri?(this.logger.verbose("1vamm6",i.correlationId),i.postLogoutRedirectUri=ke.getAbsoluteUrl(t.postLogoutRedirectUri,Zi())):this.config.auth.postLogoutRedirectUri===null?this.logger.verbose("15m5g7",i.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("1f4xlz",i.correlationId),i.postLogoutRedirectUri=ke.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,Zi())):(this.logger.verbose("17s5rf",i.correlationId),i.postLogoutRedirectUri=ke.getAbsoluteUrl(Zi(),Zi())):this.logger.verbose("0ljv63",i.correlationId),i}getLogoutHintFromIdTokenClaims(t){const i=t.idTokenClaims;if(i){if(i.login_hint)return i.login_hint;this.logger.verbose("0mvp54",this.correlationId)}else this.logger.verbose("1e7bdp",this.correlationId);return null}async createAuthCodeClient(t){const i=await z(this.getClientConfiguration.bind(this),Ul,this.logger,this.performanceClient,this.correlationId)(t);return new VS(i,this.performanceClient)}async getClientConfiguration(t){const{serverTelemetryManager:i,requestAuthority:s,requestAzureCloudOptions:c,requestExtraQueryParameters:u,account:h}=t,m=t.authority||await z(vi,ja,this.logger,this.performanceClient,this.correlationId)(this.config,this.correlationId,this.performanceClient,this.browserStorage,this.logger,s,c,u,h),p=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:m,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:this.config.auth.redirectUri},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:p.loggerCallback,piiLoggingEnabled:p.piiLoggingEnabled,logLevel:p.logLevel,correlationId:this.correlationId},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:i,libraryInfo:{sku:_n.MSAL_SKU,version:Ua,cpu:"",os:""},telemetry:this.config.telemetry}}}async function zl(r,t,i,s,c,u,h,m){const p=yl(r.redirectUri,i.auth.redirectUri,u,m),g={interactionType:t},v=Ax(s,r&&r.state||"",g),b={...await z(Zf,Yf,u,h,m)({...r,correlationId:m},i,h,u,m),redirectUri:p,state:v,nonce:r.nonce||Ma(),responseMode:i.auth.OIDCOptions.responseMode},x={...b,httpMethod:vb(b,i.system.protocolMode)};if(r.loginHint||r.sid)return x;const T=r.account||c.getActiveAccount(m);return T&&(u.verbose("1eqlb3",m),u.verbosePii("0tf99t",m),x.account=T),x}function wR(r,t){if(!t)return null;try{return lo(r.base64Decode,t).libraryState.meta}catch{throw V(no)}}function eo(r,t,i,s){const c=ll(r);if(!c)throw xS(r)?(i.error("13pl0s",s),i.errorPii("1097vx",s),Z(w0)):(i.error("18h0l1",s),Z(T0));return c}function xR(r,t,i){if(!r.state)throw Z(Pf);const s=wR(t,r.state);if(!s)throw Z(WS);if(s.interactionType!==i)throw Z(x0)}class Cb{constructor(t,i,s,c,u){this.authModule=t,this.browserStorage=i,this.authCodeRequest=s,this.logger=c,this.performanceClient=u}async handleCodeResponse(t,i){let s;try{s=h0(t,i.state)}catch(c){throw c instanceof za&&c.subError===Fh?Z(Fh):c}return z(this.handleCodeResponseFromServer.bind(this),PS,this.logger,this.performanceClient,i.correlationId)(s,i)}async handleCodeResponseFromServer(t,i,s=!0){if(this.logger.trace("0mf2hb",i.correlationId),this.authCodeRequest.code=t.code,s&&(t.nonce=i.nonce||void 0),t.state=i.state,t.client_info)this.authCodeRequest.clientInfo=t.client_info;else{const u=this.createCcsCredentials(i);u&&(this.authCodeRequest.ccsCredential=u)}return await z(this.authModule.acquireToken.bind(this.authModule),PN,this.logger,this.performanceClient,i.correlationId)(this.authCodeRequest,t)}createCcsCredentials(t){return t.account?{credential:t.account.homeAccountId,type:Un.HOME_ACCOUNT_ID}:t.loginHint?{credential:t.loginHint,type:Un.UPN}:null}}const NR="ContentError",RR="PageException",jR="user_switch";const OR="USER_INTERACTION_REQUIRED",IR="USER_CANCEL",kR="NO_NETWORK",MR="PERSISTENT_ERROR",DR="DISABLED",UR="ACCOUNT_UNAVAILABLE",LR="UX_NOT_ALLOWED";const PR=-2147186943;class Qn extends Ke{constructor(t,i,s){super(t,i||Ml(t)),Object.setPrototypeOf(this,Qn.prototype),this.name="NativeAuthError",this.ext=s}}function Rr(r){if(r.ext&&r.ext.status&&(r.ext.status===MR||r.ext.status===DR)||r.ext&&r.ext.error&&r.ext.error===PR)return!0;switch(r.errorCode){case NR:case RR:return!0;default:return!1}}function vl(r,t,i){if(i&&i.status)switch(i.status){case UR:return fl(Cx,Ml(r));case OR:return new wn(r,t);case IR:return Z(Fh);case kR:return Z(Gh);case LR:return fl(US)}return new Qn(r,t,i)}class Sb extends Fr{async acquireToken(t){const i=Zt(Me.acquireTokenSilent_silentFlow,this.config.auth.clientId,this.correlationId,this.browserStorage,this.logger),s=await z(this.getClientConfiguration.bind(this),Ul,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:i,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,account:t.account}),c=new l0(s,this.performanceClient);this.logger.verbose("0wa871",this.correlationId);try{const h=(await z(c.acquireCachedToken.bind(c),DN,this.logger,this.performanceClient,t.correlationId)(t))[0];return this.performanceClient.addFields({fromCache:!0},t.correlationId),h}catch(u){throw u instanceof ho&&u.errorCode===tb&&this.logger.verbose("06wena",this.correlationId),u}}logout(t){this.logger.verbose("1rkurh",this.correlationId);const i=this.initializeLogoutRequest(t);return $f(this.browserStorage,this.browserCrypto,this.logger,this.correlationId,i.account)}}class Wc extends yb{constructor(t,i,s,c,u,h,m,p,g,v,C,b){super(t,i,s,c,u,h,p,b,g),this.apiId=m,this.accountId=v,this.platformAuthProvider=g,this.nativeStorageManager=C,this.silentCacheClient=new Sb(t,this.nativeStorageManager,s,c,u,h,p,b,g);const x=this.platformAuthProvider.getExtensionName();this.skus=ao.makeExtraSkuString({libraryName:_n.MSAL_SKU,libraryVersion:Ua,extensionName:x,extensionVersion:this.platformAuthProvider.getExtensionVersion()})}addRequestSKUs(t){t.extraParameters={...t.extraParameters,[iw]:this.skus}}async acquireToken(t,i){this.logger.trace("03qeos",this.correlationId);const s=this.performanceClient.startMeasurement(mb,t.correlationId),c=zn(),u=Zt(this.apiId,this.config.auth.clientId,this.correlationId,this.browserStorage,this.logger);try{const h=await this.initializeNativeRequest(t);try{const p=await this.acquireTokensFromCache(this.accountId,h);return s.end({success:!0,isNativeBroker:!1,fromCache:!0}),p}catch(p){if(i===Pt.AccessToken)throw this.logger.info("0eitbc",this.correlationId),p;this.logger.info("0957j1",this.correlationId)}const m=await this.platformAuthProvider.sendMessage(h);return await this.handleNativeResponse(m,h,c).then(p=>(s.end({success:!0,isNativeBroker:!0,requestId:p.requestId}),u.clearNativeBrokerErrorCode(),p)).catch(p=>{throw s.end({success:!1,errorCode:p.errorCode,subErrorCode:p.subError,isNativeBroker:!0}),p})}catch(h){throw h instanceof Qn&&u.setNativeBrokerErrorCode(h.errorCode),h}}createSilentCacheRequest(t,i){return{authority:t.authority,correlationId:this.correlationId,scopes:Mt.fromString(t.scope).asArray(),account:i,forceRefresh:!1}}async acquireTokensFromCache(t,i){if(!t)throw this.logger.warning("1ndf3e",this.correlationId),V(Lv);const s=this.browserStorage.getBaseAccountInfo({nativeAccountId:t},i.correlationId);if(!s)throw V(Lv);try{const c=this.createSilentCacheRequest(i,s),u=await this.silentCacheClient.acquireToken(c),h={...s,idTokenClaims:u?.idTokenClaims,idToken:u?.idToken};return{...u,account:h}}catch(c){throw c}}async acquireTokenRedirect(t,i,s){this.logger.trace("0luikq",this.correlationId);const c=await this.initializeNativeRequest(t),u=s?.navigateToLoginRequestUrl??!0;try{await this.platformAuthProvider.sendMessage(c)}catch(p){if(p instanceof Qn&&(Zt(this.apiId,this.config.auth.clientId,this.correlationId,this.browserStorage,this.logger).setNativeBrokerErrorCode(p.errorCode),Rr(p)))throw p}this.browserStorage.setTemporaryCache(mt.NATIVE_REQUEST,JSON.stringify(c),!0);const h={apiId:Me.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},m=u?window.location.href:yl(t.redirectUri,this.config.auth.redirectUri,this.logger,this.correlationId);i.end({success:!0}),await this.navigationClient.navigateExternal(m,h)}async handleRedirectPromise(t,i){if(this.logger.trace("1c5lhw",this.correlationId),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("0le6uv",this.correlationId),null;const s=this.browserStorage.getCachedNativeRequest();if(!s)return this.logger.verbose("0a6zjb",this.correlationId),t&&i&&t?.addFields({errorCode:"no_cached_request"},i),null;const{prompt:c,...u}=s;c&&this.logger.verbose("0ac34v",this.correlationId),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(mt.NATIVE_REQUEST));const h=zn();try{this.logger.verbose("003x5a",this.correlationId);const m=await this.platformAuthProvider.sendMessage(u),p=await this.handleNativeResponse(m,u,h);return Zt(this.apiId,this.config.auth.clientId,this.correlationId,this.browserStorage,this.logger).clearNativeBrokerErrorCode(),p}catch(m){throw m}}logout(){return this.logger.trace("0u2sjm",this.correlationId),Promise.reject("Logout not implemented yet")}async handleNativeResponse(t,i,s){this.logger.trace("1bojln",this.correlationId);const c=yi(t.id_token,un),u=this.createHomeAccountIdentifier(t,c),h=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:i.accountId},this.correlationId)?.homeAccountId;if(i.extraParameters?.child_client_id&&t.account.id!==i.accountId)this.logger.info("1ub1in",this.correlationId);else if(u!==h&&t.account.id!==i.accountId)throw vl(jR);const m=await vi(this.config,this.correlationId,this.performanceClient,this.browserStorage,this.logger,i.authority),p=zS(this.browserStorage,m,u,un,this.correlationId,c,t.client_info,void 0,c.tid,void 0,t.account.id);t.expires_in=Number(t.expires_in);const g=await this.generateAuthenticationResult(t,i,c,p,m.canonicalAuthority,s);return await this.cacheAccount(p,Ra(c)),await this.cacheNativeTokens(t,i,u,c,t.access_token,g.tenantId,s),g}createHomeAccountIdentifier(t,i){return OS(t.client_info||"",Mn.Default,this.logger,this.browserCrypto,this.correlationId,i)}generateScopes(t,i){return i?Mt.fromString(i):Mt.fromString(t)}async generatePopAccessToken(t,i){if(i.tokenType===Le.POP&&i.signPopToken){if(t.shr)return this.logger.trace("0coqhu",this.correlationId),t.shr;const s=new Pr(this.browserCrypto,this.performanceClient),c={resourceRequestMethod:i.resourceRequestMethod,resourceRequestUri:i.resourceRequestUri,shrClaims:i.shrClaims,shrNonce:i.shrNonce,correlationId:this.correlationId};if(!i.keyId)throw V(yS);return s.signPopToken(t.access_token,i.keyId,c)}else return t.access_token}async generateAuthenticationResult(t,i,s,c,u,h){const m=this.addTelemetryFromNativeResponse(t.properties.MATS),p=this.generateScopes(i.scope,t.scope),g=t.account.properties||{},v=g.UID||s.oid||s.sub||"",C=g.TenantId||s.tid||"",b=Tf(na(c),void 0,s,t.id_token);b.nativeAccountId!==t.account.id&&(b.nativeAccountId=t.account.id);const x=await this.generatePopAccessToken(t,i),T=i.tokenType===Le.POP?Le.POP:Le.BEARER;return{authority:u,uniqueId:v,tenantId:C,scopes:p.asArray(),account:b,idToken:t.id_token,idTokenClaims:s,accessToken:x,fromCache:m?this.isResponseFromCache(m):!1,expiresOn:Jc(h+t.expires_in),tokenType:T,correlationId:this.correlationId,state:t.state,fromPlatformBroker:!0}}async cacheAccount(t,i){await this.browserStorage.setAccount(t,this.correlationId,i),this.browserStorage.removeAccountContext(na(t),this.correlationId)}cacheNativeTokens(t,i,s,c,u,h,m){const p=If(s,i.authority,t.id_token||"",i.clientId,c.tid||""),g=i.tokenType===Le.POP?xv:(typeof t.expires_in=="string"?parseInt(t.expires_in,10):t.expires_in)||0,v=m+g,C=this.generateScopes(t.scope,i.scope),b=kf(s,i.authority,u,i.clientId,c.tid||h,C.printScopes(),v,0,un,void 0,i.tokenType,void 0,i.keyId),x={idToken:p,accessToken:b};return this.nativeStorageManager.saveCacheRecord(x,this.correlationId,Ra(c),i.storeInCache)}getExpiresInValue(t,i){return t===Le.POP?xv:(typeof i=="string"?parseInt(i,10):i)||0}addTelemetryFromNativeResponse(t){const i=this.getMATSFromResponse(t);return i?(this.performanceClient.addFields({extensionId:this.platformAuthProvider.getExtensionId(),extensionVersion:this.platformAuthProvider.getExtensionVersion(),matsBrokerVersion:i.broker_version,matsAccountJoinOnStart:i.account_join_on_start,matsAccountJoinOnEnd:i.account_join_on_end,matsDeviceJoin:i.device_join,matsPromptBehavior:i.prompt_behavior,matsApiErrorCode:i.api_error_code,matsUiVisible:i.ui_visible,matsSilentCode:i.silent_code,matsSilentBiSubCode:i.silent_bi_sub_code,matsSilentMessage:i.silent_message,matsSilentStatus:i.silent_status,matsHttpStatus:i.http_status,matsHttpEventCount:i.http_event_count},this.correlationId),i):null}getMATSFromResponse(t){if(t)try{return JSON.parse(t)}catch{this.logger.error("0b3l57",this.correlationId)}return null}isResponseFromCache(t){return typeof t.is_cached>"u"?(this.logger.verbose("1okqev",this.correlationId),!1):!!t.is_cached}async initializeNativeRequest(t){this.logger.trace("04j6wj",this.correlationId);const i=await this.getCanonicalAuthority(t),{scopes:s,...c}=t,u=new Mt(s||[]);u.appendScopes(Br);const h={...c,accountId:this.accountId,clientId:this.config.auth.clientId,authority:i.urlString,scope:u.printScopes(),redirectUri:yl(t.redirectUri,this.config.auth.redirectUri,this.logger,this.correlationId),prompt:this.getPrompt(t.prompt),correlationId:this.correlationId,tokenType:t.authenticationScheme,windowTitleSubstring:document.title,extraParameters:{...t.extraParameters},extendedExpiryToken:!1,keyId:t.popKid};if(h.signPopToken&&t.popKid)throw Z(J0);if(this.handleExtraBrokerParams(h),h.extraParameters=h.extraParameters||{},h.extraParameters.telemetry=En.MATS_TELEMETRY,t.authenticationScheme===Le.POP){const m={resourceRequestUri:t.resourceRequestUri,resourceRequestMethod:t.resourceRequestMethod,shrClaims:t.shrClaims,shrNonce:t.shrNonce,correlationId:this.correlationId},p=new Pr(this.browserCrypto,this.performanceClient);let g;if(h.keyId)g=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:h.keyId})),h.signPopToken=!1;else{const v=await z(p.generateCnf.bind(p),uo,this.logger,this.performanceClient,this.correlationId)(m,this.logger);g=v.reqCnfString,h.keyId=v.kid,h.signPopToken=!0}h.reqCnf=g}return this.addRequestSKUs(h),h}async getCanonicalAuthority(t){const i=t.authority||this.config.auth.authority,{azureCloudOptions:s,account:c}=t;c&&await vi(this.config,this.correlationId,this.performanceClient,this.browserStorage,this.logger,i,s,void 0,c);const u=new ke(i);return u.validateAsUri(),u}getPrompt(t){switch(this.apiId){case Me.ssoSilent:case Me.acquireTokenSilent_silentFlow:return this.logger.trace("1hiwaz",this.correlationId),Jt.NONE}if(!t){this.logger.trace("1qlu04",this.correlationId);return}switch(t){case Jt.NONE:case Jt.CONSENT:case Jt.LOGIN:return this.logger.trace("1ynje4",this.correlationId),t;default:throw this.logger.trace("0nkr6q",this.correlationId),Z(Y0)}}handleExtraBrokerParams(t){const i=t.extraParameters&&t.extraParameters.hasOwnProperty(sl)&&t.extraParameters.hasOwnProperty(ol)&&t.extraParameters.hasOwnProperty(Ia);if(!t.embeddedClientId&&!i)return;let s="";const c=t.redirectUri;t.embeddedClientId?(t.redirectUri=this.config.auth.redirectUri,s=t.embeddedClientId):t.extraParameters&&(t.redirectUri=t.extraParameters[ol],s=t.extraParameters[Ia]),t.extraParameters={child_client_id:s,child_redirect_uri:c},this.performanceClient?.addFields({embeddedClientId:s,embeddedRedirectUri:c},t.correlationId)}}async function Wf(r,t,i,s,c){const u=d0({...r.auth,authority:t},i,s,c);if(Cf(u,{sku:_n.MSAL_SKU,version:Ua,os:"",cpu:""}),r.system.protocolMode!==$t.OIDC&&Sf(u,r.telemetry.application),i.platformBroker&&(Lw(u),i.authenticationScheme===Le.POP)){const h=new Si(s,c),m=new Pr(h,c);let p;i.popKid?p=h.encodeKid(i.popKid):p=(await z(m.generateCnf.bind(m),uo,s,c,i.correlationId)(i,s)).reqCnfString,Ef(u,p)}return wl(u,i.correlationId,c),u}async function em(r,t,i,s,c){if(!i.codeChallenge)throw Ge(lS);const u=await z(Wf,UN,s,c,i.correlationId)(r,t,i,s,c);return ff(u,sf.CODE),bf(u,i.codeChallenge,rf),Jn(u,{...i.extraQueryParameters,...i.extraParameters}),Mf(t,u)}async function tm(r,t,i,s,c,u){if(!s.earJwk)throw Z(ZS);const h=await Wf(t,i,s,c,u);ff(h,sf.IDTOKEN_TOKEN_REFRESHTOKEN),Qw(h,s.earJwk),bf(h,s.codeChallenge,rf),Jn(h,{...s.extraParameters});const m=new Map;Jn(m,s.extraQueryParameters||{});const p=Mf(i,m);return bb(r,p,h)}async function nm(r,t,i,s,c,u){const h=await Wf(t,i,s,c,u);ff(h,sf.CODE),bf(h,s.codeChallenge,s.codeChallengeMethod||rf),Jn(h,{...s.extraParameters});const m=new Map;Jn(m,s.extraQueryParameters||{});const p=Mf(i,m);return bb(r,p,h)}function bb(r,t,i){const s=r.createElement("form");return s.method="post",s.action=t,i.forEach((c,u)=>{const h=r.createElement("input");h.hidden=!0,h.name=u,h.value=c,s.appendChild(h)}),r.body.appendChild(s),s}async function _b(r,t,i,s,c,u,h,m,p,g){if(m.verbose("11qcow",r.correlationId),!g)throw Z(ib);const v=new Si(m,p),C=new Wc(s,c,v,m,h,s.system.navigationClient,i,p,g,t,u,r.correlationId),{userRequestState:b}=lo(v.base64Decode,r.state);return z(C.acquireToken.bind(C),mb,m,p,r.correlationId)({...r,state:b,prompt:void 0})}async function Lr(r,t,i,s,c,u,h,m,p,g,v,C){if(Yn.removeThrottle(h,c.auth.clientId,r),t.accountId)return z(_b,gb,g,v,r.correlationId)(r,t.accountId,s,c,h,m,p,g,v,C);const b={...r,code:t.code||"",codeVerifier:i},x=new Cb(u,h,b,g,v);return await z(x.handleCodeResponse.bind(x),LN,g,v,r.correlationId)(t,r)}async function im(r,t,i,s,c,u,h,m,p,g,v){if(Yn.removeThrottle(u,s.auth.clientId,r),YS(t,r.state),!t.ear_jwe)throw Z(A0);if(!r.earJwk)throw Z(ZS);const C=JSON.parse(await z(uN,WN,p,g,r.correlationId)(r.earJwk,t.ear_jwe));if(C.accountId)return z(_b,gb,p,g,r.correlationId)(r,C.accountId,i,s,u,h,m,p,g,v);const b=new ka(s.auth.clientId,u,new Si(p,g),p,g,null,null);b.validateTokenResponse(C,r.correlationId);const x={code:"",state:r.state,nonce:r.nonce,client_info:C.client_info,cloud_graph_host_name:C.cloud_graph_host_name,cloud_instance_host_name:C.cloud_instance_host_name,cloud_instance_name:C.cloud_instance_name,msgraph_host:C.msgraph_host};return await z(b.handleServerTokenResponse.bind(b),Of,p,g,r.correlationId)(C,c,zn(),r,x,void 0,void 0,void 0,void 0)}const zR=32;async function La(r,t,i){const s=Ln(HR,qN,t,r,i)(r,t,i),c=await z(BR,VN,t,r,i)(s,r,t,i);return{verifier:s,challenge:c}}function HR(r,t,i){try{const s=new Uint8Array(zR);return Ln(rN,QN,t,r,i)(s),ia(s)}catch{throw Z($S)}}async function BR(r,t,i,s){try{const c=await z(sb,YN,i,t,s)(r);return ia(new Uint8Array(c))}catch{throw Z($S)}}class Cl{navigateInternal(t,i){return Cl.defaultNavigateWindow(t,i)}navigateExternal(t,i){return Cl.defaultNavigateWindow(t,i)}static defaultNavigateWindow(t,i){return i.noHistory?window.location.replace(t):window.location.assign(t),new Promise((s,c)=>{setTimeout(()=>{c(Z(gl,"failed_to_redirect"))},i.timeout)})}}class KR{async sendGetRequestAsync(t,i){let s,c={},u=0;const h=bC(i);try{s=await fetch(t,{method:tC.GET,headers:h})}catch(m){throw $s(Z(window.navigator.onLine?H0:Gh),void 0,void 0,m)}c=_C(s.headers);try{return u=s.status,{headers:c,body:await s.json(),status:u}}catch(m){throw $s(Z(aC),u,c,m)}}async sendPostRequestAsync(t,i){const s=i&&i.body||"",c=bC(i);let u,h=0,m={};try{u=await fetch(t,{method:tC.POST,headers:c,body:s})}catch(p){throw $s(Z(window.navigator.onLine?z0:Gh),void 0,void 0,p)}m=_C(u.headers);try{return h=u.status,{headers:m,body:await u.json(),status:h}}catch(p){throw $s(Z(aC),h,m,p)}}}function bC(r){try{const t=new Headers;if(!(r&&r.headers))return t;const i=r.headers;return Object.entries(i).forEach(([s,c])=>{t.append(s,c)}),t}catch(t){throw $s(Z(X0),void 0,void 0,t)}}function _C(r){try{const t={};return r.forEach((i,s)=>{t[s]=i}),t}catch{throw Z($0)}}const FR=6e4,GR=1e4,qR=3e4,Eb=2e3;function VR({auth:r,cache:t,system:i,telemetry:s},c){const u={clientId:"",authority:`${JC}`,knownAuthorities:[],cloudDiscoveryMetadata:"",authorityMetadata:"",redirectUri:typeof window<"u"&&window.location?window.location.href.split("?")[0].split("#")[0]:"",postLogoutRedirectUri:"",clientCapabilities:[],OIDCOptions:{responseMode:of.FRAGMENT,defaultScopes:[$C,ZC,af]},azureCloudOptions:{azureCloudInstance:Af.None,tenant:""},instanceAware:!1},h={cacheLocation:Tn.SessionStorage,cacheRetentionDays:5},m={loggerCallback:()=>{},logLevel:Xe.Info,piiLoggingEnabled:!1},g={...{...kS,loggerOptions:m,networkClient:c?new KR:u0,navigationClient:new Cl,popupBridgeTimeout:i?.popupBridgeTimeout||FR,iframeBridgeTimeout:i?.iframeBridgeTimeout||GR,redirectNavigationTimeout:qR,allowRedirectInIframe:!1,navigatePopups:!0,allowPlatformBroker:!1,nativeBrokerHandshakeTimeout:i?.nativeBrokerHandshakeTimeout||Eb,protocolMode:$t.AAD},...i,loggerOptions:i?.loggerOptions||m},v={application:{appName:"",appVersion:""},client:new IS};if(i?.protocolMode!==$t.OIDC&&r?.OIDCOptions&&new Pn(g.loggerOptions).warning(JSON.stringify(Ge(gw)),""),i?.protocolMode&&i.protocolMode===$t.OIDC&&g?.allowPlatformBroker)throw Ge(pw);return{auth:{...u,...r,OIDCOptions:{...u.OIDCOptions,...r?.OIDCOptions}},cache:{...h,...t},system:g,telemetry:{...v,...s}}}class Sl{constructor(t,i,s,c){this.logger=t,this.handshakeTimeoutMs=i,this.extensionId=c,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=s,this.handshakeEvent=s.startMeasurement(FN),this.platformAuthType=En.PLATFORM_EXTENSION_PROVIDER}async sendMessage(t){this.logger.trace("0on4p2",t.correlationId);const i={method:Vs.GetToken,request:t},s={channel:En.CHANNEL_ID,extensionId:this.extensionId,responseId:Ma(),body:i};this.logger.trace("1qadfi",t.correlationId),this.logger.tracePii("1xm533",t.correlationId),this.messageChannel.port1.postMessage(s);const c=await new Promise((h,m)=>{this.resolvers.set(s.responseId,{resolve:h,reject:m})});return this.validatePlatformBrokerResponse(c)}static async createProvider(t,i,s,c){t.trace("15zfnw",c);try{const u=new Sl(t,i,s,En.PREFERRED_EXTENSION_ID);return await u.sendHandshakeRequest(c),u}catch{const h=new Sl(t,i,s);return await h.sendHandshakeRequest(c),h}}async sendHandshakeRequest(t){this.logger.trace("1dpg9o",t),window.addEventListener("message",this.windowListener,!1);const i={channel:En.CHANNEL_ID,extensionId:this.extensionId,responseId:Ma(),body:{method:Vs.HandshakeRequest}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=s=>{this.onChannelMessage(s)},window.postMessage(i,window.origin,[this.messageChannel.port2]),new Promise((s,c)=>{this.handshakeResolvers.set(i.responseId,{resolve:s,reject:c}),this.timeoutId=window.setTimeout(()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),c(Z(q0)),this.handshakeResolvers.delete(i.responseId)},this.handshakeTimeoutMs)})}onWindowMessage(t){const i=qh();if(this.logger.trace("0jpn5u",i),t.source!==window)return;const s=t.data;if(!(!s.channel||s.channel!==En.CHANNEL_ID)&&!(s.extensionId&&s.extensionId!==this.extensionId)&&s.body.method===Vs.HandshakeRequest){const c=this.handshakeResolvers.get(s.responseId);if(!c){this.logger.trace("07buhm",i);return}this.logger.verbose(s.extensionId?"0xrkug":"No extension installed",i),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),c.reject(Z(V0))}}onChannelMessage(t){const i=qh();this.logger.trace("1py8yf",i);const s=t.data,c=this.resolvers.get(s.responseId),u=this.handshakeResolvers.get(s.responseId);try{const h=s.body.method;if(h===Vs.Response){if(!c)return;const m=s.body.response;if(this.logger.trace("19hpgm",i),this.logger.tracePii("179a24",i),m.status!=="Success")c.reject(vl(m.code,m.description,m.ext));else if(m.result)m.result.code&&m.result.description?c.reject(vl(m.result.code,m.result.description,m.result.ext)):c.resolve(m.result);else throw Uh(Bh,"Event does not contain result.");this.resolvers.delete(s.responseId)}else if(h===Vs.HandshakeResponse){if(!u){this.logger.trace("082qnt",i);return}clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=s.extensionId,this.extensionVersion=s.body.version,this.logger.verbose("0yf5ib",i),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),u.resolve(),this.handshakeResolvers.delete(s.responseId)}}catch(h){this.logger.error("0xf978",i),this.logger.errorPii("04i99o",i),this.logger.errorPii("0xdvsy",i),c?c.reject(h):u&&u.reject(h)}}validatePlatformBrokerResponse(t){if(t.hasOwnProperty("access_token")&&t.hasOwnProperty("id_token")&&t.hasOwnProperty("client_info")&&t.hasOwnProperty("account")&&t.hasOwnProperty("scope")&&t.hasOwnProperty("expires_in"))return t;throw Uh(Bh,"Response missing expected properties.")}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}getExtensionName(){return this.getExtensionId()===En.PREFERRED_EXTENSION_ID?"chrome":this.getExtensionId()?.length?"unknown":void 0}}class am{constructor(t,i,s){this.logger=t,this.performanceClient=i,this.correlationId=s,this.platformAuthType=En.PLATFORM_DOM_PROVIDER}static async createProvider(t,i,s){if(t.trace("12mj4a",s),window.navigator?.platformAuthentication&&(await window.navigator.platformAuthentication.getSupportedContracts(En.MICROSOFT_ENTRA_BROKERID))?.includes(En.PLATFORM_DOM_APIS))return t.trace("1h5q1r",s),new am(t,i,s)}getExtensionId(){return En.MICROSOFT_ENTRA_BROKERID}getExtensionVersion(){return""}getExtensionName(){return En.DOM_API_NAME}async sendMessage(t){this.logger.trace("02bcil",t.correlationId);try{const i=this.initializePlatformDOMRequest(t),s=await window.navigator.platformAuthentication.executeGetToken(i);return this.validatePlatformBrokerResponse(s,t.correlationId)}catch(i){throw this.logger.error("11im7g",t.correlationId),i}}initializePlatformDOMRequest(t){this.logger.trace("15d6yv",t.correlationId);const{accountId:i,clientId:s,authority:c,scope:u,redirectUri:h,correlationId:m,state:p,storeInCache:g,embeddedClientId:v,extraParameters:C,...b}=t,x=this.getDOMExtraParams(b);return{accountId:i,brokerId:this.getExtensionId(),authority:c,clientId:s,correlationId:m||this.correlationId,extraParameters:{...C,...x},isSecurityTokenService:!1,redirectUri:h,scope:u,state:p,storeInCache:g,embeddedClientId:v}}validatePlatformBrokerResponse(t,i){if(t.hasOwnProperty("isSuccess")){if(t.hasOwnProperty("accessToken")&&t.hasOwnProperty("idToken")&&t.hasOwnProperty("clientInfo")&&t.hasOwnProperty("account")&&t.hasOwnProperty("scopes")&&t.hasOwnProperty("expiresIn"))return this.logger.trace("0h4vei",i),this.convertToPlatformBrokerResponse(t,i);if(t.hasOwnProperty("error")){const s=t;if(s.isSuccess===!1&&s.error&&s.error.code)throw this.logger.trace("0g92vm",i),vl(s.error.code,s.error.description,{error:parseInt(s.error.errorCode),protocol_error:s.error.protocolError,status:s.error.status,properties:s.error.properties})}}throw Uh(Bh,"Response missing expected properties.")}convertToPlatformBrokerResponse(t,i){return this.logger.trace("14913t",i),{access_token:t.accessToken,id_token:t.idToken,client_info:t.clientInfo,account:t.account,expires_in:t.expiresIn,scope:t.scopes,state:t.state||"",properties:t.properties||{},extendedLifetimeToken:t.extendedLifetimeToken??!1,shr:t.proofOfPossessionPayload}}getDOMExtraParams(t){return{...Object.entries(t).reduce((c,[u,h])=>(c[u]=String(h),c),{})}}}async function YR(r,t,i,s){r.trace("134j0v",i);const c=QR();r.trace("04c81g",i);let u;try{c&&(u=await am.createProvider(r,t,i)),u||(r.trace("0l3na8",i),u=await Sl.createProvider(r,s||Eb,t,i))}catch(h){r.trace("0icbd7",h)}return u}function QR(){let r;try{return r=window[Tn.SessionStorage],r?.getItem(dR)==="true"}catch{return!1}}function so(r,t,i,s,c){if(t.trace("0uko3r",i),!r.system.allowPlatformBroker)return t.trace("04hozs",i),!1;if(!s)return t.trace("0kvv1r",i),!1;if(c)switch(c){case Le.BEARER:case Le.POP:return t.trace("18tev1",i),!0;default:return t.trace("1dd2nh",i),!1}return!0}class JR extends Fr{constructor(t,i,s,c,u,h,m,p,g,v){super(t,i,s,c,u,h,m,g,v),this.nativeStorage=p,this.eventHandler=u}acquireToken(t,i){let s;try{if(s={popupName:this.generatePopupName(t.scopes||Br,t.authority||this.config.auth.authority),popupWindowAttributes:t.popupWindowAttributes||{},popupWindowParent:t.popupWindowParent??window},this.performanceClient.addFields({isAsyncPopup:!this.config.system.navigatePopups},this.correlationId),this.config.system.navigatePopups){const u={...t,httpMethod:vb(t,this.config.system.protocolMode)};return this.logger.verbose("1f9ok3",this.correlationId),s.popup=this.openSizedPopup("about:blank",s),this.acquireTokenPopupAsync(u,s,i)}else return this.logger.verbose("162h4u",this.correlationId),this.acquireTokenPopupAsync(t,s,i)}catch(c){return Promise.reject(c)}}logout(t){try{this.logger.verbose("068rup",this.correlationId);const i=this.initializeLogoutRequest(t),s={popupName:this.generateLogoutPopupName(i),popupWindowAttributes:t?.popupWindowAttributes||{},popupWindowParent:t?.popupWindowParent??window},c=t&&t.authority,u=t&&t.mainWindowRedirectUri;return this.config.system.navigatePopups?(this.logger.verbose("1a28da",this.correlationId),s.popup=this.openSizedPopup("about:blank",s),this.logoutPopupAsync(i,s,c,u)):(this.logger.verbose("1phd8u",this.correlationId),this.logoutPopupAsync(i,s,c,u))}catch(i){return Promise.reject(i)}}async acquireTokenPopupAsync(t,i,s){this.logger.verbose("1g77pg",this.correlationId);const c=await z(zl,Ll,this.logger,this.performanceClient,this.correlationId)(t,ce.Popup,this.config,this.browserCrypto,this.browserStorage,this.logger,this.performanceClient,this.correlationId);i.popup&&fb(c.authority);const u=so(this.config,this.logger,this.correlationId,this.platformAuthProvider,t.authenticationScheme);return c.platformBroker=u,this.config.system.protocolMode===$t.EAR?this.executeEarFlow(c,i,s):this.executeCodeFlow(c,i,s)}async executeCodeFlow(t,i,s){const c=t.correlationId,u=Zt(Me.acquireTokenPopup,this.config.auth.clientId,this.correlationId,this.browserStorage,this.logger),h=s||await z(La,Da,this.logger,this.performanceClient,c)(this.performanceClient,this.logger,c),m={...t,codeChallenge:h.challenge};try{const p=await z(this.createAuthCodeClient.bind(this),ta,this.logger,this.performanceClient,c)({serverTelemetryManager:u,requestAuthority:m.authority,requestAzureCloudOptions:m.azureCloudOptions,requestExtraQueryParameters:m.extraQueryParameters,account:m.account});if(m.httpMethod===Or.POST)return await this.executeCodeFlowWithPost(m,i,p,h.verifier);{const g=await z(em,jf,this.logger,this.performanceClient,c)(this.config,p.authority,m,this.logger,this.performanceClient),v=this.initiateAuthRequest(g,i);this.eventHandler.emitEvent(re.POPUP_OPENED,ce.Popup,{popupWindow:v},null);const C=await jr(this.config.system.popupBridgeTimeout,this.logger,this.browserCrypto,t),b=Ln(eo,Ws,this.logger,this.performanceClient,this.correlationId)(C,this.config.auth.OIDCOptions.responseMode,this.logger,this.correlationId);return await z(Lr,Mr,this.logger,this.performanceClient,c)(t,b,h.verifier,Me.acquireTokenPopup,this.config,p,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}}catch(p){throw i.popup?.close(),p instanceof Ke&&(p.setCorrelationId(this.correlationId),u.cacheFailedRequest(p)),p}}async executeEarFlow(t,i,s){const{correlationId:c,authority:u,azureCloudOptions:h,extraQueryParameters:m,account:p}=t,g=await z(vi,ja,this.logger,this.performanceClient,c)(this.config,this.correlationId,this.performanceClient,this.browserStorage,this.logger,u,h,m,p),v=await z(Gf,Jf,this.logger,this.performanceClient,c)(),C=s||await z(La,Da,this.logger,this.performanceClient,c)(this.performanceClient,this.logger,c),b={...t,earJwk:v,codeChallenge:C.challenge},x=i.popup||this.openPopup("about:blank",i);(await tm(x.document,this.config,g,b,this.logger,this.performanceClient)).submit();const N=await z(jr,pl,this.logger,this.performanceClient,c)(this.config.system.popupBridgeTimeout,this.logger,this.browserCrypto,b),j=Ln(eo,Ws,this.logger,this.performanceClient,this.correlationId)(N,this.config.auth.OIDCOptions.responseMode,this.logger,this.correlationId);if(!j.ear_jwe&&j.code){const F=await z(this.createAuthCodeClient.bind(this),ta,this.logger,this.performanceClient,c)({serverTelemetryManager:Zt(Me.acquireTokenPopup,this.config.auth.clientId,c,this.browserStorage,this.logger),requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account,authority:g});return z(Lr,Mr,this.logger,this.performanceClient,c)(b,j,C.verifier,Me.acquireTokenPopup,this.config,F,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}else return z(im,Qf,this.logger,this.performanceClient,c)(b,j,Me.acquireTokenPopup,this.config,g,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async executeCodeFlowWithPost(t,i,s,c){const u=t.correlationId,h=await z(vi,ja,this.logger,this.performanceClient,u)(this.config,this.correlationId,this.performanceClient,this.browserStorage,this.logger),m=i.popup||this.openPopup("about:blank",i);(await nm(m.document,this.config,h,t,this.logger,this.performanceClient)).submit();const g=await z(jr,pl,this.logger,this.performanceClient,u)(this.config.system.popupBridgeTimeout,this.logger,this.browserCrypto,t),v=Ln(eo,Ws,this.logger,this.performanceClient,this.correlationId)(g,this.config.auth.OIDCOptions.responseMode,this.logger,this.correlationId);return z(Lr,Mr,this.logger,this.performanceClient,u)(t,v,c,Me.acquireTokenPopup,this.config,s,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async logoutPopupAsync(t,i,s,c){this.logger.verbose("0b7yrk",this.correlationId),this.eventHandler.emitEvent(re.LOGOUT_START,ce.Popup,t);const u=Zt(Me.logoutPopup,this.config.auth.clientId,this.correlationId,this.browserStorage,this.logger);try{await $f(this.browserStorage,this.browserCrypto,this.logger,this.correlationId,t.account);const h=await z(this.createAuthCodeClient.bind(this),ta,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:u,requestAuthority:s,account:t.account||void 0});try{h.authority.endSessionEndpoint}catch{if(t.account?.homeAccountId&&t.postLogoutRedirectUri&&h.authority.protocolMode===$t.OIDC){if(this.eventHandler.emitEvent(re.LOGOUT_SUCCESS,ce.Popup,t),c){const g={apiId:Me.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},v=ke.getAbsoluteUrl(c,Zi());await this.navigationClient.navigateInternal(v,g)}i.popup?.close();return}}const m=h.getLogoutUri(t);this.eventHandler.emitEvent(re.LOGOUT_SUCCESS,ce.Popup,t);const p=this.openPopup(m,i);if(this.eventHandler.emitEvent(re.POPUP_OPENED,ce.Popup,{popupWindow:p},null),await jr(this.config.system.popupBridgeTimeout,this.logger,this.browserCrypto,t).catch(()=>{}),c){const g={apiId:Me.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},v=ke.getAbsoluteUrl(c,Zi());this.logger.verbose("0qcur2",this.correlationId),this.logger.verbosePii("0oj7lk",this.correlationId),await this.navigationClient.navigateInternal(v,g)}else this.logger.verbose("03zgcf",this.correlationId)}catch(h){throw i.popup?.close(),h instanceof Ke&&(h.setCorrelationId(this.correlationId),u.cacheFailedRequest(h)),this.eventHandler.emitEvent(re.LOGOUT_FAILURE,ce.Popup,null,h),this.eventHandler.emitEvent(re.LOGOUT_END,ce.Popup),h}this.eventHandler.emitEvent(re.LOGOUT_END,ce.Popup)}initiateAuthRequest(t,i){if(t)return this.logger.infoPii("1kcr9k",this.correlationId),this.openPopup(t,i);throw this.logger.error("1l7hyp",this.correlationId),Z(Lf)}openPopup(t,i){try{let s;if(i.popup?(s=i.popup,this.logger.verbosePii("0cgeo7",this.correlationId),s.location.assign(t)):typeof i.popup>"u"&&(this.logger.verbosePii("0c2awd",this.correlationId),s=this.openSizedPopup(t,i)),!s)throw Z(O0);return s.focus&&s.focus(),this.currentWindow=s,s}catch{throw this.logger.error("0dxfb9",this.correlationId),Z(j0)}}openSizedPopup(t,{popupName:i,popupWindowAttributes:s,popupWindowParent:c}){const u=c.screenLeft?c.screenLeft:c.screenX,h=c.screenTop?c.screenTop:c.screenY,m=c.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,p=c.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let g=s.popupSize?.width,v=s.popupSize?.height,C=s.popupPosition?.top,b=s.popupPosition?.left;return(!g||g<0||g>m)&&(this.logger.verbose("08vfmo",this.correlationId),g=_n.POPUP_WIDTH),(!v||v<0||v>p)&&(this.logger.verbose("09cxa0",this.correlationId),v=_n.POPUP_HEIGHT),(!C||C<0||C>p)&&(this.logger.verbose("1qh4wo",this.correlationId),C=Math.max(0,p/2-_n.POPUP_HEIGHT/2+h)),(!b||b<0||b>m)&&(this.logger.verbose("1sz3en",this.correlationId),b=Math.max(0,m/2-_n.POPUP_WIDTH/2+u)),c.open(t,i,`width=${g}, height=${v}, top=${C}, left=${b}, scrollbars=yes`)}generatePopupName(t,i){return`${_n.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${t.join("-")}.${i}.${this.correlationId}`}generateLogoutPopupName(t){const i=t.account&&t.account.homeAccountId;return`${_n.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${i}.${this.correlationId}`}}function XR(){if(typeof window>"u"||typeof window.performance>"u"||typeof window.performance.getEntriesByType!="function")return;const r=window.performance.getEntriesByType("navigation");return(r.length?r[0]:void 0)?.type}class $R extends Fr{constructor(t,i,s,c,u,h,m,p,g,v){super(t,i,s,c,u,h,m,g,v),this.nativeStorage=p}async acquireToken(t){const i=await z(zl,Ll,this.logger,this.performanceClient,this.correlationId)(t,ce.Redirect,this.config,this.browserCrypto,this.browserStorage,this.logger,this.performanceClient,this.correlationId);i.platformBroker=so(this.config,this.logger,this.correlationId,this.platformAuthProvider,t.authenticationScheme);const s=u=>{u.persisted&&(this.logger.verbose("0udvtt",this.correlationId),this.browserStorage.resetRequestCache(this.correlationId),this.eventHandler.emitEvent(re.RESTORE_FROM_BFCACHE,ce.Redirect))},c=this.getRedirectStartPage(t.redirectStartPage);this.logger.verbosePii("0zao0a",this.correlationId),this.browserStorage.setTemporaryCache(mt.ORIGIN_URI,c,!0),window.addEventListener("pageshow",s);try{this.config.system.protocolMode===$t.EAR?await this.executeEarFlow(i):await this.executeCodeFlow(i)}catch(u){throw u instanceof Ke&&u.setCorrelationId(this.correlationId),window.removeEventListener("pageshow",s),u}}async executeCodeFlow(t){const i=t.correlationId,s=Zt(Me.acquireTokenRedirect,this.config.auth.clientId,this.correlationId,this.browserStorage,this.logger),c=await z(La,Da,this.logger,this.performanceClient,i)(this.performanceClient,this.logger,i),u={...t,codeChallenge:c.challenge};this.browserStorage.cacheAuthorizeRequest(u,this.correlationId,c.verifier);try{if(u.httpMethod===Or.POST)return await this.executeCodeFlowWithPost(u);{const h=await z(this.createAuthCodeClient.bind(this),ta,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:s,requestAuthority:u.authority,requestAzureCloudOptions:u.azureCloudOptions,requestExtraQueryParameters:u.extraQueryParameters,account:u.account}),m=await z(em,jf,this.logger,this.performanceClient,t.correlationId)(this.config,h.authority,u,this.logger,this.performanceClient);return await this.initiateAuthRequest(m)}}catch(h){throw h instanceof Ke&&(h.setCorrelationId(this.correlationId),s.cacheFailedRequest(h)),h}}async executeEarFlow(t){const{correlationId:i,authority:s,azureCloudOptions:c,extraQueryParameters:u,account:h}=t,m=await z(vi,ja,this.logger,this.performanceClient,i)(this.config,this.correlationId,this.performanceClient,this.browserStorage,this.logger,s,c,u,h),p=await z(Gf,Jf,this.logger,this.performanceClient,i)(),g=await z(La,Da,this.logger,this.performanceClient,i)(this.performanceClient,this.logger,i),v={...t,earJwk:p,codeChallenge:g.challenge};return this.browserStorage.cacheAuthorizeRequest(v,this.correlationId,g.verifier),(await tm(document,this.config,m,v,this.logger,this.performanceClient)).submit(),new Promise((b,x)=>{setTimeout(()=>{x(Z(gl,"failed_to_redirect"))},this.config.system.redirectNavigationTimeout)})}async executeCodeFlowWithPost(t){const i=t.correlationId,s=await z(vi,ja,this.logger,this.performanceClient,i)(this.config,this.correlationId,this.performanceClient,this.browserStorage,this.logger);return this.browserStorage.cacheAuthorizeRequest(t,this.correlationId),(await nm(document,this.config,s,t,this.logger,this.performanceClient)).submit(),new Promise((u,h)=>{setTimeout(()=>{h(Z(gl,"failed_to_redirect"))},this.config.system.redirectNavigationTimeout)})}async handleRedirectPromise(t,i,s,c){const u=Zt(Me.handleRedirectPromise,this.config.auth.clientId,this.correlationId,this.browserStorage,this.logger),h=c?.navigateToLoginRequestUrl??!0;try{const[m,p]=this.getRedirectResponse(c?.hash||"");if(!m)return this.logger.info("1qmv0q",this.correlationId),this.browserStorage.resetRequestCache(this.correlationId),XR()!=="back_forward"?s.event.errorCode="no_server_response":this.logger.verbose("1eqegq",this.correlationId),null;const g=this.browserStorage.getTemporaryCache(mt.ORIGIN_URI,this.correlationId,!0)||"",v=Hv(g),C=Hv(window.location.href);if(v===C&&h)return this.logger.verbose("11yred",this.correlationId),g.indexOf("#")>-1&&gN(g),await this.handleResponse(m,t,i,u);if(h){if(!Dl()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(mt.URL_HASH,p,!0);const b={apiId:Me.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0};let x=!0;if(!g||g==="null"){const T=vN();this.browserStorage.setTemporaryCache(mt.ORIGIN_URI,T,!0),this.logger.warning("1dutq1",this.correlationId),x=await this.navigationClient.navigateInternal(T,b)}else this.logger.verbose("08jpy1",this.correlationId),x=await this.navigationClient.navigateInternal(g,b);if(!x)return await this.handleResponse(m,t,i,u)}}else return this.logger.verbose("0v4sdv",this.correlationId),await this.handleResponse(m,t,i,u);return null}catch(m){throw m instanceof Ke&&(m.setCorrelationId(this.correlationId),u.cacheFailedRequest(m)),m}}getRedirectResponse(t){this.logger.verbose("1c5i8m",this.correlationId);let i=t;i||(this.config.auth.OIDCOptions.responseMode===of.QUERY?i=window.location.search:i=window.location.hash);let s=ll(i);if(s){try{xR(s,this.browserCrypto,ce.Redirect)}catch(u){return u instanceof Ke&&this.logger.error("0bkq6p",this.correlationId),[null,""]}return ub(window),this.logger.verbose("00uvho",this.correlationId),[s,i]}const c=this.browserStorage.getTemporaryCache(mt.URL_HASH,this.correlationId,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(mt.URL_HASH)),c&&(s=ll(c),s)?(this.logger.verbose("001671",this.correlationId),[s,c]):[null,""]}async handleResponse(t,i,s,c){if(!t.state)throw Z(Pf);const{authority:h,azureCloudOptions:m,extraQueryParameters:p,account:g}=i;if(t.ear_jwe){const C=await z(vi,ja,this.logger,this.performanceClient,i.correlationId)(this.config,this.correlationId,this.performanceClient,this.browserStorage,this.logger,h,m,p,g);return z(im,Qf,this.logger,this.performanceClient,i.correlationId)(i,t,Me.acquireTokenRedirect,this.config,C,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}const v=await z(this.createAuthCodeClient.bind(this),ta,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:c,requestAuthority:i.authority});return z(Lr,Mr,this.logger,this.performanceClient,i.correlationId)(i,t,s,Me.acquireTokenRedirect,this.config,v,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async initiateAuthRequest(t){if(this.logger.verbose("0yaw2e",this.correlationId),t){this.logger.infoPii("1luf83",this.correlationId);const i={apiId:Me.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},s=this.config.auth.onRedirectNavigate;if(typeof s=="function")if(this.logger.verbose("1nehvl",this.correlationId),s(t)!==!1){this.logger.verbose("1a0jxh",this.correlationId),await this.navigationClient.navigateExternal(t,i);return}else{this.logger.verbose("09k5h5",this.correlationId);return}else{this.logger.verbose("0klwf7",this.correlationId),await this.navigationClient.navigateExternal(t,i);return}}else throw this.logger.info("0rlh4e",this.correlationId),Z(Lf)}async logout(t){this.logger.verbose("1rkurh",this.correlationId);const i=this.initializeLogoutRequest(t),s=Zt(Me.logout,this.config.auth.clientId,this.correlationId,this.browserStorage,this.logger);try{this.eventHandler.emitEvent(re.LOGOUT_START,ce.Redirect,t),await $f(this.browserStorage,this.browserCrypto,this.logger,this.correlationId,i.account);const c={apiId:Me.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},u=await z(this.createAuthCodeClient.bind(this),ta,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:s,requestAuthority:t&&t.authority,requestExtraQueryParameters:t?.extraQueryParameters,account:t&&t.account||void 0});if(u.authority.protocolMode===$t.OIDC)try{u.authority.endSessionEndpoint}catch{if(i.account?.homeAccountId){this.eventHandler.emitEvent(re.LOGOUT_SUCCESS,ce.Redirect,i);return}}const h=u.getLogoutUri(i);i.account?.homeAccountId&&this.eventHandler.emitEvent(re.LOGOUT_SUCCESS,ce.Redirect,i);const m=this.config.auth.onRedirectNavigate;if(typeof m=="function")if(m(h)!==!1){this.logger.verbose("06v57e",this.correlationId),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,Xi.SIGNOUT),await this.navigationClient.navigateExternal(h,c);return}else this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("0xqes1",this.correlationId);else{this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,Xi.SIGNOUT),await this.navigationClient.navigateExternal(h,c);return}}catch(c){throw c instanceof Ke&&(c.setCorrelationId(this.correlationId),s.cacheFailedRequest(c)),this.eventHandler.emitEvent(re.LOGOUT_FAILURE,ce.Redirect,null,c),this.eventHandler.emitEvent(re.LOGOUT_END,ce.Redirect),c}this.eventHandler.emitEvent(re.LOGOUT_END,ce.Redirect)}getRedirectStartPage(t){const i=t||window.location.href;return ke.getAbsoluteUrl(i,Zi())}}async function ZR(r,t,i,s){if(!r)throw i.info("1l7hyp",s),Z(Lf);return Ln(tj,MN,i,t,s)(r)}async function WR(r,t,i,s,c){const u=rm();if(!u.contentDocument)throw"No document associated with iframe!";return(await nm(u.contentDocument,r,t,i,s,c)).submit(),u}async function ej(r,t,i,s,c){const u=rm();if(!u.contentDocument)throw"No document associated with iframe!";return(await tm(u.contentDocument,r,t,i,s,c)).submit(),u}function tj(r){const t=rm();return t.src=r,t}function rm(){const r=document.createElement("iframe");return r.className="msalSilentIframe",r.style.visibility="hidden",r.style.position="absolute",r.style.width=r.style.height="0",r.style.border="0",r.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),r.setAttribute("allow","local-network-access *"),document.body.appendChild(r),r}class nj extends Fr{constructor(t,i,s,c,u,h,m,p,g,v,C){super(t,i,s,c,u,h,p,v,C),this.apiId=m,this.nativeStorage=g}async acquireToken(t){!t.loginHint&&!t.sid&&(!t.account||!t.account.username)&&this.logger.warning("1kl318",this.correlationId);const i={...t};i.prompt?i.prompt!==Jt.NONE&&i.prompt!==Jt.NO_SESSION&&(this.logger.warning("0bmctg",this.correlationId),i.prompt=Jt.NONE):i.prompt=Jt.NONE;const s=await z(zl,Ll,this.logger,this.performanceClient,this.correlationId)(i,ce.Silent,this.config,this.browserCrypto,this.browserStorage,this.logger,this.performanceClient,this.correlationId);return s.platformBroker=so(this.config,this.logger,this.correlationId,this.platformAuthProvider,s.authenticationScheme),fb(s.authority),this.config.system.protocolMode===$t.EAR?this.executeEarFlow(s):this.executeCodeFlow(s)}async executeCodeFlow(t){let i;const s=Zt(this.apiId,this.config.auth.clientId,this.correlationId,this.browserStorage,this.logger);try{return i=await z(this.createAuthCodeClient.bind(this),ta,this.logger,this.performanceClient,t.correlationId)({serverTelemetryManager:s,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),await z(this.silentTokenHelper.bind(this),dC,this.logger,this.performanceClient,t.correlationId)(i,t)}catch(c){if(c instanceof Ke&&(c.setCorrelationId(this.correlationId),s.cacheFailedRequest(c)),!i||!(c instanceof Ke)||c.errorCode!==_n.INVALID_GRANT_ERROR)throw c;return this.performanceClient.addFields({retryError:c.errorCode},this.correlationId),await z(this.silentTokenHelper.bind(this),dC,this.logger,this.performanceClient,this.correlationId)(i,t)}}async executeEarFlow(t){const{correlationId:i,authority:s,azureCloudOptions:c,extraQueryParameters:u,account:h}=t,m=await z(vi,ja,this.logger,this.performanceClient,i)(this.config,this.correlationId,this.performanceClient,this.browserStorage,this.logger,s,c,u,h),p=await z(Gf,Jf,this.logger,this.performanceClient,i)(),g=await z(La,Da,this.logger,this.performanceClient,i)(this.performanceClient,this.logger,i),v={...t,earJwk:p,codeChallenge:g.challenge};await z(ej,_h,this.logger,this.performanceClient,i)(this.config,m,v,this.logger,this.performanceClient);const C=this.config.auth.OIDCOptions.responseMode,b=await z(jr,pl,this.logger,this.performanceClient,i)(this.config.system.iframeBridgeTimeout,this.logger,this.browserCrypto,t),x=Ln(eo,Ws,this.logger,this.performanceClient,i)(b,C,this.logger,this.correlationId);if(!x.ear_jwe&&x.code){const T=await z(this.createAuthCodeClient.bind(this),ta,this.logger,this.performanceClient,i)({serverTelemetryManager:Zt(this.apiId,this.config.auth.clientId,i,this.browserStorage,this.logger),requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account,authority:m});return z(Lr,Mr,this.logger,this.performanceClient,i)(v,x,g.verifier,this.apiId,this.config,T,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}else return z(im,Qf,this.logger,this.performanceClient,i)(v,x,this.apiId,this.config,m,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}logout(){return Promise.reject(Z(zf))}async silentTokenHelper(t,i){const s=i.correlationId,c=await z(La,Da,this.logger,this.performanceClient,s)(this.performanceClient,this.logger,s),u={...i,codeChallenge:c.challenge};if(i.httpMethod===Or.POST)await z(WR,_h,this.logger,this.performanceClient,s)(this.config,t.authority,u,this.logger,this.performanceClient);else{const g=await z(em,jf,this.logger,this.performanceClient,s)(this.config,t.authority,u,this.logger,this.performanceClient);await z(ZR,_h,this.logger,this.performanceClient,s)(g,this.performanceClient,this.logger,s)}const h=this.config.auth.OIDCOptions.responseMode,m=await z(jr,pl,this.logger,this.performanceClient,s)(this.config.system.iframeBridgeTimeout,this.logger,this.browserCrypto,i),p=Ln(eo,Ws,this.logger,this.performanceClient,s)(m,h,this.logger,this.correlationId);return z(Lr,Mr,this.logger,this.performanceClient,s)(i,p,c.verifier,this.apiId,this.config,t,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}}class ij extends Fr{async acquireToken(t){const i=await z(Zf,Yf,this.logger,this.performanceClient,t.correlationId)(t,this.config,this.performanceClient,this.logger,this.correlationId),s={...t,...i};t.redirectUri&&(s.redirectUri=yl(t.redirectUri,this.config.auth.redirectUri,this.logger,this.correlationId));const c=Zt(Me.acquireTokenSilent_silentFlow,this.config.auth.clientId,this.correlationId,this.browserStorage,this.logger),u=await this.createRefreshTokenClient({serverTelemetryManager:c,authorityUrl:s.authority,azureCloudOptions:s.azureCloudOptions,account:s.account});return z(u.acquireTokenByRefreshToken.bind(u),ON,this.logger,this.performanceClient,t.correlationId)(s).catch(h=>{throw h.setCorrelationId(this.correlationId),c.cacheFailedRequest(h),h})}logout(){return Promise.reject(Z(zf))}async createRefreshTokenClient(t){const i=await z(this.getClientConfiguration.bind(this),Ul,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:t.serverTelemetryManager,requestAuthority:t.authorityUrl,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account});return new c0(i,this.performanceClient)}}class aj extends VS{constructor(t,i){super(t,i),this.includeRedirectUri=!1}}class rj extends Fr{constructor(t,i,s,c,u,h,m,p,g,v){super(t,i,s,c,u,h,p,g,v),this.apiId=m}async acquireToken(t){if(!t.code)throw Z(B0);const i=await z(zl,Ll,this.logger,this.performanceClient,this.correlationId)(t,ce.Silent,this.config,this.browserCrypto,this.browserStorage,this.logger,this.performanceClient,this.correlationId),s=Zt(this.apiId,this.config.auth.clientId,this.correlationId,this.browserStorage,this.logger);try{const c={...i,code:t.code},u=await z(this.getClientConfiguration.bind(this),Ul,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:s,requestAuthority:i.authority,requestAzureCloudOptions:i.azureCloudOptions,requestExtraQueryParameters:i.extraQueryParameters,account:i.account}),h=new aj(u,this.performanceClient);this.logger.verbose("1uic5e",this.correlationId);const m=new Cb(h,this.browserStorage,c,this.logger,this.performanceClient);return await z(m.handleCodeResponseFromServer.bind(m),PS,this.logger,this.performanceClient,this.correlationId)({code:t.code,msgraph_host:t.msGraphHost,cloud_graph_host_name:t.cloudGraphHostName,cloud_instance_host_name:t.cloudInstanceHostName},i,!1)}catch(c){throw c instanceof Ke&&(c.setCorrelationId(this.correlationId),s.cacheFailedRequest(c)),c}}logout(){return Promise.reject(Z(zf))}}function sj(r,t,i,s){const c=window.msal?.clientIds||[],u=c.length,h=c.filter(m=>m===r).length;h>1&&i.warning("1e88vg",s),t.add({msalInstanceCount:u,sameClientIdInstanceCount:h})}function qc(r,t,i){try{Vf(r)}catch(s){throw t.end({success:!1},s,i),s}}class sm{constructor(t){this.operatingContext=t,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=t.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new Si(this.logger,this.performanceClient):ul,this.eventHandler=new AR(this.logger),this.browserStorage=this.isBrowserEnvironment?new Yh(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler,s0(this.config.auth)):vR(this.config.auth.clientId,this.logger,this.performanceClient,this.eventHandler);const i={cacheLocation:Tn.MemoryStorage,cacheRetentionDays:5};this.nativeInternalStorage=new Yh(this.config.auth.clientId,i,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}static async createController(t,i){const s=new sm(t);return await s.initialize(i),s}trackPageVisibility(t){t&&(this.logger.info("16v6hv",t),this.performanceClient.incrementFields({visibilityChangeCount:1},t))}async initialize(t){const i=this.getRequestCorrelationId(t);if(this.logger.trace("1f7joy",i),this.initialized){this.logger.info("061m5x",i);return}if(!this.isBrowserEnvironment){this.logger.info("19fvpi",i),this.initialized=!0,this.eventHandler.emitEvent(re.INITIALIZE_END);return}const s=t?.correlationId||this.getRequestCorrelationId(),c=this.config.system.allowPlatformBroker,u=this.performanceClient.startMeasurement(oR,s);if(this.eventHandler.emitEvent(re.INITIALIZE_START),this.logMultipleInstances(u,s),await z(this.browserStorage.initialize.bind(this.browserStorage),kN,this.logger,this.performanceClient,s)(s),c)try{this.platformAuthProvider=await YR(this.logger,this.performanceClient,s,this.config.system.nativeBrokerHandshakeTimeout)}catch(h){this.logger.verbose(h,s)}this.config.cache.cacheLocation===Tn.LocalStorage&&this.eventHandler.subscribeCrossTab(),!this.config.system.navigatePopups&&await this.preGeneratePkceCodes(s),this.initialized=!0,this.eventHandler.emitEvent(re.INITIALIZE_END),u.end({allowPlatformBroker:c,success:!0})}async handleRedirectPromise(t){if(this.logger.verbose("02l8bm",""),hb(this.initialized),this.isBrowserEnvironment){const i=t?.hash||"";let s=this.redirectResponse.get(i);return typeof s>"u"?(s=this.handleRedirectPromiseInternal(t),this.redirectResponse.set(i,s),this.logger.verbose("1wn9kp","")):this.logger.verbose("0w0gm3",""),s}return this.logger.verbose("12xi63",""),null}async handleRedirectPromiseInternal(t){if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("0le6uv",""),null;if(this.browserStorage.getInteractionInProgress()?.type===Xi.SIGNOUT)return this.logger.verbose("1ywcv2",""),this.browserStorage.setInteractionInProgress(!1),Promise.resolve(null);const s=this.getAllAccounts(),c=this.browserStorage.getCachedNativeRequest(),u=c&&this.platformAuthProvider&&!t?.hash;let h;this.eventHandler.emitEvent(re.HANDLE_REDIRECT_START,ce.Redirect);let m;try{if(u&&this.platformAuthProvider){const p=c?.correlationId||"";h=this.performanceClient.startMeasurement(Eh,p),this.logger.trace("12v7is",p);const g=new Wc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Me.handleRedirectPromise,this.performanceClient,this.platformAuthProvider,c.accountId,this.nativeInternalStorage,c.correlationId);m=z(g.handleRedirectPromise.bind(g),KN,this.logger,this.performanceClient,h.event.correlationId)(this.performanceClient,h.event.correlationId)}else{const[p,g]=this.browserStorage.getCachedRequest(""),v=p.correlationId;h=this.performanceClient.startMeasurement(Eh,v),this.logger.trace("0znzs5",v);const C=this.createRedirectClient(v);m=z(C.handleRedirectPromise.bind(C),BN,this.logger,this.performanceClient,h.event.correlationId)(p,g,h,t)}}catch(p){throw this.browserStorage.resetRequestCache(""),p}return m.then(p=>(p?(this.browserStorage.resetRequestCache(p.correlationId),this.eventHandler.emitEvent(re.ACQUIRE_TOKEN_SUCCESS,ce.Redirect,p),this.logger.verbose("0ui8f5",p.correlationId),s.length<this.getAllAccounts().length&&(this.eventHandler.emitEvent(re.LOGIN_SUCCESS,ce.Redirect,p.account),this.logger.verbose("16im3l",p.correlationId)),h.end({success:!0},void 0,p.account)):h.event.errorCode?h.end({success:!1},void 0):h.discard(),this.eventHandler.emitEvent(re.HANDLE_REDIRECT_END,ce.Redirect),p)).catch(p=>{this.browserStorage.resetRequestCache(h.event.correlationId);const g=p;throw this.eventHandler.emitEvent(re.ACQUIRE_TOKEN_FAILURE,ce.Redirect,null,g),this.eventHandler.emitEvent(re.HANDLE_REDIRECT_END,ce.Redirect),h.end({success:!1},g),p})}async acquireTokenRedirect(t){const i=this.getRequestCorrelationId(t);this.logger.verbose("0os66p",i);const s=this.performanceClient.startMeasurement(rR,i);s.add({scenarioId:t.scenarioId});const c=this.config.auth.onRedirectNavigate;this.config.auth.onRedirectNavigate=u=>{const h=typeof c=="function"?c(u):void 0;return s.add({navigateCallbackResult:h!==!1}),s.event=s.end({success:!0},void 0,t.account)||s.event,h};try{lC(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,Xi.SIGNIN),this.eventHandler.emitEvent(re.ACQUIRE_TOKEN_START,ce.Redirect,t);let u;return this.platformAuthProvider&&this.canUsePlatformBroker(t)?u=new Wc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Me.acquireTokenRedirect,this.performanceClient,this.platformAuthProvider,this.getNativeAccountId(t),this.nativeInternalStorage,i).acquireTokenRedirect(t,s).catch(m=>{if(m instanceof Qn&&Rr(m))return this.platformAuthProvider=void 0,this.createRedirectClient(i).acquireToken(t);if(m instanceof wn)return this.logger.verbose("1ipyz4",i),this.createRedirectClient(i).acquireToken(t);throw m}):u=this.createRedirectClient(i).acquireToken(t),await u}catch(u){throw this.browserStorage.resetRequestCache(i),s.event.status===2?this.performanceClient.startMeasurement(Eh,i).end({success:!1},u,t.account):s.end({success:!1},u,t.account),this.eventHandler.emitEvent(re.ACQUIRE_TOKEN_FAILURE,ce.Redirect,null,u),u}}acquireTokenPopup(t){const i=this.getRequestCorrelationId(t),s=this.performanceClient.startMeasurement(aR,i);s.add({scenarioId:t.scenarioId});try{this.logger.verbose("0ch87b",i),qc(this.initialized,s,t.account),this.browserStorage.setInteractionInProgress(!0,Xi.SIGNIN,t.overrideInteractionInProgress,i)}catch(m){return Promise.reject(m)}const c=this.getAllAccounts();this.eventHandler.emitEvent(re.ACQUIRE_TOKEN_START,ce.Popup,t);let u;const h=this.getPreGeneratedPkceCodes(i);return this.canUsePlatformBroker(t)?u=this.acquireTokenNative({...t,correlationId:i},Me.acquireTokenPopup).then(m=>(s.end({success:!0,isNativeBroker:!0},void 0,m.account),m)).catch(m=>{if(m instanceof Qn&&Rr(m))return this.platformAuthProvider=void 0,this.createPopupClient(i).acquireToken(t,h);if(m instanceof wn)return this.logger.verbose("0yy5fw",i),this.createPopupClient(i).acquireToken(t,h);throw m}):u=this.createPopupClient(i).acquireToken(t,h),u.then(m=>{const p=c.length<this.getAllAccounts().length;return this.eventHandler.emitEvent(re.ACQUIRE_TOKEN_SUCCESS,ce.Popup,m),p&&this.eventHandler.emitEvent(re.LOGIN_SUCCESS,ce.Popup,m.account),s.end({success:!0,accessTokenSize:m.accessToken.length,idTokenSize:m.idToken.length},void 0,m.account),m}).catch(m=>(this.eventHandler.emitEvent(re.ACQUIRE_TOKEN_FAILURE,ce.Popup,null,m),s.end({success:!1},m,t.account),Promise.reject(m))).finally(async()=>{this.browserStorage.setInteractionInProgress(!1),this.config.system.navigatePopups||await this.preGeneratePkceCodes(i)})}trackPageVisibilityWithMeasurement(){const t=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;t&&t.increment({visibilityChangeCount:1})}async ssoSilent(t){const i=this.getRequestCorrelationId(t),s={...t,prompt:t.prompt,correlationId:i};this.ssoSilentMeasurement=this.performanceClient.startMeasurement(sR,i),this.ssoSilentMeasurement?.add({scenarioId:t.scenarioId}),qc(this.initialized,this.ssoSilentMeasurement,t.account),this.ssoSilentMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement);const c=this.getAllAccounts();this.logger.verbose("0w1b45",i),this.eventHandler.emitEvent(re.ACQUIRE_TOKEN_START,ce.Silent,s);let u;return this.canUsePlatformBroker(s)?u=this.acquireTokenNative(s,Me.ssoSilent).catch(h=>{if(h instanceof Qn&&Rr(h))return this.platformAuthProvider=void 0,this.createSilentIframeClient(s.correlationId).acquireToken(s);throw h}):u=this.createSilentIframeClient(s.correlationId).acquireToken(s),u.then(h=>{const m=c.length<this.getAllAccounts().length;return this.eventHandler.emitEvent(re.ACQUIRE_TOKEN_SUCCESS,ce.Silent,h),m&&this.eventHandler.emitEvent(re.LOGIN_SUCCESS,ce.Silent,h.account),this.ssoSilentMeasurement?.end({success:!0,isNativeBroker:h.fromPlatformBroker,accessTokenSize:h.accessToken.length,idTokenSize:h.idToken.length},void 0,h.account),h}).catch(h=>{throw this.eventHandler.emitEvent(re.ACQUIRE_TOKEN_FAILURE,ce.Silent,null,h),this.ssoSilentMeasurement?.end({success:!1},h,t.account),h}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenByCode(t){const i=this.getRequestCorrelationId(t);this.logger.trace("0ch6ga",i);const s=this.performanceClient.startMeasurement(iR,i);qc(this.initialized,s),this.eventHandler.emitEvent(re.ACQUIRE_TOKEN_START,ce.Silent,t),s.add({scenarioId:t.scenarioId});try{if(t.code&&t.nativeAccountId)throw Z(F0);if(t.code){const c=t.code;let u=this.hybridAuthCodeResponses.get(c);return u?(this.logger.verbose("0qgp28",i),s.discard()):(this.logger.verbose("06eh73",i),u=this.acquireTokenByCodeAsync({...t,correlationId:i}).then(h=>(this.eventHandler.emitEvent(re.ACQUIRE_TOKEN_SUCCESS,ce.Silent,h),this.hybridAuthCodeResponses.delete(c),s.end({success:!0,isNativeBroker:h.fromPlatformBroker,accessTokenSize:h.accessToken.length,idTokenSize:h.idToken.length},void 0,h.account),h)).catch(h=>{throw this.hybridAuthCodeResponses.delete(c),this.eventHandler.emitEvent(re.ACQUIRE_TOKEN_FAILURE,ce.Silent,null,h),s.end({success:!1},h),h}),this.hybridAuthCodeResponses.set(c,u)),await u}else if(t.nativeAccountId)if(this.canUsePlatformBroker(t,t.nativeAccountId)){const c=await this.acquireTokenNative({...t,correlationId:i},Me.acquireTokenByCode,t.nativeAccountId).catch(u=>{throw u instanceof Qn&&Rr(u)&&(this.platformAuthProvider=void 0),u});return s.end({success:!0},void 0,c.account),c}else throw Z(G0);else throw Z(K0)}catch(c){throw this.eventHandler.emitEvent(re.ACQUIRE_TOKEN_FAILURE,ce.Silent,null,c),s.end({success:!1},c),c}}async acquireTokenByCodeAsync(t){const i=this.getRequestCorrelationId(t);return this.logger.trace("10d9hy",i),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(HN,i),this.acquireTokenByCodeAsyncMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),await this.createSilentAuthCodeClient(i).acquireToken(t).then(u=>(this.acquireTokenByCodeAsyncMeasurement?.end({success:!0,fromCache:u.fromCache,isNativeBroker:u.fromPlatformBroker}),u)).catch(u=>{throw this.acquireTokenByCodeAsyncMeasurement?.end({success:!1},u),u}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenFromCache(t,i){switch(i){case Pt.Default:case Pt.AccessToken:case Pt.AccessTokenAndRefreshToken:const s=this.createSilentCacheClient(t.correlationId);return z(s.acquireToken.bind(s),xN,this.logger,this.performanceClient,t.correlationId)(t);default:throw V(Na)}}async acquireTokenByRefreshToken(t,i){switch(i){case Pt.Default:case Pt.AccessTokenAndRefreshToken:case Pt.RefreshToken:case Pt.RefreshTokenAndNetwork:const s=this.createSilentRefreshClient(t.correlationId);return z(s.acquireToken.bind(s),jN,this.logger,this.performanceClient,t.correlationId)(t);default:throw V(Na)}}async acquireTokenBySilentIframe(t){const i=this.createSilentIframeClient(t.correlationId);return z(i.acquireToken.bind(i),NN,this.logger,this.performanceClient,t.correlationId)(t)}async logoutRedirect(t){const i=this.getRequestCorrelationId(t);return lC(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,Xi.SIGNOUT),this.createRedirectClient(i).logout(t)}logoutPopup(t){try{const i=this.getRequestCorrelationId(t);return Vf(this.initialized),this.browserStorage.setInteractionInProgress(!0,Xi.SIGNOUT),this.createPopupClient(i).logout(t).finally(()=>{this.browserStorage.setInteractionInProgress(!1)})}catch(i){return Promise.reject(i)}}async clearCache(t){if(!this.isBrowserEnvironment)return;const i=this.getRequestCorrelationId(t);return this.createSilentCacheClient(i).logout(t)}getAllAccounts(t){return CR(this.logger,this.browserStorage,this.isBrowserEnvironment,this.getRequestCorrelationId(),t)}getAccount(t){return SR(t,this.logger,this.browserStorage,this.getRequestCorrelationId())}setActiveAccount(t){bR(t,this.browserStorage,this.getRequestCorrelationId())}getActiveAccount(){return _R(this.browserStorage,this.getRequestCorrelationId())}async hydrateCache(t,i){this.logger.verbose("16jycr",t.correlationId);const s=cx(t.account,t.cloudGraphHostName,t.msGraphHost);return await this.browserStorage.setAccount(s,t.correlationId,Ra(t.idTokenClaims)),t.fromPlatformBroker?(this.logger.verbose("1fxyu8",t.correlationId),this.nativeInternalStorage.hydrateCache(t,i)):this.browserStorage.hydrateCache(t,i)}async acquireTokenNative(t,i,s,c){const u=this.getRequestCorrelationId(t);if(this.logger.trace("0b9y3p",u),!this.platformAuthProvider)throw Z(ib);return new Wc(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,i,this.performanceClient,this.platformAuthProvider,s||this.getNativeAccountId(t),this.nativeInternalStorage,u).acquireToken(t,c)}canUsePlatformBroker(t,i){const s=this.getRequestCorrelationId(t);if(this.logger.trace("1n9lbl",s),!this.platformAuthProvider)return this.logger.trace("0vnu11",s),!1;if(!so(this.config,this.logger,s,this.platformAuthProvider,t.authenticationScheme))return this.logger.trace("1m4bzf",s),!1;if(t.prompt)switch(t.prompt){case Jt.NONE:case Jt.CONSENT:case Jt.LOGIN:this.logger.trace("0vdv8e",s);break;default:return this.logger.trace("0pdzw6",s),!1}return!i&&!this.getNativeAccountId(t)?(this.logger.trace("16lbtk",s),!1):!0}getNativeAccountId(t){const i=t.account||this.getAccount({loginHint:t.loginHint,sid:t.sid})||this.getActiveAccount();return i&&i.nativeAccountId||""}createPopupClient(t){return new JR(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,t,this.platformAuthProvider)}createRedirectClient(t){return new $R(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,t,this.platformAuthProvider)}createSilentIframeClient(t){return new nj(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Me.ssoSilent,this.performanceClient,this.nativeInternalStorage,t,this.platformAuthProvider)}createSilentCacheClient(t){return new Sb(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,t,this.platformAuthProvider)}createSilentRefreshClient(t){return new ij(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,t,this.platformAuthProvider)}createSilentAuthCodeClient(t){return new rj(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Me.acquireTokenByCode,this.performanceClient,t,this.platformAuthProvider)}addEventCallback(t,i){return this.eventHandler.addEventCallback(t,i)}removeEventCallback(t){this.eventHandler.removeEventCallback(t)}addPerformanceCallback(t){return db(),this.performanceClient.addPerformanceCallback(t)}removePerformanceCallback(t){return this.performanceClient.removePerformanceCallback(t)}getLogger(){return this.logger}setLogger(t){this.logger=t}initializeWrapperLibrary(t,i){this.browserStorage.setWrapperMetadata(t,i)}setNavigationClient(t){this.navigationClient=t}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(t){return t?.correlationId?t.correlationId:this.isBrowserEnvironment?Ma():""}async loginRedirect(t){const i=this.getRequestCorrelationId(t);return this.logger.verbose("0lz9hf",i),this.acquireTokenRedirect({correlationId:i,...t||nC})}loginPopup(t){const i=this.getRequestCorrelationId(t);return this.logger.verbose("0qw7v5",i),this.acquireTokenPopup({correlationId:i,...t||nC})}async acquireTokenSilent(t){const i=this.getRequestCorrelationId(t),s=this.performanceClient.startMeasurement(nR,i);s.add({cacheLookupPolicy:t.cacheLookupPolicy,scenarioId:t.scenarioId}),qc(this.initialized,s,t.account),this.logger.verbose("0x1c4s",i);const c=t.account||this.getActiveAccount();if(!c)throw Z(U0);return this.acquireTokenSilentDeduped(t,c,i).then(u=>(s.end({success:!0,fromCache:u.fromCache,isNativeBroker:u.fromPlatformBroker,accessTokenSize:u.accessToken.length,idTokenSize:u.idToken.length},void 0,u.account),{...u,state:t.state,correlationId:i})).catch(u=>{throw u instanceof Ke&&u.setCorrelationId(i),s.end({success:!1},u,c),u})}async acquireTokenSilentDeduped(t,i,s){const c=Ol(this.config.auth.clientId,{...t,authority:t.authority||this.config.auth.authority},i.homeAccountId),u=JSON.stringify(c),h=this.activeSilentTokenRequests.get(u);if(typeof h>"u"){this.logger.verbose("0fcjbk",s),this.performanceClient.addFields({deduped:!1},s);const m=z(this.acquireTokenSilentAsync.bind(this),AN,this.logger,this.performanceClient,s)({...t,correlationId:s},i);return this.activeSilentTokenRequests.set(u,m),m.finally(()=>{this.activeSilentTokenRequests.delete(u)})}else return this.logger.verbose("1yq7nb",s),this.performanceClient.addFields({deduped:!0},s),h}async acquireTokenSilentAsync(t,i){const s=()=>this.trackPageVisibility(t.correlationId);this.eventHandler.emitEvent(re.ACQUIRE_TOKEN_START,ce.Silent,t),t.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},t.correlationId),document.addEventListener("visibilitychange",s);const c=await z(TR,IN,this.logger,this.performanceClient,t.correlationId)(t,i,this.config,this.performanceClient,this.logger),u=t.cacheLookupPolicy||Pt.Default;return this.acquireTokenSilentNoIframe(c,u).catch(async m=>{if(oj(m,u))if(this.activeIframeRequest)if(u!==Pt.Skip){const[g,v]=this.activeIframeRequest;this.logger.verbose("1w8fso",c.correlationId);const C=this.performanceClient.startMeasurement(RN,c.correlationId);C.add({awaitIframeCorrelationId:v});const b=await g;if(C.end({success:b}),b)return this.logger.verbose("0ywzzi",c.correlationId),this.acquireTokenSilentNoIframe(c,u);throw this.logger.info("17y14q",c.correlationId),m}else return this.logger.warning("1bd4p8",c.correlationId),z(this.acquireTokenBySilentIframe.bind(this),uC,this.logger,this.performanceClient,c.correlationId)(c);else{let g;return this.activeIframeRequest=[new Promise(v=>{g=v}),c.correlationId],this.logger.verbose("0rh08z",c.correlationId),z(this.acquireTokenBySilentIframe.bind(this),uC,this.logger,this.performanceClient,c.correlationId)(c).then(v=>(g(!0),v)).catch(v=>{throw g(!1),v}).finally(()=>{this.activeIframeRequest=void 0})}else throw m}).then(m=>(this.eventHandler.emitEvent(re.ACQUIRE_TOKEN_SUCCESS,ce.Silent,m),t.correlationId&&this.performanceClient.addFields({fromCache:m.fromCache,isNativeBroker:m.fromPlatformBroker},t.correlationId),m)).catch(m=>{throw this.eventHandler.emitEvent(re.ACQUIRE_TOKEN_FAILURE,ce.Silent,null,m),m}).finally(()=>{document.removeEventListener("visibilitychange",s)})}async acquireTokenSilentNoIframe(t,i){return so(this.config,this.logger,t.correlationId,this.platformAuthProvider,t.authenticationScheme)&&t.account.nativeAccountId?(this.logger.verbose("0sczo4",t.correlationId),this.acquireTokenNative(t,Me.acquireTokenSilent_silentFlow,t.account.nativeAccountId,i).catch(async s=>{throw s instanceof Qn&&Rr(s)?(this.logger.verbose("07rkmb",t.correlationId),this.platformAuthProvider=void 0,V(Na)):s})):(this.logger.verbose("0ox81t",t.correlationId),i===Pt.AccessToken&&this.logger.verbose("0fvwxe",t.correlationId),z(this.acquireTokenFromCache.bind(this),_N,this.logger,this.performanceClient,t.correlationId)(t,i).catch(s=>{if(i===Pt.AccessToken)throw s;return this.eventHandler.emitEvent(re.ACQUIRE_TOKEN_NETWORK_START,ce.Silent,t),z(this.acquireTokenByRefreshToken.bind(this),EN,this.logger,this.performanceClient,t.correlationId)(t,i)}))}async preGeneratePkceCodes(t){return this.logger.verbose("1x6uj6",t),this.pkceCode=await z(La,Da,this.logger,this.performanceClient,t)(this.performanceClient,this.logger,t),Promise.resolve()}getPreGeneratedPkceCodes(t){const i=this.pkceCode?{...this.pkceCode}:void 0;return this.pkceCode=void 0,i?this.logger.verbose("12js1o",t):this.logger.verbose("1oe9ci",t),this.performanceClient.addFields({usePreGeneratedPkce:!!i},t),i}logMultipleInstances(t,i){const s=this.config.auth.clientId;if(!window)return;window.msal=window.msal||{},window.msal.clientIds=window.msal.clientIds||[],window.msal.clientIds.length>0&&this.logger.verbose("1qtz3l",i),window.msal.clientIds.push(s),sj(s,t,this.logger,i)}}function oj(r,t){const i=!(r instanceof wn&&r.subError!==Rf),s=r.errorCode===_n.INVALID_GRANT_ERROR||r.errorCode===Na,c=i&&s||r.errorCode===Hh||r.errorCode===DS,u=E0.includes(t);return c&&u}class om{static loggerCallback(t,i){switch(t){case Xe.Error:console.error(i);return;case Xe.Info:console.info(i);return;case Xe.Verbose:console.debug(i);return;case Xe.Warning:console.warn(i);return;default:console.log(i);return}}constructor(t){this.browserEnvironment=typeof window<"u",this.config=VR(t,this.browserEnvironment);let i;try{i=window[Tn.SessionStorage]}catch{}const s=i?.getItem(lR),c=i?.getItem(uR)?.toLowerCase(),u=c==="true"?!0:c==="false"?!1:void 0,h={...this.config.system.loggerOptions},m=s&&Object.keys(Xe).includes(s)?Xe[s]:void 0;m&&(h.loggerCallback=om.loggerCallback,h.logLevel=m),u!==void 0&&(h.piiLoggingEnabled=u),this.logger=new Pn(h,yR,Ua),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}class zr extends om{getModuleName(){return zr.MODULE_NAME}getId(){return zr.ID}async initialize(t){return this.available=typeof window<"u",this.available}}zr.MODULE_NAME="";zr.ID="StandardOperatingContext";class cj{constructor(t,i){this.controller=i||new sm(new zr(t))}async initialize(t){return this.controller.initialize(t)}async acquireTokenPopup(t){return this.controller.acquireTokenPopup(t)}acquireTokenRedirect(t){return this.controller.acquireTokenRedirect(t)}acquireTokenSilent(t){return this.controller.acquireTokenSilent(t)}acquireTokenByCode(t){return this.controller.acquireTokenByCode(t)}addEventCallback(t,i){return this.controller.addEventCallback(t,i)}removeEventCallback(t){return this.controller.removeEventCallback(t)}addPerformanceCallback(t){return this.controller.addPerformanceCallback(t)}removePerformanceCallback(t){return this.controller.removePerformanceCallback(t)}getAccount(t){return this.controller.getAccount(t)}getAllAccounts(t){return this.controller.getAllAccounts(t)}handleRedirectPromise(t){return this.controller.handleRedirectPromise(t)}loginPopup(t){return this.controller.loginPopup(t)}loginRedirect(t){return this.controller.loginRedirect(t)}logoutRedirect(t){return this.controller.logoutRedirect(t)}logoutPopup(t){return this.controller.logoutPopup(t)}ssoSilent(t){return this.controller.ssoSilent(t)}getLogger(){return this.controller.getLogger()}setLogger(t){this.controller.setLogger(t)}setActiveAccount(t){this.controller.setActiveAccount(t)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(t,i){return this.controller.initializeWrapperLibrary(t,i)}setNavigationClient(t){this.controller.setNavigationClient(t)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(t,i){return this.controller.hydrateCache(t,i)}clearCache(t){return this.controller.clearCache(t)}}const lj={initialize:()=>Promise.reject(vt(Lt)),acquireTokenPopup:()=>Promise.reject(vt(Lt)),acquireTokenRedirect:()=>Promise.reject(vt(Lt)),acquireTokenSilent:()=>Promise.reject(vt(Lt)),acquireTokenByCode:()=>Promise.reject(vt(Lt)),getAllAccounts:()=>[],getAccount:()=>null,handleRedirectPromise:()=>Promise.reject(vt(Lt)),loginPopup:()=>Promise.reject(vt(Lt)),loginRedirect:()=>Promise.reject(vt(Lt)),logoutRedirect:()=>Promise.reject(vt(Lt)),logoutPopup:()=>Promise.reject(vt(Lt)),ssoSilent:()=>Promise.reject(vt(Lt)),addEventCallback:()=>null,removeEventCallback:()=>{},addPerformanceCallback:()=>"",removePerformanceCallback:()=>!1,getLogger:()=>{throw vt(Lt)},setLogger:()=>{},setActiveAccount:()=>{},getActiveAccount:()=>null,initializeWrapperLibrary:()=>{},setNavigationClient:()=>{},getConfiguration:()=>{throw vt(Lt)},hydrateCache:()=>Promise.reject(vt(Lt)),clearCache:()=>Promise.reject(vt(Lt))};class uj{static getInteractionStatusFromEvent(t,i){switch(t.eventType){case re.ACQUIRE_TOKEN_START:if(t.interactionType===ce.Redirect||t.interactionType===ce.Popup)return Ct.AcquireToken;break;case re.HANDLE_REDIRECT_START:return Ct.HandleRedirect;case re.LOGOUT_START:return Ct.Logout;case re.LOGOUT_END:if(i&&i!==Ct.Logout)break;return Ct.None;case re.HANDLE_REDIRECT_END:if(i&&i!==Ct.HandleRedirect)break;return Ct.None;case re.ACQUIRE_TOKEN_SUCCESS:case re.ACQUIRE_TOKEN_FAILURE:case re.RESTORE_FROM_BFCACHE:if(t.interactionType===ce.Redirect||t.interactionType===ce.Popup){if(i&&i!==Ct.AcquireToken)break;return Ct.None}break}return null}}const dj={instance:lj,inProgress:Ct.None,accounts:[],logger:new Pn({})},cm=E.createContext(dj);cm.Consumer;function EC(r,t){if(r.length!==t.length)return!1;const i=[...t];return r.every(s=>{const c=i.shift();return!s||!c?!1:s.homeAccountId===c.homeAccountId&&s.localAccountId===c.localAccountId&&s.username===c.username})}const hj="@azure/msal-react",AC="5.0.2";const bl={UNBLOCK_INPROGRESS:"UNBLOCK_INPROGRESS",EVENT:"EVENT"},fj=(r,t)=>{const{type:i,payload:s}=t;let c=r.inProgress;switch(i){case bl.UNBLOCK_INPROGRESS:r.inProgress===Ct.Startup&&(c=Ct.None,s.logger.info("MsalProvider - handleRedirectPromise resolved, setting inProgress to 'none'",""));break;case bl.EVENT:const h=s.message,m=uj.getInteractionStatusFromEvent(h,r.inProgress);m&&(s.logger.info(`MsalProvider - '${h.eventType}' results in setting inProgress from '${r.inProgress}' to '${m}'`,""),c=m);break;default:throw new Error(`Unknown action type: ${i}`)}if(c===Ct.Startup)return r;const u=s.instance.getAllAccounts();return c!==r.inProgress&&!EC(u,r.accounts)?{...r,inProgress:c,accounts:u}:c!==r.inProgress?{...r,inProgress:c}:EC(u,r.accounts)?r:{...r,accounts:u}};function mj({instance:r,children:t}){E.useEffect(()=>{r.initializeWrapperLibrary(S0.React,AC)},[r]);const i=E.useMemo(()=>r.getLogger().clone(hj,AC),[r]),[s,c]=E.useReducer(fj,void 0,()=>({inProgress:Ct.Startup,accounts:[]}));E.useEffect(()=>{const h=r.addEventCallback(m=>{c({payload:{instance:r,logger:i,message:m},type:bl.EVENT})});return i.verbose(`MsalProvider - Registered event callback with id: '${h}'`,""),r.initialize().then(()=>{r.handleRedirectPromise().catch(()=>{}).finally(()=>{c({payload:{instance:r,logger:i},type:bl.UNBLOCK_INPROGRESS})})}).catch(()=>{}),()=>{h&&(i.verbose(`MsalProvider - Removing event callback '${h}'`,""),r.removeEventCallback(h))}},[r,i]);const u={instance:r,inProgress:s.inProgress,accounts:s.accounts,logger:i};return PA.createElement(cm.Provider,{value:u},t)}const Ab=()=>E.useContext(cm);function gj(r,t){return r.length>0}function pj(r){const{accounts:t,inProgress:i}=Ab();return E.useMemo(()=>i===Ct.Startup?!1:gj(t),[t,i,r])}var TC="popstate";function yj(r={}){function t(s,c){let{pathname:u,search:h,hash:m}=s.location;return Qh("",{pathname:u,search:h,hash:m},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(s,c){return typeof c=="string"?c:oo(c)}return Cj(t,i,null,r)}function et(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function xn(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function vj(){return Math.random().toString(36).substring(2,10)}function wC(r,t){return{usr:r.state,key:r.key,idx:t}}function Qh(r,t,i=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Gr(t):t,state:i,key:t&&t.key||s||vj()}}function oo({pathname:r="/",search:t="",hash:i=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Gr(r){let t={};if(r){let i=r.indexOf("#");i>=0&&(t.hash=r.substring(i),r=r.substring(0,i));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function Cj(r,t,i,s={}){let{window:c=document.defaultView,v5Compat:u=!1}=s,h=c.history,m="POP",p=null,g=v();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function v(){return(h.state||{idx:null}).idx}function C(){m="POP";let j=v(),F=j==null?null:j-g;g=j,p&&p({action:m,location:N.location,delta:F})}function b(j,F){m="PUSH";let H=Qh(N.location,j,F);g=v()+1;let M=wC(H,g),X=N.createHref(H);try{h.pushState(M,"",X)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;c.location.assign(X)}u&&p&&p({action:m,location:N.location,delta:1})}function x(j,F){m="REPLACE";let H=Qh(N.location,j,F);g=v();let M=wC(H,g),X=N.createHref(H);h.replaceState(M,"",X),u&&p&&p({action:m,location:N.location,delta:0})}function T(j){return Sj(j)}let N={get action(){return m},get location(){return r(c,h)},listen(j){if(p)throw new Error("A history only accepts one active listener");return c.addEventListener(TC,C),p=j,()=>{c.removeEventListener(TC,C),p=null}},createHref(j){return t(c,j)},createURL:T,encodeLocation(j){let F=T(j);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:b,replace:x,go(j){return h.go(j)}};return N}function Sj(r,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),et(i,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:oo(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function Tb(r,t,i="/"){return bj(r,t,i,!1)}function bj(r,t,i,s){let c=typeof t=="string"?Gr(t):t,u=bi(c.pathname||"/",i);if(u==null)return null;let h=wb(r);_j(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=kj(u);m=Oj(h[p],g,s)}return m}function wb(r,t=[],i=[],s="",c=!1){let u=(h,m,p=c,g)=>{let v={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&p)return;et(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let C=Ci([s,v.relativePath]),b=i.concat(v);h.children&&h.children.length>0&&(et(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${C}".`),wb(h.children,t,b,C,p)),!(h.path==null&&!h.index)&&t.push({path:C,score:Rj(C,h.index),routesMeta:b})};return r.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let p of xb(h.path))u(h,m,!0,p)}),t}function xb(r){let t=r.split("/");if(t.length===0)return[];let[i,...s]=t,c=i.endsWith("?"),u=i.replace(/\?$/,"");if(s.length===0)return c?[u,""]:[u];let h=xb(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),c&&m.push(...h),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function _j(r){r.sort((t,i)=>t.score!==i.score?i.score-t.score:jj(t.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var Ej=/^:[\w-]+$/,Aj=3,Tj=2,wj=1,xj=10,Nj=-2,xC=r=>r==="*";function Rj(r,t){let i=r.split("/"),s=i.length;return i.some(xC)&&(s+=Nj),t&&(s+=Tj),i.filter(c=>!xC(c)).reduce((c,u)=>c+(Ej.test(u)?Aj:u===""?wj:xj),s)}function jj(r,t){return r.length===t.length&&r.slice(0,-1).every((s,c)=>s===t[c])?r[r.length-1]-t[t.length-1]:0}function Oj(r,t,i=!1){let{routesMeta:s}=r,c={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,v=u==="/"?t:t.slice(u.length)||"/",C=_l({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),b=p.route;if(!C&&g&&i&&!s[s.length-1].route.index&&(C=_l({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!C)return null;Object.assign(c,C.params),h.push({params:c,pathname:Ci([u,C.pathname]),pathnameBase:Lj(Ci([u,C.pathnameBase])),route:b}),C.pathnameBase!=="/"&&(u=Ci([u,C.pathnameBase]))}return h}function _l(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,s]=Ij(r.path,r.caseSensitive,r.end),c=t.match(i);if(!c)return null;let u=c[0],h=u.replace(/(.)\/+$/,"$1"),m=c.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:C},b)=>{if(v==="*"){let T=m[b]||"";h=u.slice(0,u.length-T.length).replace(/(.)\/+$/,"$1")}const x=m[b];return C&&!x?g[v]=void 0:g[v]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function Ij(r,t=!1,i=!0){xn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],c="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),c+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?c+="\\/*$":r!==""&&r!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,t?void 0:"i"),s]}function kj(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return xn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function bi(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,s=r.charAt(i);return s&&s!=="/"?null:r.slice(i)||"/"}var Nb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mj=r=>Nb.test(r);function Dj(r,t="/"){let{pathname:i,search:s="",hash:c=""}=typeof r=="string"?Gr(r):r,u;if(i)if(Mj(i))u=i;else{if(i.includes("//")){let h=i;i=i.replace(/\/\/+/g,"/"),xn(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${i}`)}i.startsWith("/")?u=NC(i.substring(1),"/"):u=NC(i,t)}else u=t;return{pathname:u,search:Pj(s),hash:zj(c)}}function NC(r,t){let i=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(c=>{c===".."?i.length>1&&i.pop():c!=="."&&i.push(c)}),i.length>1?i.join("/"):"/"}function Ah(r,t,i,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Uj(r){return r.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function Rb(r){let t=Uj(r);return t.map((i,s)=>s===t.length-1?i.pathname:i.pathnameBase)}function jb(r,t,i,s=!1){let c;typeof r=="string"?c=Gr(r):(c={...r},et(!c.pathname||!c.pathname.includes("?"),Ah("?","pathname","search",c)),et(!c.pathname||!c.pathname.includes("#"),Ah("#","pathname","hash",c)),et(!c.search||!c.search.includes("#"),Ah("#","search","hash",c)));let u=r===""||c.pathname==="",h=u?"/":c.pathname,m;if(h==null)m=i;else{let C=t.length-1;if(!s&&h.startsWith("..")){let b=h.split("/");for(;b[0]==="..";)b.shift(),C-=1;c.pathname=b.join("/")}m=C>=0?t[C]:"/"}let p=Dj(c,m),g=h&&h!=="/"&&h.endsWith("/"),v=(u||h===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var Ci=r=>r.join("/").replace(/\/\/+/g,"/"),Lj=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Pj=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,zj=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Hj=class{constructor(r,t,i,s=!1){this.status=r,this.statusText=t||"",this.internal=s,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function Bj(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function Kj(r){return r.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Ob=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ib(r,t){let i=r;if(typeof i!="string"||!Nb.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let s=i,c=!1;if(Ob)try{let u=new URL(window.location.href),h=i.startsWith("//")?new URL(u.protocol+i):new URL(i),m=bi(h.pathname,t);h.origin===u.origin&&m!=null?i=m+h.search+h.hash:c=!0}catch{xn(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:c,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var kb=["POST","PUT","PATCH","DELETE"];new Set(kb);var Fj=["GET",...kb];new Set(Fj);var qr=E.createContext(null);qr.displayName="DataRouter";var Hl=E.createContext(null);Hl.displayName="DataRouterState";var Gj=E.createContext(!1),Mb=E.createContext({isTransitioning:!1});Mb.displayName="ViewTransition";var qj=E.createContext(new Map);qj.displayName="Fetchers";var Vj=E.createContext(null);Vj.displayName="Await";var Nn=E.createContext(null);Nn.displayName="Navigation";var fo=E.createContext(null);fo.displayName="Location";var Xn=E.createContext({outlet:null,matches:[],isDataRoute:!1});Xn.displayName="Route";var lm=E.createContext(null);lm.displayName="RouteError";var Db="REACT_ROUTER_ERROR",Yj="REDIRECT",Qj="ROUTE_ERROR_RESPONSE";function Jj(r){if(r.startsWith(`${Db}:${Yj}:{`))try{let t=JSON.parse(r.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function Xj(r){if(r.startsWith(`${Db}:${Qj}:{`))try{let t=JSON.parse(r.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new Hj(t.status,t.statusText,t.data)}catch{}}function $j(r,{relative:t}={}){et(mo(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=E.useContext(Nn),{hash:c,pathname:u,search:h}=go(r,{relative:t}),m=u;return i!=="/"&&(m=u==="/"?i:Ci([i,u])),s.createHref({pathname:m,search:h,hash:c})}function mo(){return E.useContext(fo)!=null}function aa(){return et(mo(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(fo).location}var Ub="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Lb(r){E.useContext(Nn).static||E.useLayoutEffect(r)}function Vr(){let{isDataRoute:r}=E.useContext(Xn);return r?uO():Zj()}function Zj(){et(mo(),"useNavigate() may be used only in the context of a <Router> component.");let r=E.useContext(qr),{basename:t,navigator:i}=E.useContext(Nn),{matches:s}=E.useContext(Xn),{pathname:c}=aa(),u=JSON.stringify(Rb(s)),h=E.useRef(!1);return Lb(()=>{h.current=!0}),E.useCallback((p,g={})=>{if(xn(h.current,Ub),!h.current)return;if(typeof p=="number"){i.go(p);return}let v=jb(p,JSON.parse(u),c,g.relative==="path");r==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:Ci([t,v.pathname])),(g.replace?i.replace:i.push)(v,g.state,g)},[t,i,u,c,r])}E.createContext(null);function um(){let{matches:r}=E.useContext(Xn),t=r[r.length-1];return t?t.params:{}}function go(r,{relative:t}={}){let{matches:i}=E.useContext(Xn),{pathname:s}=aa(),c=JSON.stringify(Rb(i));return E.useMemo(()=>jb(r,JSON.parse(c),s,t==="path"),[r,c,s,t])}function Wj(r,t){return Pb(r,t)}function Pb(r,t,i,s,c){et(mo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=E.useContext(Nn),{matches:h}=E.useContext(Xn),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",v=m?m.pathnameBase:"/",C=m&&m.route;{let H=C&&C.path||"";Hb(g,!C||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let b=aa(),x;if(t){let H=typeof t=="string"?Gr(t):t;et(v==="/"||H.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${H.pathname}" was given in the \`location\` prop.`),x=H}else x=b;let T=x.pathname||"/",N=T;if(v!=="/"){let H=v.replace(/^\//,"").split("/");N="/"+T.replace(/^\//,"").split("/").slice(H.length).join("/")}let j=Tb(r,{pathname:N});xn(C||j!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),xn(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=aO(j&&j.map(H=>Object.assign({},H,{params:Object.assign({},p,H.params),pathname:Ci([v,u.encodeLocation?u.encodeLocation(H.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?v:Ci([v,u.encodeLocation?u.encodeLocation(H.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathnameBase])})),h,i,s,c);return t&&F?E.createElement(fo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},F):F}function eO(){let r=lO(),t=Bj(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:u},"ErrorBoundary")," or"," ",E.createElement("code",{style:u},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),i?E.createElement("pre",{style:c},i):null,h)}var tO=E.createElement(eO,null),zb=class extends E.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.onError?this.props.onError(r,t):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const i=Xj(r.digest);i&&(r=i)}let t=r!==void 0?E.createElement(Xn.Provider,{value:this.props.routeContext},E.createElement(lm.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?E.createElement(nO,{error:r},t):t}};zb.contextType=Gj;var Th=new WeakMap;function nO({children:r,error:t}){let{basename:i}=E.useContext(Nn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=Jj(t.digest);if(s){let c=Th.get(t);if(c)throw c;let u=Ib(s.location,i);if(Ob&&!Th.get(t))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Th.set(t,h),h}return E.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function iO({routeContext:r,match:t,children:i}){let s=E.useContext(qr);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),E.createElement(Xn.Provider,{value:r},i)}function aO(r,t=[],i=null,s=null,c=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let u=r,h=i?.errors;if(h!=null){let v=u.findIndex(C=>C.route.id&&h?.[C.route.id]!==void 0);et(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,v+1))}let m=!1,p=-1;if(i)for(let v=0;v<u.length;v++){let C=u[v];if((C.route.HydrateFallback||C.route.hydrateFallbackElement)&&(p=v),C.route.id){let{loaderData:b,errors:x}=i,T=C.route.loader&&!b.hasOwnProperty(C.route.id)&&(!x||x[C.route.id]===void 0);if(C.route.lazy||T){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=i&&s?(v,C)=>{s(v,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:Kj(i.matches),errorInfo:C})}:void 0;return u.reduceRight((v,C,b)=>{let x,T=!1,N=null,j=null;i&&(x=h&&C.route.id?h[C.route.id]:void 0,N=C.route.errorElement||tO,m&&(p<0&&b===0?(Hb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,j=null):p===b&&(T=!0,j=C.route.hydrateFallbackElement||null)));let F=t.concat(u.slice(0,b+1)),H=()=>{let M;return x?M=N:T?M=j:C.route.Component?M=E.createElement(C.route.Component,null):C.route.element?M=C.route.element:M=v,E.createElement(iO,{match:C,routeContext:{outlet:v,matches:F,isDataRoute:i!=null},children:M})};return i&&(C.route.ErrorBoundary||C.route.errorElement||b===0)?E.createElement(zb,{location:i.location,revalidation:i.revalidation,component:N,error:x,children:H(),routeContext:{outlet:null,matches:F,isDataRoute:!0},onError:g}):H()},null)}function dm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rO(r){let t=E.useContext(qr);return et(t,dm(r)),t}function sO(r){let t=E.useContext(Hl);return et(t,dm(r)),t}function oO(r){let t=E.useContext(Xn);return et(t,dm(r)),t}function hm(r){let t=oO(r),i=t.matches[t.matches.length-1];return et(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function cO(){return hm("useRouteId")}function lO(){let r=E.useContext(lm),t=sO("useRouteError"),i=hm("useRouteError");return r!==void 0?r:t.errors?.[i]}function uO(){let{router:r}=rO("useNavigate"),t=hm("useNavigate"),i=E.useRef(!1);return Lb(()=>{i.current=!0}),E.useCallback(async(c,u={})=>{xn(i.current,Ub),i.current&&(typeof c=="number"?await r.navigate(c):await r.navigate(c,{fromRouteId:t,...u}))},[r,t])}var RC={};function Hb(r,t,i){!t&&!RC[r]&&(RC[r]=!0,xn(!1,i))}E.memo(dO);function dO({routes:r,future:t,state:i,onError:s}){return Pb(r,void 0,i,s,t)}function bn(r){et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function hO({basename:r="/",children:t=null,location:i,navigationType:s="POP",navigator:c,static:u=!1,unstable_useTransitions:h}){et(!mo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=E.useMemo(()=>({basename:m,navigator:c,static:u,unstable_useTransitions:h,future:{}}),[m,c,u,h]);typeof i=="string"&&(i=Gr(i));let{pathname:g="/",search:v="",hash:C="",state:b=null,key:x="default"}=i,T=E.useMemo(()=>{let N=bi(g,m);return N==null?null:{location:{pathname:N,search:v,hash:C,state:b,key:x},navigationType:s}},[m,g,v,C,b,x,s]);return xn(T!=null,`<Router basename="${m}"> is not able to match the URL "${g}${v}${C}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:E.createElement(Nn.Provider,{value:p},E.createElement(fo.Provider,{children:t,value:T}))}function fO({children:r,location:t}){return Wj(Jh(r),t)}function Jh(r,t=[]){let i=[];return E.Children.forEach(r,(s,c)=>{if(!E.isValidElement(s))return;let u=[...t,c];if(s.type===E.Fragment){i.push.apply(i,Jh(s.props.children,u));return}et(s.type===bn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),et(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Jh(s.props.children,u)),i.push(h)}),i}var el="get",tl="application/x-www-form-urlencoded";function Bl(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function mO(r){return Bl(r)&&r.tagName.toLowerCase()==="button"}function gO(r){return Bl(r)&&r.tagName.toLowerCase()==="form"}function pO(r){return Bl(r)&&r.tagName.toLowerCase()==="input"}function yO(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function vO(r,t){return r.button===0&&(!t||t==="_self")&&!yO(r)}function Xh(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((t,i)=>{let s=r[i];return t.concat(Array.isArray(s)?s.map(c=>[i,c]):[[i,s]])},[]))}function CO(r,t){let i=Xh(r);return t&&t.forEach((s,c)=>{i.has(c)||t.getAll(c).forEach(u=>{i.append(c,u)})}),i}var Vc=null;function SO(){if(Vc===null)try{new FormData(document.createElement("form"),0),Vc=!1}catch{Vc=!0}return Vc}var bO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wh(r){return r!=null&&!bO.has(r)?(xn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${tl}"`),null):r}function _O(r,t){let i,s,c,u,h;if(gO(r)){let m=r.getAttribute("action");s=m?bi(m,t):null,i=r.getAttribute("method")||el,c=wh(r.getAttribute("enctype"))||tl,u=new FormData(r)}else if(mO(r)||pO(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?bi(p,t):null,i=r.getAttribute("formmethod")||m.getAttribute("method")||el,c=wh(r.getAttribute("formenctype"))||wh(m.getAttribute("enctype"))||tl,u=new FormData(m,r),!SO()){let{name:g,type:v,value:C}=r;if(v==="image"){let b=g?`${g}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else g&&u.append(g,C)}}else{if(Bl(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=el,s=null,c=tl,h=r}return u&&c==="text/plain"&&(h=u,u=void 0),{action:s,method:i.toLowerCase(),encType:c,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function fm(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function EO(r,t,i,s){let c=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return i?c.pathname.endsWith("/")?c.pathname=`${c.pathname}_.${s}`:c.pathname=`${c.pathname}.${s}`:c.pathname==="/"?c.pathname=`_root.${s}`:t&&bi(c.pathname,t)==="/"?c.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:c.pathname=`${c.pathname.replace(/\/$/,"")}.${s}`,c}async function AO(r,t){if(r.id in t)return t[r.id];try{let i=await import(r.module);return t[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function TO(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function wO(r,t,i){let s=await Promise.all(r.map(async c=>{let u=t.routes[c.route.id];if(u){let h=await AO(u,i);return h.links?h.links():[]}return[]}));return jO(s.flat(1).filter(TO).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function jC(r,t,i,s,c,u){let h=(p,g)=>i[g]?p.route.id!==i[g].route.id:!0,m=(p,g)=>i[g].pathname!==p.pathname||i[g].route.path?.endsWith("*")&&i[g].params["*"]!==p.params["*"];return u==="assets"?t.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?t.filter((p,g)=>{let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let C=p.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function xO(r,t,{includeHydrateFallback:i}={}){return NO(r.map(s=>{let c=t.routes[s.route.id];if(!c)return[];let u=[c.module];return c.clientActionModule&&(u=u.concat(c.clientActionModule)),c.clientLoaderModule&&(u=u.concat(c.clientLoaderModule)),i&&c.hydrateFallbackModule&&(u=u.concat(c.hydrateFallbackModule)),c.imports&&(u=u.concat(c.imports)),u}).flat(1))}function NO(r){return[...new Set(r)]}function RO(r){let t={},i=Object.keys(r).sort();for(let s of i)t[s]=r[s];return t}function jO(r,t){let i=new Set;return new Set(t),r.reduce((s,c)=>{let u=JSON.stringify(RO(c));return i.has(u)||(i.add(u),s.push({key:u,link:c})),s},[])}function Bb(){let r=E.useContext(qr);return fm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function OO(){let r=E.useContext(Hl);return fm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var mm=E.createContext(void 0);mm.displayName="FrameworkContext";function Kb(){let r=E.useContext(mm);return fm(r,"You must render this element inside a <HydratedRouter> element"),r}function IO(r,t){let i=E.useContext(mm),[s,c]=E.useState(!1),[u,h]=E.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:C}=t,b=E.useRef(null);E.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let N=F=>{F.forEach(H=>{h(H.isIntersecting)})},j=new IntersectionObserver(N,{threshold:.5});return b.current&&j.observe(b.current),()=>{j.disconnect()}}},[r]),E.useEffect(()=>{if(s){let N=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(N)}}},[s]);let x=()=>{c(!0)},T=()=>{c(!1),h(!1)};return i?r!=="intent"?[u,b,{}]:[u,b,{onFocus:Qs(m,x),onBlur:Qs(p,T),onMouseEnter:Qs(g,x),onMouseLeave:Qs(v,T),onTouchStart:Qs(C,x)}]:[!1,b,{}]}function Qs(r,t){return i=>{r&&r(i),i.defaultPrevented||t(i)}}function kO({page:r,...t}){let{router:i}=Bb(),s=E.useMemo(()=>Tb(i.routes,r,i.basename),[i.routes,r,i.basename]);return s?E.createElement(DO,{page:r,matches:s,...t}):null}function MO(r){let{manifest:t,routeModules:i}=Kb(),[s,c]=E.useState([]);return E.useEffect(()=>{let u=!1;return wO(r,t,i).then(h=>{u||c(h)}),()=>{u=!0}},[r,t,i]),s}function DO({page:r,matches:t,...i}){let s=aa(),{future:c,manifest:u,routeModules:h}=Kb(),{basename:m}=Bb(),{loaderData:p,matches:g}=OO(),v=E.useMemo(()=>jC(r,t,g,u,s,"data"),[r,t,g,u,s]),C=E.useMemo(()=>jC(r,t,g,u,s,"assets"),[r,t,g,u,s]),b=E.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let N=new Set,j=!1;if(t.forEach(H=>{let M=u.routes[H.route.id];!M||!M.hasLoader||(!v.some(X=>X.route.id===H.route.id)&&H.route.id in p&&h[H.route.id]?.shouldRevalidate||M.hasClientLoader?j=!0:N.add(H.route.id))}),N.size===0)return[];let F=EO(r,m,c.unstable_trailingSlashAwareDataRequests,"data");return j&&N.size>0&&F.searchParams.set("_routes",t.filter(H=>N.has(H.route.id)).map(H=>H.route.id).join(",")),[F.pathname+F.search]},[m,c.unstable_trailingSlashAwareDataRequests,p,s,u,v,t,r,h]),x=E.useMemo(()=>xO(C,u),[C,u]),T=MO(C);return E.createElement(E.Fragment,null,b.map(N=>E.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...i})),x.map(N=>E.createElement("link",{key:N,rel:"modulepreload",href:N,...i})),T.map(({key:N,link:j})=>E.createElement("link",{key:N,nonce:i.nonce,...j})))}function UO(...r){return t=>{r.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var LO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{LO&&(window.__reactRouterVersion="7.12.0")}catch{}function PO({basename:r,children:t,unstable_useTransitions:i,window:s}){let c=E.useRef();c.current==null&&(c.current=yj({window:s,v5Compat:!0}));let u=c.current,[h,m]=E.useState({action:u.action,location:u.location}),p=E.useCallback(g=>{i===!1?m(g):E.startTransition(()=>m(g))},[i]);return E.useLayoutEffect(()=>u.listen(p),[u,p]),E.createElement(hO,{basename:r,children:t,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:i})}var Fb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xt=E.forwardRef(function({onClick:t,discover:i="render",prefetch:s="none",relative:c,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:v,viewTransition:C,unstable_defaultShouldRevalidate:b,...x},T){let{basename:N,unstable_useTransitions:j}=E.useContext(Nn),F=typeof g=="string"&&Fb.test(g),H=Ib(g,N);g=H.to;let M=$j(g,{relative:c}),[X,Y,le]=IO(s,x),q=BO(g,{replace:h,state:m,target:p,preventScrollReset:v,relative:c,viewTransition:C,unstable_defaultShouldRevalidate:b,unstable_useTransitions:j});function ye(at){t&&t(at),at.defaultPrevented||q(at)}let Ne=E.createElement("a",{...x,...le,href:H.absoluteURL||M,onClick:H.isExternal||u?t:ye,ref:UO(T,Y),target:p,"data-discover":!F&&i==="render"?"true":void 0});return X&&!F?E.createElement(E.Fragment,null,Ne,E.createElement(kO,{page:M})):Ne});Xt.displayName="Link";var Gb=E.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:s="",end:c=!1,style:u,to:h,viewTransition:m,children:p,...g},v){let C=go(h,{relative:g.relative}),b=aa(),x=E.useContext(Hl),{navigator:T,basename:N}=E.useContext(Nn),j=x!=null&&YO(C)&&m===!0,F=T.encodeLocation?T.encodeLocation(C).pathname:C.pathname,H=b.pathname,M=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;i||(H=H.toLowerCase(),M=M?M.toLowerCase():null,F=F.toLowerCase()),M&&N&&(M=bi(M,N)||M);const X=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let Y=H===F||!c&&H.startsWith(F)&&H.charAt(X)==="/",le=M!=null&&(M===F||!c&&M.startsWith(F)&&M.charAt(F.length)==="/"),q={isActive:Y,isPending:le,isTransitioning:j},ye=Y?t:void 0,Ne;typeof s=="function"?Ne=s(q):Ne=[s,Y?"active":null,le?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let at=typeof u=="function"?u(q):u;return E.createElement(Xt,{...g,"aria-current":ye,className:Ne,ref:v,style:at,to:h,viewTransition:m},typeof p=="function"?p(q):p)});Gb.displayName="NavLink";var zO=E.forwardRef(({discover:r="render",fetcherKey:t,navigate:i,reloadDocument:s,replace:c,state:u,method:h=el,action:m,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:C,unstable_defaultShouldRevalidate:b,...x},T)=>{let{unstable_useTransitions:N}=E.useContext(Nn),j=qO(),F=VO(m,{relative:g}),H=h.toLowerCase()==="get"?"get":"post",M=typeof m=="string"&&Fb.test(m),X=Y=>{if(p&&p(Y),Y.defaultPrevented)return;Y.preventDefault();let le=Y.nativeEvent.submitter,q=le?.getAttribute("formmethod")||h,ye=()=>j(le||Y.currentTarget,{fetcherKey:t,method:q,navigate:i,replace:c,state:u,relative:g,preventScrollReset:v,viewTransition:C,unstable_defaultShouldRevalidate:b});N&&i!==!1?E.startTransition(()=>ye()):ye()};return E.createElement("form",{ref:T,method:H,action:F,onSubmit:s?p:X,...x,"data-discover":!M&&r==="render"?"true":void 0})});zO.displayName="Form";function HO(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qb(r){let t=E.useContext(qr);return et(t,HO(r)),t}function BO(r,{target:t,replace:i,state:s,preventScrollReset:c,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=Vr(),v=aa(),C=go(r,{relative:u});return E.useCallback(b=>{if(vO(b,t)){b.preventDefault();let x=i!==void 0?i:oo(v)===oo(C),T=()=>g(r,{replace:x,state:s,preventScrollReset:c,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m});p?E.startTransition(()=>T()):T()}},[v,g,C,i,s,t,r,c,u,h,m,p])}function KO(r){xn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=E.useRef(Xh(r)),i=E.useRef(!1),s=aa(),c=E.useMemo(()=>CO(s.search,i.current?null:t.current),[s.search]),u=Vr(),h=E.useCallback((m,p)=>{const g=Xh(typeof m=="function"?m(new URLSearchParams(c)):m);i.current=!0,u("?"+g,p)},[u,c]);return[c,h]}var FO=0,GO=()=>`__${String(++FO)}__`;function qO(){let{router:r}=qb("useSubmit"),{basename:t}=E.useContext(Nn),i=cO(),s=r.fetch,c=r.navigate;return E.useCallback(async(u,h={})=>{let{action:m,method:p,encType:g,formData:v,body:C}=_O(u,t);if(h.navigate===!1){let b=h.fetcherKey||GO();await s(b,i,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:v,body:C,formMethod:h.method||p,formEncType:h.encType||g,flushSync:h.flushSync})}else await c(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:v,body:C,formMethod:h.method||p,formEncType:h.encType||g,replace:h.replace,state:h.state,fromRouteId:i,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,c,t,i])}function VO(r,{relative:t}={}){let{basename:i}=E.useContext(Nn),s=E.useContext(Xn);et(s,"useFormAction must be used inside a RouteContext");let[c]=s.matches.slice(-1),u={...go(r||".",{relative:t})},h=aa();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(C=>C).forEach(C=>m.append("index",C));let v=m.toString();u.search=v?`?${v}`:""}}return(!r||r===".")&&c.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:Ci([i,u.pathname])),oo(u)}function YO(r,{relative:t}={}){let i=E.useContext(Mb);et(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=qb("useViewTransitionState"),c=go(r,{relative:t});if(!i.isTransitioning)return!1;let u=bi(i.currentLocation.pathname,s)||i.currentLocation.pathname,h=bi(i.nextLocation.pathname,s)||i.nextLocation.pathname;return _l(c.pathname,h)!=null||_l(c.pathname,u)!=null}function QO({showNav:r=!0,subscriptionId:t}){return l.jsxs("header",{className:"ct-header-container",children:[l.jsx("div",{className:"ct-header-logo",children:l.jsxs(Xt,{to:"/",className:"ct-header-logo__link",children:[l.jsx("span",{className:"ct-header-logo__icon",children:""}),l.jsx("span",{className:"ct-header-logo__text",children:"ComsignTrust Billing"})]})}),l.jsx("div",{className:"ct-header-actions",children:r&&l.jsxs("nav",{className:"ct-header-nav",children:[l.jsx(Xt,{to:"/pricing",className:"ct-header-nav__item",children:"Pricing"}),t&&l.jsx(Xt,{to:`/dashboard/${t}`,className:"ct-header-nav__item",children:"Dashboard"}),l.jsx(Xt,{to:"/admin",className:"ct-header-nav__item",children:"Admin"})]})})]})}function JO({items:r}){return l.jsx("aside",{className:"ct-sidebar",children:l.jsx("div",{className:"ct-sidebar__container",children:l.jsx("nav",{className:"ct-sidebar__nav",children:r.map(t=>l.jsxs(Gb,{to:t.path,className:({isActive:i})=>`ct-sidebar__item ${i?"ct-sidebar__item--active":""}`,children:[l.jsx("span",{className:"ct-sidebar__icon",children:t.icon}),l.jsx("span",{className:"ct-sidebar__label",children:t.label})]},t.path))})})})}function ot({children:r,showSidebar:t=!1,subscriptionId:i}){const s=i?[{path:`/dashboard/${i}`,label:"Dashboard",icon:""},{path:`/dashboard/${i}/history`,label:"Usage History",icon:""}]:[];return l.jsxs("div",{className:"ct-layout",children:[l.jsx(QO,{showNav:!0,subscriptionId:i}),l.jsxs("div",{className:"ct-layout__content",children:[t&&i&&l.jsx(JO,{items:s}),l.jsx("main",{className:`ct-main ${t?"ct-main--with-sidebar":""}`,children:r})]})]})}function xe({variant:r="primary",size:t="medium",children:i,loading:s=!1,className:c="",disabled:u,...h}){const m="ct-button",p=`ct-button--${r}`,g=`ct-button--${t}`;return l.jsx("button",{className:`${m} ${p} ${g} ${c}`,disabled:u||s,...h,children:s?l.jsxs("span",{className:"ct-button__loading",children:[l.jsx("span",{className:"ct-spinner"}),"Loading..."]}):i})}function $e({children:r,className:t="",highlighted:i=!1,onClick:s}){return l.jsx("div",{className:`ct-card ${i?"ct-card--highlighted":""} ${t}`,onClick:s,role:s?"button":void 0,tabIndex:s?0:void 0,children:r})}function Ht({children:r,className:t=""}){return l.jsx("div",{className:`ct-card__header ${t}`,children:r})}function Ze({children:r,className:t=""}){return l.jsx("div",{className:`ct-card__body ${t}`,children:r})}function XO({children:r,className:t=""}){return l.jsx("div",{className:`ct-card__footer ${t}`,children:r})}function $h({columns:r,data:t,keyExtractor:i,onRowClick:s,emptyMessage:c="No data available",loading:u=!1}){return u?l.jsxs("div",{className:"ct-table--loading",children:[l.jsx("div",{className:"ct-spinner ct-spinner--large"}),l.jsx("p",{children:"Loading..."})]}):l.jsx("div",{className:"ct-table--overflow",children:l.jsxs("table",{className:"ct-table",children:[l.jsx("thead",{children:l.jsx("tr",{children:r.map(h=>l.jsx("th",{style:{width:h.width},children:h.header},h.key))})}),l.jsx("tbody",{children:t.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:r.length,className:"ct-table__empty",children:c})}):t.map(h=>l.jsx("tr",{onClick:()=>s?.(h),className:s?"ct-table__row--clickable":"",children:r.map(m=>l.jsx("td",{children:m.render?m.render(h):h[m.key]?.toString()??""},m.key))},i(h)))})]})})}function El({type:r,message:t,onClose:i,autoClose:s=!0,duration:c=5e3}){const[u,h]=E.useState(!0);if(E.useEffect(()=>{if(s){const p=setTimeout(()=>{h(!1),i?.()},c);return()=>clearTimeout(p)}},[s,c,i]),!u)return null;const m=r==="success"?"is-confirm":r==="error"?"is-error":"";return l.jsxs("div",{className:`ct-alert ${m}`,children:[l.jsx("span",{className:"ct-alert__message",children:t}),i&&l.jsx("button",{className:"ct-alert__close",onClick:()=>{h(!1),i()},children:""})]})}function Al({isOpen:r,onClose:t,title:i,children:s,size:c="medium"}){return E.useEffect(()=>{const u=h=>{h.key==="Escape"&&t()};return r&&(document.addEventListener("keydown",u),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",u),document.body.style.overflow="unset"}},[r,t]),r?l.jsx("div",{className:"ct-modal-overlay",onClick:t,children:l.jsxs("div",{className:`ct-modal ct-modal--${c}`,onClick:u=>u.stopPropagation(),children:[l.jsxs("div",{className:"ct-modal__header",children:[l.jsx("h2",{className:"ct-modal__title",children:i}),l.jsx("button",{className:"ct-modal__close",onClick:t,children:""})]}),l.jsx("div",{className:"ct-modal__body",children:s})]})}):null}const xh=[{code:"AF",name:"Afghanistan"},{code:"AX",name:"land Islands"},{code:"AL",name:"Albania"},{code:"DZ",name:"Algeria"},{code:"AS",name:"American Samoa"},{code:"AD",name:"Andorra"},{code:"AO",name:"Angola"},{code:"AI",name:"Anguilla"},{code:"AQ",name:"Antarctica"},{code:"AG",name:"Antigua and Barbuda"},{code:"AR",name:"Argentina"},{code:"AM",name:"Armenia"},{code:"AW",name:"Aruba"},{code:"AU",name:"Australia"},{code:"AT",name:"Austria"},{code:"AZ",name:"Azerbaijan"},{code:"BS",name:"Bahamas"},{code:"BH",name:"Bahrain"},{code:"BD",name:"Bangladesh"},{code:"BB",name:"Barbados"},{code:"BY",name:"Belarus"},{code:"BE",name:"Belgium"},{code:"BZ",name:"Belize"},{code:"BJ",name:"Benin"},{code:"BM",name:"Bermuda"},{code:"BT",name:"Bhutan"},{code:"BO",name:"Bolivia"},{code:"BQ",name:"Bonaire, Sint Eustatius and Saba"},{code:"BA",name:"Bosnia and Herzegovina"},{code:"BW",name:"Botswana"},{code:"BV",name:"Bouvet Island"},{code:"BR",name:"Brazil"},{code:"IO",name:"British Indian Ocean Territory"},{code:"BN",name:"Brunei Darussalam"},{code:"BG",name:"Bulgaria"},{code:"BF",name:"Burkina Faso"},{code:"BI",name:"Burundi"},{code:"CV",name:"Cabo Verde"},{code:"KH",name:"Cambodia"},{code:"CM",name:"Cameroon"},{code:"CA",name:"Canada"},{code:"KY",name:"Cayman Islands"},{code:"CF",name:"Central African Republic"},{code:"TD",name:"Chad"},{code:"CL",name:"Chile"},{code:"CN",name:"China"},{code:"CX",name:"Christmas Island"},{code:"CC",name:"Cocos (Keeling) Islands"},{code:"CO",name:"Colombia"},{code:"KM",name:"Comoros"},{code:"CG",name:"Congo"},{code:"CD",name:"Congo, Democratic Republic of the"},{code:"CK",name:"Cook Islands"},{code:"CR",name:"Costa Rica"},{code:"CI",name:"Cte d'Ivoire"},{code:"HR",name:"Croatia"},{code:"CU",name:"Cuba"},{code:"CW",name:"Curaao"},{code:"CY",name:"Cyprus"},{code:"CZ",name:"Czech Republic"},{code:"DK",name:"Denmark"},{code:"DJ",name:"Djibouti"},{code:"DM",name:"Dominica"},{code:"DO",name:"Dominican Republic"},{code:"EC",name:"Ecuador"},{code:"EG",name:"Egypt"},{code:"SV",name:"El Salvador"},{code:"GQ",name:"Equatorial Guinea"},{code:"ER",name:"Eritrea"},{code:"EE",name:"Estonia"},{code:"SZ",name:"Eswatini"},{code:"ET",name:"Ethiopia"},{code:"FK",name:"Falkland Islands (Malvinas)"},{code:"FO",name:"Faroe Islands"},{code:"FJ",name:"Fiji"},{code:"FI",name:"Finland"},{code:"FR",name:"France"},{code:"GF",name:"French Guiana"},{code:"PF",name:"French Polynesia"},{code:"TF",name:"French Southern Territories"},{code:"GA",name:"Gabon"},{code:"GM",name:"Gambia"},{code:"GE",name:"Georgia"},{code:"DE",name:"Germany"},{code:"GH",name:"Ghana"},{code:"GI",name:"Gibraltar"},{code:"GR",name:"Greece"},{code:"GL",name:"Greenland"},{code:"GD",name:"Grenada"},{code:"GP",name:"Guadeloupe"},{code:"GU",name:"Guam"},{code:"GT",name:"Guatemala"},{code:"GG",name:"Guernsey"},{code:"GN",name:"Guinea"},{code:"GW",name:"Guinea-Bissau"},{code:"GY",name:"Guyana"},{code:"HT",name:"Haiti"},{code:"HM",name:"Heard Island and McDonald Islands"},{code:"VA",name:"Holy See"},{code:"HN",name:"Honduras"},{code:"HK",name:"Hong Kong"},{code:"HU",name:"Hungary"},{code:"IS",name:"Iceland"},{code:"IN",name:"India"},{code:"ID",name:"Indonesia"},{code:"IR",name:"Iran"},{code:"IQ",name:"Iraq"},{code:"IE",name:"Ireland"},{code:"IM",name:"Isle of Man"},{code:"IL",name:"Israel"},{code:"IT",name:"Italy"},{code:"JM",name:"Jamaica"},{code:"JP",name:"Japan"},{code:"JE",name:"Jersey"},{code:"JO",name:"Jordan"},{code:"KZ",name:"Kazakhstan"},{code:"KE",name:"Kenya"},{code:"KI",name:"Kiribati"},{code:"KP",name:"Korea, Democratic People's Republic of"},{code:"KR",name:"Korea, Republic of"},{code:"KW",name:"Kuwait"},{code:"KG",name:"Kyrgyzstan"},{code:"LA",name:"Lao People's Democratic Republic"},{code:"LV",name:"Latvia"},{code:"LB",name:"Lebanon"},{code:"LS",name:"Lesotho"},{code:"LR",name:"Liberia"},{code:"LY",name:"Libya"},{code:"LI",name:"Liechtenstein"},{code:"LT",name:"Lithuania"},{code:"LU",name:"Luxembourg"},{code:"MO",name:"Macao"},{code:"MG",name:"Madagascar"},{code:"MW",name:"Malawi"},{code:"MY",name:"Malaysia"},{code:"MV",name:"Maldives"},{code:"ML",name:"Mali"},{code:"MT",name:"Malta"},{code:"MH",name:"Marshall Islands"},{code:"MQ",name:"Martinique"},{code:"MR",name:"Mauritania"},{code:"MU",name:"Mauritius"},{code:"YT",name:"Mayotte"},{code:"MX",name:"Mexico"},{code:"FM",name:"Micronesia"},{code:"MD",name:"Moldova"},{code:"MC",name:"Monaco"},{code:"MN",name:"Mongolia"},{code:"ME",name:"Montenegro"},{code:"MS",name:"Montserrat"},{code:"MA",name:"Morocco"},{code:"MZ",name:"Mozambique"},{code:"MM",name:"Myanmar"},{code:"NA",name:"Namibia"},{code:"NR",name:"Nauru"},{code:"NP",name:"Nepal"},{code:"NL",name:"Netherlands"},{code:"NC",name:"New Caledonia"},{code:"NZ",name:"New Zealand"},{code:"NI",name:"Nicaragua"},{code:"NE",name:"Niger"},{code:"NG",name:"Nigeria"},{code:"NU",name:"Niue"},{code:"NF",name:"Norfolk Island"},{code:"MK",name:"North Macedonia"},{code:"MP",name:"Northern Mariana Islands"},{code:"NO",name:"Norway"},{code:"OM",name:"Oman"},{code:"PK",name:"Pakistan"},{code:"PW",name:"Palau"},{code:"PS",name:"Palestinian Authority"},{code:"PA",name:"Panama"},{code:"PG",name:"Papua New Guinea"},{code:"PY",name:"Paraguay"},{code:"PE",name:"Peru"},{code:"PH",name:"Philippines"},{code:"PN",name:"Pitcairn"},{code:"PL",name:"Poland"},{code:"PT",name:"Portugal"},{code:"PR",name:"Puerto Rico"},{code:"QA",name:"Qatar"},{code:"RE",name:"Runion"},{code:"RO",name:"Romania"},{code:"RU",name:"Russian Federation"},{code:"RW",name:"Rwanda"},{code:"BL",name:"Saint Barthlemy"},{code:"SH",name:"Saint Helena, Ascension and Tristan da Cunha"},{code:"KN",name:"Saint Kitts and Nevis"},{code:"LC",name:"Saint Lucia"},{code:"MF",name:"Saint Martin (French part)"},{code:"PM",name:"Saint Pierre and Miquelon"},{code:"VC",name:"Saint Vincent and the Grenadines"},{code:"WS",name:"Samoa"},{code:"SM",name:"San Marino"},{code:"ST",name:"Sao Tome and Principe"},{code:"SA",name:"Saudi Arabia"},{code:"SN",name:"Senegal"},{code:"RS",name:"Serbia"},{code:"SC",name:"Seychelles"},{code:"SL",name:"Sierra Leone"},{code:"SG",name:"Singapore"},{code:"SX",name:"Sint Maarten (Dutch part)"},{code:"SK",name:"Slovakia"},{code:"SI",name:"Slovenia"},{code:"SB",name:"Solomon Islands"},{code:"SO",name:"Somalia"},{code:"ZA",name:"South Africa"},{code:"GS",name:"South Georgia and the South Sandwich Islands"},{code:"SS",name:"South Sudan"},{code:"ES",name:"Spain"},{code:"LK",name:"Sri Lanka"},{code:"SD",name:"Sudan"},{code:"SR",name:"Suriname"},{code:"SJ",name:"Svalbard and Jan Mayen"},{code:"SE",name:"Sweden"},{code:"CH",name:"Switzerland"},{code:"SY",name:"Syrian Arab Republic"},{code:"TW",name:"Taiwan"},{code:"TJ",name:"Tajikistan"},{code:"TZ",name:"Tanzania"},{code:"TH",name:"Thailand"},{code:"TL",name:"Timor-Leste"},{code:"TG",name:"Togo"},{code:"TK",name:"Tokelau"},{code:"TO",name:"Tonga"},{code:"TT",name:"Trinidad and Tobago"},{code:"TN",name:"Tunisia"},{code:"TR",name:"Turkey"},{code:"TM",name:"Turkmenistan"},{code:"TC",name:"Turks and Caicos Islands"},{code:"TV",name:"Tuvalu"},{code:"UG",name:"Uganda"},{code:"UA",name:"Ukraine"},{code:"AE",name:"United Arab Emirates"},{code:"GB",name:"United Kingdom"},{code:"UM",name:"United States Minor Outlying Islands"},{code:"US",name:"United States"},{code:"UY",name:"Uruguay"},{code:"UZ",name:"Uzbekistan"},{code:"VU",name:"Vanuatu"},{code:"VE",name:"Venezuela"},{code:"VN",name:"Vietnam"},{code:"VG",name:"Virgin Islands, British"},{code:"VI",name:"Virgin Islands, U.S."},{code:"WF",name:"Wallis and Futuna"},{code:"EH",name:"Western Sahara"},{code:"YE",name:"Yemen"},{code:"ZM",name:"Zambia"},{code:"ZW",name:"Zimbabwe"},{code:"XX",name:"Other"}].sort((r,t)=>r.name.localeCompare(t.name));function $O({countryCode:r,countryOther:t,onCountryCodeChange:i,onCountryOtherChange:s,countryError:c,countryOtherError:u,onErrorClear:h}){const[m,p]=E.useState(""),[g,v]=E.useState(!1),[C,b]=E.useState(-1),x=E.useRef(null),T=E.useRef(null);E.useEffect(()=>{if(r){const M=xh.find(X=>X.code===r);M&&p(M.name)}else p("")},[r]);const N=m?xh.filter(M=>M.name.toLowerCase().includes(m.toLowerCase())||M.code.toLowerCase().includes(m.toLowerCase())).slice(0,15):xh.slice(0,15),j=M=>{i(M.code),p(M.name),v(!1),b(-1),h&&h(),M.code!=="XX"&&s("")},F=M=>{p(M),v(!0),b(-1),M||(i(""),s(""),h&&h())},H=M=>{if(!g&&N.length>0&&(M.key==="ArrowDown"||M.key==="Enter")){M.preventDefault(),v(!0),b(0);return}M.key==="ArrowDown"?(M.preventDefault(),b(X=>X<N.length-1?X+1:X),v(!0)):M.key==="ArrowUp"?(M.preventDefault(),b(X=>X>0?X-1:-1)):M.key==="Enter"?(M.preventDefault(),C>=0&&C<N.length&&j(N[C])):M.key==="Escape"&&(v(!1),b(-1),x.current?.blur())};return E.useEffect(()=>{const M=X=>{T.current&&!T.current.contains(X.target)&&x.current&&!x.current.contains(X.target)&&(v(!1),b(-1))};if(g)return document.addEventListener("mousedown",M),()=>{document.removeEventListener("mousedown",M)}},[g]),l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"ct-autocomplete",ref:T,children:[l.jsx("input",{ref:x,type:"text",className:`ct-input--primary ${c?"ct-input--error":""}`,value:m,onChange:M=>F(M.target.value),onFocus:()=>v(!0),onKeyDown:H,placeholder:"Type to search country...",autoComplete:"off"}),g&&N.length>0&&l.jsx("div",{className:"ct-autocomplete__menu",children:N.map((M,X)=>l.jsxs("div",{className:`ct-autocomplete__item ${X===C?"ct-autocomplete__item--active":""}`,onClick:()=>j(M),onMouseEnter:()=>b(X),children:[M.flag&&l.jsx("span",{className:"ct-autocomplete__flag",children:M.flag}),l.jsx("span",{className:"ct-autocomplete__name",children:M.name}),M.code!=="XX"&&l.jsx("span",{className:"ct-autocomplete__code",children:M.code})]},M.code))}),c&&l.jsx("div",{className:"ct-input-error",children:c})]}),r==="XX"&&l.jsxs("div",{className:"ct-input-group",style:{marginTop:"0.5rem"},children:[l.jsxs("label",{className:"ct-label--primary",children:["Country (Other) ",l.jsx("span",{className:"ct-required",children:"*"})]}),l.jsx("input",{type:"text",className:`ct-input--primary ${u?"ct-input--error":""}`,value:t,onChange:M=>{s(M.target.value),h&&h()},placeholder:"Type your country"}),u&&l.jsx("div",{className:"ct-input-error",children:u})]})]})}function ZO(){const r=Vr(),t=[{icon:"",titleKey:"pki",title:"PKI",description:"Complete subscription lifecycle management with Azure Marketplace integration."},{icon:"",titleKey:"print",title:"Print",description:"Track usage across 7 credential dimensions with automatic overage calculation."},{icon:"",titleKey:"desfire",title:"DESFire",description:"Monitor usage in real-time with visual progress indicators and alerts."},{icon:"",titleKey:"prox",title:"Prox",description:"Seamless integration with Azure Marketplace Metered Billing APIs."},{icon:"",titleKey:"biometric",title:"Biometric",description:"Complete subscription lifecycle management with Azure Marketplace integration."},{icon:"",titleKey:"wallet",title:"Wallet",description:"Track usage across 7 credential dimensions with automatic overage calculation."},{icon:"",titleKey:"fido",title:"FIDO",description:"Monitor usage in real-time with visual progress indicators and alerts."}];return l.jsx(ot,{children:l.jsxs("div",{className:"ct-landing",children:[l.jsxs("section",{className:"ct-hero",children:[l.jsxs("div",{className:"ct-hero__content",children:[l.jsxs("h1",{className:"ct-hero__title",children:["ComsignTrust ",l.jsx("span",{className:"ct-hero__highlight",children:"CMS"})]}),l.jsx("h2",{className:"ct-hero__subtitle",children:"Azure Marketplace - Billing Demo"}),l.jsx("p",{className:"ct-hero__description",children:"Experience the complete Azure Marketplace SaaS billing flow with metered usage tracking, overage calculations, and real-time billing simulation."}),l.jsxs("div",{className:"ct-hero__actions",children:[l.jsx(xe,{variant:"primary",size:"large",onClick:()=>r("/pricing"),children:"View Pricing"}),l.jsx(xe,{variant:"outline",size:"large",onClick:()=>r("/pricing"),children:"Learn More"})]})]}),l.jsx("div",{className:"ct-hero__visual",children:l.jsxs("div",{className:"ct-hero__card-stack",children:[l.jsx("div",{className:"ct-hero__card ct-hero__card--1",children:""}),l.jsx("div",{className:"ct-hero__card ct-hero__card--2",children:""}),l.jsx("div",{className:"ct-hero__card ct-hero__card--3",children:""})]})})]}),l.jsxs("section",{className:"ct-features",children:[l.jsx("h2",{className:"ct-features__title",children:"Platform Features"}),l.jsx("p",{className:"ct-features__subtitle",children:"This application runs in demo mode, simulating Azure Marketplace billing without requiring actual Azure credentials. Perfect for testing and demonstration purposes."}),l.jsx("div",{className:"ct-features__grid",children:t.map((i,s)=>l.jsxs("div",{className:"ct-feature-card",children:[l.jsx("div",{className:"ct-feature-card__icon",children:i.icon}),l.jsx("h3",{className:"ct-feature-card__title",children:i.title}),l.jsx("p",{className:"ct-feature-card__description",children:i.description})]},s))})]}),l.jsx("section",{className:"ct-cta",children:l.jsxs("div",{className:"ct-cta__content",children:[l.jsx("h2",{className:"ct-cta__title",children:"Demo Mode"}),l.jsx("p",{className:"ct-cta__description",children:"This application runs in demo mode, simulating Azure Marketplace billing without requiring actual Azure credentials. Perfect for testing and demonstration purposes."}),l.jsx(xe,{variant:"primary",size:"large",onClick:()=>r("/pricing"),children:"View Pricing"})]})}),l.jsx("footer",{className:"ct-footer",children:l.jsxs("p",{className:"ct-footer__text",children:[" 2026 ComsignTrust. |",l.jsx("span",{className:"ct-footer__demo",children:" Demo Mode"})]})})]})})}function WO({plan:r,onSelect:t,isCurrentPlan:i=!1}){return l.jsxs($e,{highlighted:r.isPopular,className:"ct-plan-card",children:[r.isPopular&&l.jsx("div",{className:"ct-plan-card__badge",children:"Most Popular"}),l.jsxs(Ht,{className:"ct-plan-card__header",children:[l.jsx("h3",{className:"ct-plan-card__name",children:r.name}),l.jsxs("div",{className:"ct-plan-card__price",children:[l.jsx("span",{className:"ct-plan-card__currency",children:"$"}),l.jsx("span",{className:"ct-plan-card__amount",children:r.monthlyPrice}),l.jsx("span",{className:"ct-plan-card__period",children:"/month"})]}),l.jsx("p",{className:"ct-plan-card__description",children:r.description})]}),l.jsxs(Ze,{className:"ct-plan-card__body",children:[l.jsx("h4",{className:"ct-plan-card__section-title",children:"Included Credentials"}),l.jsx("ul",{className:"ct-plan-card__quotas",children:r.quotas.map(s=>l.jsxs("li",{className:"ct-plan-card__quota-item",children:[l.jsx("span",{className:"ct-plan-card__quota-name",children:s.displayName}),l.jsx("span",{className:"ct-plan-card__quota-value",children:s.includedQuantity.toLocaleString()})]},s.id))}),l.jsx("h4",{className:"ct-plan-card__section-title",children:"Overage Rate"}),l.jsx("ul",{className:"ct-plan-card__overages",children:r.quotas.map(s=>l.jsxs("li",{className:"ct-plan-card__overage-item",children:[l.jsx("span",{className:"ct-plan-card__overage-name",children:s.displayName}),l.jsxs("span",{className:"ct-plan-card__overage-price",children:["$",s.overagePrice.toFixed(2),"/per unit"]})]},s.id))})]}),l.jsx(XO,{className:"ct-plan-card__footer",children:l.jsx(xe,{variant:r.isPopular?"primary":"outline",onClick:()=>t(r.id),disabled:i,className:"ct-plan-card__button",children:i?"Current Plan":"Subscribe"})})]})}function eI({dimension:r,showDetails:t=!0}){const i=Math.min(r.usagePercentage,100),s=r.usagePercentage>100?Math.min(r.usagePercentage-100,50):0,c=u=>{switch(u){case"Critical":return"ct-usage-bar--critical";case"Warning":return"ct-usage-bar--warning";default:return"ct-usage-bar--normal"}};return l.jsxs("div",{className:`ct-usage-bar ${c(r.status)}`,children:[l.jsxs("div",{className:"ct-usage-bar__header",children:[l.jsx("span",{className:"ct-usage-bar__name",children:r.displayName}),l.jsxs("span",{className:"ct-usage-bar__stats",children:[r.usedQuantity.toLocaleString()," / ",r.includedQuantity.toLocaleString(),r.overageQuantity>0&&l.jsxs("span",{className:"ct-usage-bar__overage",children:[" ","(+",r.overageQuantity.toLocaleString()," overage)"]})]})]}),l.jsxs("div",{className:"ct-usage-bar__track",children:[l.jsx("div",{className:"ct-usage-bar__fill",style:{width:`${i}%`}}),s>0&&l.jsx("div",{className:"ct-usage-bar__overage-fill",style:{left:"100%",width:`${s}%`}})]}),t&&l.jsxs("div",{className:"ct-usage-bar__details",children:[l.jsxs("span",{className:"ct-usage-bar__percentage",children:[r.usagePercentage.toFixed(1),"%"]}),r.overageCharges>0&&l.jsxs("span",{className:"ct-usage-bar__charges",children:["Overage Charges: $",r.overageCharges.toFixed(2)]})]})]})}var Vb=(r=>(r[r.Print=0]="Print",r[r.Pki=1]="Pki",r[r.Desfire=2]="Desfire",r[r.Prox=3]="Prox",r[r.Biometric=4]="Biometric",r[r.Wallet=5]="Wallet",r[r.Fido=6]="Fido",r))(Vb||{}),Dn=(r=>(r[r.Active=0]="Active",r[r.Suspended=1]="Suspended",r[r.Cancelled=2]="Cancelled",r))(Dn||{});const to={0:"Print Jobs",1:"PKI Certificates",2:"DESFire Encodings",3:"Prox Encodings",4:"Biometric Enrollments",5:"Wallet Credentials",6:"FIDO Enrollments"};function Yb(r,t){return function(){return r.apply(t,arguments)}}const{toString:tI}=Object.prototype,{getPrototypeOf:gm}=Object,{iterator:Kl,toStringTag:Qb}=Symbol,Fl=(r=>t=>{const i=tI.call(t);return r[i]||(r[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),Hn=r=>(r=r.toLowerCase(),t=>Fl(t)===r),Gl=r=>t=>typeof t===r,{isArray:Yr}=Array,Hr=Gl("undefined");function po(r){return r!==null&&!Hr(r)&&r.constructor!==null&&!Hr(r.constructor)&&Wt(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const Jb=Hn("ArrayBuffer");function nI(r){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(r):t=r&&r.buffer&&Jb(r.buffer),t}const iI=Gl("string"),Wt=Gl("function"),Xb=Gl("number"),yo=r=>r!==null&&typeof r=="object",aI=r=>r===!0||r===!1,nl=r=>{if(Fl(r)!=="object")return!1;const t=gm(r);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Qb in r)&&!(Kl in r)},rI=r=>{if(!yo(r)||po(r))return!1;try{return Object.keys(r).length===0&&Object.getPrototypeOf(r)===Object.prototype}catch{return!1}},sI=Hn("Date"),oI=Hn("File"),cI=Hn("Blob"),lI=Hn("FileList"),uI=r=>yo(r)&&Wt(r.pipe),dI=r=>{let t;return r&&(typeof FormData=="function"&&r instanceof FormData||Wt(r.append)&&((t=Fl(r))==="formdata"||t==="object"&&Wt(r.toString)&&r.toString()==="[object FormData]"))},hI=Hn("URLSearchParams"),[fI,mI,gI,pI]=["ReadableStream","Request","Response","Headers"].map(Hn),yI=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function vo(r,t,{allOwnKeys:i=!1}={}){if(r===null||typeof r>"u")return;let s,c;if(typeof r!="object"&&(r=[r]),Yr(r))for(s=0,c=r.length;s<c;s++)t.call(null,r[s],s,r);else{if(po(r))return;const u=i?Object.getOwnPropertyNames(r):Object.keys(r),h=u.length;let m;for(s=0;s<h;s++)m=u[s],t.call(null,r[m],m,r)}}function $b(r,t){if(po(r))return null;t=t.toLowerCase();const i=Object.keys(r);let s=i.length,c;for(;s-- >0;)if(c=i[s],t===c.toLowerCase())return c;return null}const xa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Zb=r=>!Hr(r)&&r!==xa;function Zh(){const{caseless:r,skipUndefined:t}=Zb(this)&&this||{},i={},s=(c,u)=>{const h=r&&$b(i,u)||u;nl(i[h])&&nl(c)?i[h]=Zh(i[h],c):nl(c)?i[h]=Zh({},c):Yr(c)?i[h]=c.slice():(!t||!Hr(c))&&(i[h]=c)};for(let c=0,u=arguments.length;c<u;c++)arguments[c]&&vo(arguments[c],s);return i}const vI=(r,t,i,{allOwnKeys:s}={})=>(vo(t,(c,u)=>{i&&Wt(c)?r[u]=Yb(c,i):r[u]=c},{allOwnKeys:s}),r),CI=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),SI=(r,t,i,s)=>{r.prototype=Object.create(t.prototype,s),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:t.prototype}),i&&Object.assign(r.prototype,i)},bI=(r,t,i,s)=>{let c,u,h;const m={};if(t=t||{},r==null)return t;do{for(c=Object.getOwnPropertyNames(r),u=c.length;u-- >0;)h=c[u],(!s||s(h,r,t))&&!m[h]&&(t[h]=r[h],m[h]=!0);r=i!==!1&&gm(r)}while(r&&(!i||i(r,t))&&r!==Object.prototype);return t},_I=(r,t,i)=>{r=String(r),(i===void 0||i>r.length)&&(i=r.length),i-=t.length;const s=r.indexOf(t,i);return s!==-1&&s===i},EI=r=>{if(!r)return null;if(Yr(r))return r;let t=r.length;if(!Xb(t))return null;const i=new Array(t);for(;t-- >0;)i[t]=r[t];return i},AI=(r=>t=>r&&t instanceof r)(typeof Uint8Array<"u"&&gm(Uint8Array)),TI=(r,t)=>{const s=(r&&r[Kl]).call(r);let c;for(;(c=s.next())&&!c.done;){const u=c.value;t.call(r,u[0],u[1])}},wI=(r,t)=>{let i;const s=[];for(;(i=r.exec(t))!==null;)s.push(i);return s},xI=Hn("HTMLFormElement"),NI=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,s,c){return s.toUpperCase()+c}),OC=(({hasOwnProperty:r})=>(t,i)=>r.call(t,i))(Object.prototype),RI=Hn("RegExp"),Wb=(r,t)=>{const i=Object.getOwnPropertyDescriptors(r),s={};vo(i,(c,u)=>{let h;(h=t(c,u,r))!==!1&&(s[u]=h||c)}),Object.defineProperties(r,s)},jI=r=>{Wb(r,(t,i)=>{if(Wt(r)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const s=r[i];if(Wt(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},OI=(r,t)=>{const i={},s=c=>{c.forEach(u=>{i[u]=!0})};return Yr(r)?s(r):s(String(r).split(t)),i},II=()=>{},kI=(r,t)=>r!=null&&Number.isFinite(r=+r)?r:t;function MI(r){return!!(r&&Wt(r.append)&&r[Qb]==="FormData"&&r[Kl])}const DI=r=>{const t=new Array(10),i=(s,c)=>{if(yo(s)){if(t.indexOf(s)>=0)return;if(po(s))return s;if(!("toJSON"in s)){t[c]=s;const u=Yr(s)?[]:{};return vo(s,(h,m)=>{const p=i(h,c+1);!Hr(p)&&(u[m]=p)}),t[c]=void 0,u}}return s};return i(r,0)},UI=Hn("AsyncFunction"),LI=r=>r&&(yo(r)||Wt(r))&&Wt(r.then)&&Wt(r.catch),e_=((r,t)=>r?setImmediate:t?((i,s)=>(xa.addEventListener("message",({source:c,data:u})=>{c===xa&&u===i&&s.length&&s.shift()()},!1),c=>{s.push(c),xa.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",Wt(xa.postMessage)),PI=typeof queueMicrotask<"u"?queueMicrotask.bind(xa):typeof process<"u"&&process.nextTick||e_,zI=r=>r!=null&&Wt(r[Kl]),D={isArray:Yr,isArrayBuffer:Jb,isBuffer:po,isFormData:dI,isArrayBufferView:nI,isString:iI,isNumber:Xb,isBoolean:aI,isObject:yo,isPlainObject:nl,isEmptyObject:rI,isReadableStream:fI,isRequest:mI,isResponse:gI,isHeaders:pI,isUndefined:Hr,isDate:sI,isFile:oI,isBlob:cI,isRegExp:RI,isFunction:Wt,isStream:uI,isURLSearchParams:hI,isTypedArray:AI,isFileList:lI,forEach:vo,merge:Zh,extend:vI,trim:yI,stripBOM:CI,inherits:SI,toFlatObject:bI,kindOf:Fl,kindOfTest:Hn,endsWith:_I,toArray:EI,forEachEntry:TI,matchAll:wI,isHTMLForm:xI,hasOwnProperty:OC,hasOwnProp:OC,reduceDescriptors:Wb,freezeMethods:jI,toObjectSet:OI,toCamelCase:NI,noop:II,toFiniteNumber:kI,findKey:$b,global:xa,isContextDefined:Zb,isSpecCompliantForm:MI,toJSONObject:DI,isAsyncFn:UI,isThenable:LI,setImmediate:e_,asap:PI,isIterable:zI};function ge(r,t,i,s,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),s&&(this.request=s),c&&(this.response=c,this.status=c.status?c.status:null)}D.inherits(ge,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:D.toJSONObject(this.config),code:this.code,status:this.status}}});const t_=ge.prototype,n_={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{n_[r]={value:r}});Object.defineProperties(ge,n_);Object.defineProperty(t_,"isAxiosError",{value:!0});ge.from=(r,t,i,s,c,u)=>{const h=Object.create(t_);D.toFlatObject(r,h,function(v){return v!==Error.prototype},g=>g!=="isAxiosError");const m=r&&r.message?r.message:"Error",p=t==null&&r?r.code:t;return ge.call(h,m,p,i,s,c),r&&h.cause==null&&Object.defineProperty(h,"cause",{value:r,configurable:!0}),h.name=r&&r.name||"Error",u&&Object.assign(h,u),h};const HI=null;function Wh(r){return D.isPlainObject(r)||D.isArray(r)}function i_(r){return D.endsWith(r,"[]")?r.slice(0,-2):r}function IC(r,t,i){return r?r.concat(t).map(function(c,u){return c=i_(c),!i&&u?"["+c+"]":c}).join(i?".":""):t}function BI(r){return D.isArray(r)&&!r.some(Wh)}const KI=D.toFlatObject(D,{},null,function(t){return/^is[A-Z]/.test(t)});function ql(r,t,i){if(!D.isObject(r))throw new TypeError("target must be an object");t=t||new FormData,i=D.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,j){return!D.isUndefined(j[N])});const s=i.metaTokens,c=i.visitor||v,u=i.dots,h=i.indexes,p=(i.Blob||typeof Blob<"u"&&Blob)&&D.isSpecCompliantForm(t);if(!D.isFunction(c))throw new TypeError("visitor must be a function");function g(T){if(T===null)return"";if(D.isDate(T))return T.toISOString();if(D.isBoolean(T))return T.toString();if(!p&&D.isBlob(T))throw new ge("Blob is not supported. Use a Buffer instead.");return D.isArrayBuffer(T)||D.isTypedArray(T)?p&&typeof Blob=="function"?new Blob([T]):Buffer.from(T):T}function v(T,N,j){let F=T;if(T&&!j&&typeof T=="object"){if(D.endsWith(N,"{}"))N=s?N:N.slice(0,-2),T=JSON.stringify(T);else if(D.isArray(T)&&BI(T)||(D.isFileList(T)||D.endsWith(N,"[]"))&&(F=D.toArray(T)))return N=i_(N),F.forEach(function(M,X){!(D.isUndefined(M)||M===null)&&t.append(h===!0?IC([N],X,u):h===null?N:N+"[]",g(M))}),!1}return Wh(T)?!0:(t.append(IC(j,N,u),g(T)),!1)}const C=[],b=Object.assign(KI,{defaultVisitor:v,convertValue:g,isVisitable:Wh});function x(T,N){if(!D.isUndefined(T)){if(C.indexOf(T)!==-1)throw Error("Circular reference detected in "+N.join("."));C.push(T),D.forEach(T,function(F,H){(!(D.isUndefined(F)||F===null)&&c.call(t,F,D.isString(H)?H.trim():H,N,b))===!0&&x(F,N?N.concat(H):[H])}),C.pop()}}if(!D.isObject(r))throw new TypeError("data must be an object");return x(r),t}function kC(r){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function pm(r,t){this._pairs=[],r&&ql(r,this,t)}const a_=pm.prototype;a_.append=function(t,i){this._pairs.push([t,i])};a_.toString=function(t){const i=t?function(s){return t.call(this,s,kC)}:kC;return this._pairs.map(function(c){return i(c[0])+"="+i(c[1])},"").join("&")};function FI(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function r_(r,t,i){if(!t)return r;const s=i&&i.encode||FI;D.isFunction(i)&&(i={serialize:i});const c=i&&i.serialize;let u;if(c?u=c(t,i):u=D.isURLSearchParams(t)?t.toString():new pm(t,i).toString(s),u){const h=r.indexOf("#");h!==-1&&(r=r.slice(0,h)),r+=(r.indexOf("?")===-1?"?":"&")+u}return r}class MC{constructor(){this.handlers=[]}use(t,i,s){return this.handlers.push({fulfilled:t,rejected:i,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){D.forEach(this.handlers,function(s){s!==null&&t(s)})}}const s_={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},GI=typeof URLSearchParams<"u"?URLSearchParams:pm,qI=typeof FormData<"u"?FormData:null,VI=typeof Blob<"u"?Blob:null,YI={isBrowser:!0,classes:{URLSearchParams:GI,FormData:qI,Blob:VI},protocols:["http","https","file","blob","url","data"]},ym=typeof window<"u"&&typeof document<"u",ef=typeof navigator=="object"&&navigator||void 0,QI=ym&&(!ef||["ReactNative","NativeScript","NS"].indexOf(ef.product)<0),JI=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",XI=ym&&window.location.href||"http://localhost",$I=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ym,hasStandardBrowserEnv:QI,hasStandardBrowserWebWorkerEnv:JI,navigator:ef,origin:XI},Symbol.toStringTag,{value:"Module"})),kt={...$I,...YI};function ZI(r,t){return ql(r,new kt.classes.URLSearchParams,{visitor:function(i,s,c,u){return kt.isNode&&D.isBuffer(i)?(this.append(s,i.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)},...t})}function WI(r){return D.matchAll(/\w+|\[(\w*)]/g,r).map(t=>t[0]==="[]"?"":t[1]||t[0])}function e1(r){const t={},i=Object.keys(r);let s;const c=i.length;let u;for(s=0;s<c;s++)u=i[s],t[u]=r[u];return t}function o_(r){function t(i,s,c,u){let h=i[u++];if(h==="__proto__")return!0;const m=Number.isFinite(+h),p=u>=i.length;return h=!h&&D.isArray(c)?c.length:h,p?(D.hasOwnProp(c,h)?c[h]=[c[h],s]:c[h]=s,!m):((!c[h]||!D.isObject(c[h]))&&(c[h]=[]),t(i,s,c[h],u)&&D.isArray(c[h])&&(c[h]=e1(c[h])),!m)}if(D.isFormData(r)&&D.isFunction(r.entries)){const i={};return D.forEachEntry(r,(s,c)=>{t(WI(s),c,i,0)}),i}return null}function t1(r,t,i){if(D.isString(r))try{return(t||JSON.parse)(r),D.trim(r)}catch(s){if(s.name!=="SyntaxError")throw s}return(i||JSON.stringify)(r)}const Co={transitional:s_,adapter:["xhr","http","fetch"],transformRequest:[function(t,i){const s=i.getContentType()||"",c=s.indexOf("application/json")>-1,u=D.isObject(t);if(u&&D.isHTMLForm(t)&&(t=new FormData(t)),D.isFormData(t))return c?JSON.stringify(o_(t)):t;if(D.isArrayBuffer(t)||D.isBuffer(t)||D.isStream(t)||D.isFile(t)||D.isBlob(t)||D.isReadableStream(t))return t;if(D.isArrayBufferView(t))return t.buffer;if(D.isURLSearchParams(t))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let m;if(u){if(s.indexOf("application/x-www-form-urlencoded")>-1)return ZI(t,this.formSerializer).toString();if((m=D.isFileList(t))||s.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return ql(m?{"files[]":t}:t,p&&new p,this.formSerializer)}}return u||c?(i.setContentType("application/json",!1),t1(t)):t}],transformResponse:[function(t){const i=this.transitional||Co.transitional,s=i&&i.forcedJSONParsing,c=this.responseType==="json";if(D.isResponse(t)||D.isReadableStream(t))return t;if(t&&D.isString(t)&&(s&&!this.responseType||c)){const h=!(i&&i.silentJSONParsing)&&c;try{return JSON.parse(t,this.parseReviver)}catch(m){if(h)throw m.name==="SyntaxError"?ge.from(m,ge.ERR_BAD_RESPONSE,this,null,this.response):m}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:kt.classes.FormData,Blob:kt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};D.forEach(["delete","get","head","post","put","patch"],r=>{Co.headers[r]={}});const n1=D.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),i1=r=>{const t={};let i,s,c;return r&&r.split(`
`).forEach(function(h){c=h.indexOf(":"),i=h.substring(0,c).trim().toLowerCase(),s=h.substring(c+1).trim(),!(!i||t[i]&&n1[i])&&(i==="set-cookie"?t[i]?t[i].push(s):t[i]=[s]:t[i]=t[i]?t[i]+", "+s:s)}),t},DC=Symbol("internals");function Js(r){return r&&String(r).trim().toLowerCase()}function il(r){return r===!1||r==null?r:D.isArray(r)?r.map(il):String(r)}function a1(r){const t=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=i.exec(r);)t[s[1]]=s[2];return t}const r1=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function Nh(r,t,i,s,c){if(D.isFunction(s))return s.call(this,t,i);if(c&&(t=i),!!D.isString(t)){if(D.isString(s))return t.indexOf(s)!==-1;if(D.isRegExp(s))return s.test(t)}}function s1(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,i,s)=>i.toUpperCase()+s)}function o1(r,t){const i=D.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(r,s+i,{value:function(c,u,h){return this[s].call(this,t,c,u,h)},configurable:!0})})}let en=class{constructor(t){t&&this.set(t)}set(t,i,s){const c=this;function u(m,p,g){const v=Js(p);if(!v)throw new Error("header name must be a non-empty string");const C=D.findKey(c,v);(!C||c[C]===void 0||g===!0||g===void 0&&c[C]!==!1)&&(c[C||p]=il(m))}const h=(m,p)=>D.forEach(m,(g,v)=>u(g,v,p));if(D.isPlainObject(t)||t instanceof this.constructor)h(t,i);else if(D.isString(t)&&(t=t.trim())&&!r1(t))h(i1(t),i);else if(D.isObject(t)&&D.isIterable(t)){let m={},p,g;for(const v of t){if(!D.isArray(v))throw TypeError("Object iterator must return a key-value pair");m[g=v[0]]=(p=m[g])?D.isArray(p)?[...p,v[1]]:[p,v[1]]:v[1]}h(m,i)}else t!=null&&u(i,t,s);return this}get(t,i){if(t=Js(t),t){const s=D.findKey(this,t);if(s){const c=this[s];if(!i)return c;if(i===!0)return a1(c);if(D.isFunction(i))return i.call(this,c,s);if(D.isRegExp(i))return i.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,i){if(t=Js(t),t){const s=D.findKey(this,t);return!!(s&&this[s]!==void 0&&(!i||Nh(this,this[s],s,i)))}return!1}delete(t,i){const s=this;let c=!1;function u(h){if(h=Js(h),h){const m=D.findKey(s,h);m&&(!i||Nh(s,s[m],m,i))&&(delete s[m],c=!0)}}return D.isArray(t)?t.forEach(u):u(t),c}clear(t){const i=Object.keys(this);let s=i.length,c=!1;for(;s--;){const u=i[s];(!t||Nh(this,this[u],u,t,!0))&&(delete this[u],c=!0)}return c}normalize(t){const i=this,s={};return D.forEach(this,(c,u)=>{const h=D.findKey(s,u);if(h){i[h]=il(c),delete i[u];return}const m=t?s1(u):String(u).trim();m!==u&&delete i[u],i[m]=il(c),s[m]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const i=Object.create(null);return D.forEach(this,(s,c)=>{s!=null&&s!==!1&&(i[c]=t&&D.isArray(s)?s.join(", "):s)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,i])=>t+": "+i).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...i){const s=new this(t);return i.forEach(c=>s.set(c)),s}static accessor(t){const s=(this[DC]=this[DC]={accessors:{}}).accessors,c=this.prototype;function u(h){const m=Js(h);s[m]||(o1(c,h),s[m]=!0)}return D.isArray(t)?t.forEach(u):u(t),this}};en.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);D.reduceDescriptors(en.prototype,({value:r},t)=>{let i=t[0].toUpperCase()+t.slice(1);return{get:()=>r,set(s){this[i]=s}}});D.freezeMethods(en);function Rh(r,t){const i=this||Co,s=t||i,c=en.from(s.headers);let u=s.data;return D.forEach(r,function(m){u=m.call(i,u,c.normalize(),t?t.status:void 0)}),c.normalize(),u}function c_(r){return!!(r&&r.__CANCEL__)}function Qr(r,t,i){ge.call(this,r??"canceled",ge.ERR_CANCELED,t,i),this.name="CanceledError"}D.inherits(Qr,ge,{__CANCEL__:!0});function l_(r,t,i){const s=i.config.validateStatus;!i.status||!s||s(i.status)?r(i):t(new ge("Request failed with status code "+i.status,[ge.ERR_BAD_REQUEST,ge.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function c1(r){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return t&&t[1]||""}function l1(r,t){r=r||10;const i=new Array(r),s=new Array(r);let c=0,u=0,h;return t=t!==void 0?t:1e3,function(p){const g=Date.now(),v=s[u];h||(h=g),i[c]=p,s[c]=g;let C=u,b=0;for(;C!==c;)b+=i[C++],C=C%r;if(c=(c+1)%r,c===u&&(u=(u+1)%r),g-h<t)return;const x=v&&g-v;return x?Math.round(b*1e3/x):void 0}}function u1(r,t){let i=0,s=1e3/t,c,u;const h=(g,v=Date.now())=>{i=v,c=null,u&&(clearTimeout(u),u=null),r(...g)};return[(...g)=>{const v=Date.now(),C=v-i;C>=s?h(g,v):(c=g,u||(u=setTimeout(()=>{u=null,h(c)},s-C)))},()=>c&&h(c)]}const Tl=(r,t,i=3)=>{let s=0;const c=l1(50,250);return u1(u=>{const h=u.loaded,m=u.lengthComputable?u.total:void 0,p=h-s,g=c(p),v=h<=m;s=h;const C={loaded:h,total:m,progress:m?h/m:void 0,bytes:p,rate:g||void 0,estimated:g&&m&&v?(m-h)/g:void 0,event:u,lengthComputable:m!=null,[t?"download":"upload"]:!0};r(C)},i)},UC=(r,t)=>{const i=r!=null;return[s=>t[0]({lengthComputable:i,total:r,loaded:s}),t[1]]},LC=r=>(...t)=>D.asap(()=>r(...t)),d1=kt.hasStandardBrowserEnv?((r,t)=>i=>(i=new URL(i,kt.origin),r.protocol===i.protocol&&r.host===i.host&&(t||r.port===i.port)))(new URL(kt.origin),kt.navigator&&/(msie|trident)/i.test(kt.navigator.userAgent)):()=>!0,h1=kt.hasStandardBrowserEnv?{write(r,t,i,s,c,u,h){if(typeof document>"u")return;const m=[`${r}=${encodeURIComponent(t)}`];D.isNumber(i)&&m.push(`expires=${new Date(i).toUTCString()}`),D.isString(s)&&m.push(`path=${s}`),D.isString(c)&&m.push(`domain=${c}`),u===!0&&m.push("secure"),D.isString(h)&&m.push(`SameSite=${h}`),document.cookie=m.join("; ")},read(r){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+r+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(r){this.write(r,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function f1(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function m1(r,t){return t?r.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):r}function u_(r,t,i){let s=!f1(t);return r&&(s||i==!1)?m1(r,t):t}const PC=r=>r instanceof en?{...r}:r;function Pa(r,t){t=t||{};const i={};function s(g,v,C,b){return D.isPlainObject(g)&&D.isPlainObject(v)?D.merge.call({caseless:b},g,v):D.isPlainObject(v)?D.merge({},v):D.isArray(v)?v.slice():v}function c(g,v,C,b){if(D.isUndefined(v)){if(!D.isUndefined(g))return s(void 0,g,C,b)}else return s(g,v,C,b)}function u(g,v){if(!D.isUndefined(v))return s(void 0,v)}function h(g,v){if(D.isUndefined(v)){if(!D.isUndefined(g))return s(void 0,g)}else return s(void 0,v)}function m(g,v,C){if(C in t)return s(g,v);if(C in r)return s(void 0,g)}const p={url:u,method:u,data:u,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:m,headers:(g,v,C)=>c(PC(g),PC(v),C,!0)};return D.forEach(Object.keys({...r,...t}),function(v){const C=p[v]||c,b=C(r[v],t[v],v);D.isUndefined(b)&&C!==m||(i[v]=b)}),i}const d_=r=>{const t=Pa({},r);let{data:i,withXSRFToken:s,xsrfHeaderName:c,xsrfCookieName:u,headers:h,auth:m}=t;if(t.headers=h=en.from(h),t.url=r_(u_(t.baseURL,t.url,t.allowAbsoluteUrls),r.params,r.paramsSerializer),m&&h.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):""))),D.isFormData(i)){if(kt.hasStandardBrowserEnv||kt.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if(D.isFunction(i.getHeaders)){const p=i.getHeaders(),g=["content-type","content-length"];Object.entries(p).forEach(([v,C])=>{g.includes(v.toLowerCase())&&h.set(v,C)})}}if(kt.hasStandardBrowserEnv&&(s&&D.isFunction(s)&&(s=s(t)),s||s!==!1&&d1(t.url))){const p=c&&u&&h1.read(u);p&&h.set(c,p)}return t},g1=typeof XMLHttpRequest<"u",p1=g1&&function(r){return new Promise(function(i,s){const c=d_(r);let u=c.data;const h=en.from(c.headers).normalize();let{responseType:m,onUploadProgress:p,onDownloadProgress:g}=c,v,C,b,x,T;function N(){x&&x(),T&&T(),c.cancelToken&&c.cancelToken.unsubscribe(v),c.signal&&c.signal.removeEventListener("abort",v)}let j=new XMLHttpRequest;j.open(c.method.toUpperCase(),c.url,!0),j.timeout=c.timeout;function F(){if(!j)return;const M=en.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),Y={data:!m||m==="text"||m==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:M,config:r,request:j};l_(function(q){i(q),N()},function(q){s(q),N()},Y),j=null}"onloadend"in j?j.onloadend=F:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(F)},j.onabort=function(){j&&(s(new ge("Request aborted",ge.ECONNABORTED,r,j)),j=null)},j.onerror=function(X){const Y=X&&X.message?X.message:"Network Error",le=new ge(Y,ge.ERR_NETWORK,r,j);le.event=X||null,s(le),j=null},j.ontimeout=function(){let X=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded";const Y=c.transitional||s_;c.timeoutErrorMessage&&(X=c.timeoutErrorMessage),s(new ge(X,Y.clarifyTimeoutError?ge.ETIMEDOUT:ge.ECONNABORTED,r,j)),j=null},u===void 0&&h.setContentType(null),"setRequestHeader"in j&&D.forEach(h.toJSON(),function(X,Y){j.setRequestHeader(Y,X)}),D.isUndefined(c.withCredentials)||(j.withCredentials=!!c.withCredentials),m&&m!=="json"&&(j.responseType=c.responseType),g&&([b,T]=Tl(g,!0),j.addEventListener("progress",b)),p&&j.upload&&([C,x]=Tl(p),j.upload.addEventListener("progress",C),j.upload.addEventListener("loadend",x)),(c.cancelToken||c.signal)&&(v=M=>{j&&(s(!M||M.type?new Qr(null,r,j):M),j.abort(),j=null)},c.cancelToken&&c.cancelToken.subscribe(v),c.signal&&(c.signal.aborted?v():c.signal.addEventListener("abort",v)));const H=c1(c.url);if(H&&kt.protocols.indexOf(H)===-1){s(new ge("Unsupported protocol "+H+":",ge.ERR_BAD_REQUEST,r));return}j.send(u||null)})},y1=(r,t)=>{const{length:i}=r=r?r.filter(Boolean):[];if(t||i){let s=new AbortController,c;const u=function(g){if(!c){c=!0,m();const v=g instanceof Error?g:this.reason;s.abort(v instanceof ge?v:new Qr(v instanceof Error?v.message:v))}};let h=t&&setTimeout(()=>{h=null,u(new ge(`timeout ${t} of ms exceeded`,ge.ETIMEDOUT))},t);const m=()=>{r&&(h&&clearTimeout(h),h=null,r.forEach(g=>{g.unsubscribe?g.unsubscribe(u):g.removeEventListener("abort",u)}),r=null)};r.forEach(g=>g.addEventListener("abort",u));const{signal:p}=s;return p.unsubscribe=()=>D.asap(m),p}},v1=function*(r,t){let i=r.byteLength;if(i<t){yield r;return}let s=0,c;for(;s<i;)c=s+t,yield r.slice(s,c),s=c},C1=async function*(r,t){for await(const i of S1(r))yield*v1(i,t)},S1=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const t=r.getReader();try{for(;;){const{done:i,value:s}=await t.read();if(i)break;yield s}}finally{await t.cancel()}},zC=(r,t,i,s)=>{const c=C1(r,t);let u=0,h,m=p=>{h||(h=!0,s&&s(p))};return new ReadableStream({async pull(p){try{const{done:g,value:v}=await c.next();if(g){m(),p.close();return}let C=v.byteLength;if(i){let b=u+=C;i(b)}p.enqueue(new Uint8Array(v))}catch(g){throw m(g),g}},cancel(p){return m(p),c.return()}},{highWaterMark:2})},HC=64*1024,{isFunction:Yc}=D,b1=(({Request:r,Response:t})=>({Request:r,Response:t}))(D.global),{ReadableStream:BC,TextEncoder:KC}=D.global,FC=(r,...t)=>{try{return!!r(...t)}catch{return!1}},_1=r=>{r=D.merge.call({skipUndefined:!0},b1,r);const{fetch:t,Request:i,Response:s}=r,c=t?Yc(t):typeof fetch=="function",u=Yc(i),h=Yc(s);if(!c)return!1;const m=c&&Yc(BC),p=c&&(typeof KC=="function"?(T=>N=>T.encode(N))(new KC):async T=>new Uint8Array(await new i(T).arrayBuffer())),g=u&&m&&FC(()=>{let T=!1;const N=new i(kt.origin,{body:new BC,method:"POST",get duplex(){return T=!0,"half"}}).headers.has("Content-Type");return T&&!N}),v=h&&m&&FC(()=>D.isReadableStream(new s("").body)),C={stream:v&&(T=>T.body)};c&&["text","arrayBuffer","blob","formData","stream"].forEach(T=>{!C[T]&&(C[T]=(N,j)=>{let F=N&&N[T];if(F)return F.call(N);throw new ge(`Response type '${T}' is not supported`,ge.ERR_NOT_SUPPORT,j)})});const b=async T=>{if(T==null)return 0;if(D.isBlob(T))return T.size;if(D.isSpecCompliantForm(T))return(await new i(kt.origin,{method:"POST",body:T}).arrayBuffer()).byteLength;if(D.isArrayBufferView(T)||D.isArrayBuffer(T))return T.byteLength;if(D.isURLSearchParams(T)&&(T=T+""),D.isString(T))return(await p(T)).byteLength},x=async(T,N)=>{const j=D.toFiniteNumber(T.getContentLength());return j??b(N)};return async T=>{let{url:N,method:j,data:F,signal:H,cancelToken:M,timeout:X,onDownloadProgress:Y,onUploadProgress:le,responseType:q,headers:ye,withCredentials:Ne="same-origin",fetchOptions:at}=d_(T),lt=t||fetch;q=q?(q+"").toLowerCase():"text";let ee=y1([H,M&&M.toAbortSignal()],X),Qe=null;const We=ee&&ee.unsubscribe&&(()=>{ee.unsubscribe()});let St;try{if(le&&g&&j!=="get"&&j!=="head"&&(St=await x(ye,F))!==0){let A=new i(N,{method:"POST",body:F,duplex:"half"}),B;if(D.isFormData(F)&&(B=A.headers.get("content-type"))&&ye.setContentType(B),A.body){const[J,W]=UC(St,Tl(LC(le)));F=zC(A.body,HC,J,W)}}D.isString(Ne)||(Ne=Ne?"include":"omit");const L=u&&"credentials"in i.prototype,Q={...at,signal:ee,method:j.toUpperCase(),headers:ye.normalize().toJSON(),body:F,duplex:"half",credentials:L?Ne:void 0};Qe=u&&new i(N,Q);let ne=await(u?lt(Qe,at):lt(N,Q));const Ae=v&&(q==="stream"||q==="response");if(v&&(Y||Ae&&We)){const A={};["status","statusText","headers"].forEach(de=>{A[de]=ne[de]});const B=D.toFiniteNumber(ne.headers.get("content-length")),[J,W]=Y&&UC(B,Tl(LC(Y),!0))||[];ne=new s(zC(ne.body,HC,J,()=>{W&&W(),We&&We()}),A)}q=q||"text";let we=await C[D.findKey(C,q)||"text"](ne,T);return!Ae&&We&&We(),await new Promise((A,B)=>{l_(A,B,{data:we,headers:en.from(ne.headers),status:ne.status,statusText:ne.statusText,config:T,request:Qe})})}catch(L){throw We&&We(),L&&L.name==="TypeError"&&/Load failed|fetch/i.test(L.message)?Object.assign(new ge("Network Error",ge.ERR_NETWORK,T,Qe),{cause:L.cause||L}):ge.from(L,L&&L.code,T,Qe)}}},E1=new Map,h_=r=>{let t=r&&r.env||{};const{fetch:i,Request:s,Response:c}=t,u=[s,c,i];let h=u.length,m=h,p,g,v=E1;for(;m--;)p=u[m],g=v.get(p),g===void 0&&v.set(p,g=m?new Map:_1(t)),v=g;return g};h_();const vm={http:HI,xhr:p1,fetch:{get:h_}};D.forEach(vm,(r,t)=>{if(r){try{Object.defineProperty(r,"name",{value:t})}catch{}Object.defineProperty(r,"adapterName",{value:t})}});const GC=r=>`- ${r}`,A1=r=>D.isFunction(r)||r===null||r===!1;function T1(r,t){r=D.isArray(r)?r:[r];const{length:i}=r;let s,c;const u={};for(let h=0;h<i;h++){s=r[h];let m;if(c=s,!A1(s)&&(c=vm[(m=String(s)).toLowerCase()],c===void 0))throw new ge(`Unknown adapter '${m}'`);if(c&&(D.isFunction(c)||(c=c.get(t))))break;u[m||"#"+h]=c}if(!c){const h=Object.entries(u).map(([p,g])=>`adapter ${p} `+(g===!1?"is not supported by the environment":"is not available in the build"));let m=i?h.length>1?`since :
`+h.map(GC).join(`
`):" "+GC(h[0]):"as no adapter specified";throw new ge("There is no suitable adapter to dispatch the request "+m,"ERR_NOT_SUPPORT")}return c}const f_={getAdapter:T1,adapters:vm};function jh(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new Qr(null,r)}function qC(r){return jh(r),r.headers=en.from(r.headers),r.data=Rh.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),f_.getAdapter(r.adapter||Co.adapter,r)(r).then(function(s){return jh(r),s.data=Rh.call(r,r.transformResponse,s),s.headers=en.from(s.headers),s},function(s){return c_(s)||(jh(r),s&&s.response&&(s.response.data=Rh.call(r,r.transformResponse,s.response),s.response.headers=en.from(s.response.headers))),Promise.reject(s)})}const m_="1.13.2",Vl={};["object","boolean","number","function","string","symbol"].forEach((r,t)=>{Vl[r]=function(s){return typeof s===r||"a"+(t<1?"n ":" ")+r}});const VC={};Vl.transitional=function(t,i,s){function c(u,h){return"[Axios v"+m_+"] Transitional option '"+u+"'"+h+(s?". "+s:"")}return(u,h,m)=>{if(t===!1)throw new ge(c(h," has been removed"+(i?" in "+i:"")),ge.ERR_DEPRECATED);return i&&!VC[h]&&(VC[h]=!0,console.warn(c(h," has been deprecated since v"+i+" and will be removed in the near future"))),t?t(u,h,m):!0}};Vl.spelling=function(t){return(i,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function w1(r,t,i){if(typeof r!="object")throw new ge("options must be an object",ge.ERR_BAD_OPTION_VALUE);const s=Object.keys(r);let c=s.length;for(;c-- >0;){const u=s[c],h=t[u];if(h){const m=r[u],p=m===void 0||h(m,u,r);if(p!==!0)throw new ge("option "+u+" must be "+p,ge.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new ge("Unknown option "+u,ge.ERR_BAD_OPTION)}}const al={assertOptions:w1,validators:Vl},Vn=al.validators;let Oa=class{constructor(t){this.defaults=t||{},this.interceptors={request:new MC,response:new MC}}async request(t,i){try{return await this._request(t,i)}catch(s){if(s instanceof Error){let c={};Error.captureStackTrace?Error.captureStackTrace(c):c=new Error;const u=c.stack?c.stack.replace(/^.+\n/,""):"";try{s.stack?u&&!String(s.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+u):s.stack=u}catch{}}throw s}}_request(t,i){typeof t=="string"?(i=i||{},i.url=t):i=t||{},i=Pa(this.defaults,i);const{transitional:s,paramsSerializer:c,headers:u}=i;s!==void 0&&al.assertOptions(s,{silentJSONParsing:Vn.transitional(Vn.boolean),forcedJSONParsing:Vn.transitional(Vn.boolean),clarifyTimeoutError:Vn.transitional(Vn.boolean)},!1),c!=null&&(D.isFunction(c)?i.paramsSerializer={serialize:c}:al.assertOptions(c,{encode:Vn.function,serialize:Vn.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),al.assertOptions(i,{baseUrl:Vn.spelling("baseURL"),withXsrfToken:Vn.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let h=u&&D.merge(u.common,u[i.method]);u&&D.forEach(["delete","get","head","post","put","patch","common"],T=>{delete u[T]}),i.headers=en.concat(h,u);const m=[];let p=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(i)===!1||(p=p&&N.synchronous,m.unshift(N.fulfilled,N.rejected))});const g=[];this.interceptors.response.forEach(function(N){g.push(N.fulfilled,N.rejected)});let v,C=0,b;if(!p){const T=[qC.bind(this),void 0];for(T.unshift(...m),T.push(...g),b=T.length,v=Promise.resolve(i);C<b;)v=v.then(T[C++],T[C++]);return v}b=m.length;let x=i;for(;C<b;){const T=m[C++],N=m[C++];try{x=T(x)}catch(j){N.call(this,j);break}}try{v=qC.call(this,x)}catch(T){return Promise.reject(T)}for(C=0,b=g.length;C<b;)v=v.then(g[C++],g[C++]);return v}getUri(t){t=Pa(this.defaults,t);const i=u_(t.baseURL,t.url,t.allowAbsoluteUrls);return r_(i,t.params,t.paramsSerializer)}};D.forEach(["delete","get","head","options"],function(t){Oa.prototype[t]=function(i,s){return this.request(Pa(s||{},{method:t,url:i,data:(s||{}).data}))}});D.forEach(["post","put","patch"],function(t){function i(s){return function(u,h,m){return this.request(Pa(m||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:u,data:h}))}}Oa.prototype[t]=i(),Oa.prototype[t+"Form"]=i(!0)});let x1=class g_{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(u){i=u});const s=this;this.promise.then(c=>{if(!s._listeners)return;let u=s._listeners.length;for(;u-- >0;)s._listeners[u](c);s._listeners=null}),this.promise.then=c=>{let u;const h=new Promise(m=>{s.subscribe(m),u=m}).then(c);return h.cancel=function(){s.unsubscribe(u)},h},t(function(u,h,m){s.reason||(s.reason=new Qr(u,h,m),i(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const i=this._listeners.indexOf(t);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const t=new AbortController,i=s=>{t.abort(s)};return this.subscribe(i),t.signal.unsubscribe=()=>this.unsubscribe(i),t.signal}static source(){let t;return{token:new g_(function(c){t=c}),cancel:t}}};function N1(r){return function(i){return r.apply(null,i)}}function R1(r){return D.isObject(r)&&r.isAxiosError===!0}const tf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(tf).forEach(([r,t])=>{tf[t]=r});function p_(r){const t=new Oa(r),i=Yb(Oa.prototype.request,t);return D.extend(i,Oa.prototype,t,{allOwnKeys:!0}),D.extend(i,t,null,{allOwnKeys:!0}),i.create=function(c){return p_(Pa(r,c))},i}const ct=p_(Co);ct.Axios=Oa;ct.CanceledError=Qr;ct.CancelToken=x1;ct.isCancel=c_;ct.VERSION=m_;ct.toFormData=ql;ct.AxiosError=ge;ct.Cancel=ct.CanceledError;ct.all=function(t){return Promise.all(t)};ct.spread=N1;ct.isAxiosError=R1;ct.mergeConfig=Pa;ct.AxiosHeaders=en;ct.formToJSON=r=>o_(D.isHTMLForm(r)?new FormData(r):r);ct.getAdapter=f_.getAdapter;ct.HttpStatusCode=tf;ct.default=ct;const{Axios:nk,AxiosError:ik,CanceledError:ak,isCancel:rk,CancelToken:sk,VERSION:ok,all:ck,Cancel:lk,isAxiosError:uk,spread:dk,toFormData:hk,AxiosHeaders:fk,HttpStatusCode:mk,formToJSON:gk,getAdapter:pk,mergeConfig:yk}=ct,j1="/api",Ye=ct.create({baseURL:j1,headers:{"Content-Type":"application/json"}}),O1={getAll:async()=>(await Ye.get("/plans")).data,getById:async r=>(await Ye.get(`/plans/${r}`)).data},wa={create:async r=>(await Ye.post("/subscriptions",r)).data,getById:async r=>(await Ye.get(`/subscriptions/${r}`)).data,getUsage:async r=>(await Ye.get(`/subscriptions/${r}/usage`)).data,changePlan:async(r,t)=>(await Ye.put(`/subscriptions/${r}/plan`,{newPlanId:t})).data,cancel:async r=>{await Ye.delete(`/subscriptions/${r}`)},startNewBillingPeriod:async r=>(await Ye.post(`/subscriptions/${r}/new-billing-period`)).data},y_={record:async r=>{await Ye.post("/usage/record",r)},getSummary:async r=>(await Ye.get(`/usage/${r}`)).data,getHistory:async(r,t)=>(await Ye.get(`/usage/${r}/history`,{params:t})).data},Qc={verifyPassword:async r=>{try{return(await Ye.post("/admin/verify",{password:r})).data.valid}catch{return!1}},getSubscriptions:async(r,t=1,i=20,s)=>(await Ye.get("/admin/subscriptions",{params:{page:t,pageSize:i,status:s},headers:{"X-Admin-Password":r}})).data,getUsageEvents:async(r,t=1,i=50,s)=>(await Ye.get("/admin/usage-events",{params:{page:t,pageSize:i,subscriptionId:s},headers:{"X-Admin-Password":r}})).data,getDashboardStats:async r=>(await Ye.get("/admin/dashboard",{headers:{"X-Admin-Password":r}})).data},YC={getEvents:async(r=1,t=50)=>(await Ye.get("/webhook/azure/events",{params:{page:r,pageSize:t}})).data,getEvent:async r=>(await Ye.get(`/webhook/azure/events/${r}`)).data,clearEvents:async()=>(await Ye.delete("/webhook/azure/events")).data},Xs={resolveToken:async r=>(await Ye.post("/marketplace/resolve",r)).data,getSubscription:async r=>(await Ye.get(`/marketplace/${r}`)).data,submitCustomerInfo:async r=>(await Ye.post("/marketplace/customer-info",r)).data,submitFeatureSelection:async r=>(await Ye.post("/marketplace/features",r)).data,finalizeSubscription:async r=>(await Ye.post("/marketplace/finalize",r)).data,getAvailableFeatures:async()=>(await Ye.get("/marketplace/available-features")).data,getAllSubscriptions:async(r=1,t=20)=>(await Ye.get("/marketplace",{params:{page:r,pageSize:t}})).data};function I1({subscriptionId:r}){const[t,i]=E.useState([]),[s,c]=E.useState(!0),[u,h]=E.useState({});E.useEffect(()=>{m()},[r,u]);const m=async()=>{try{c(!0);const v=await y_.getHistory(r,{startDate:u.startDate,endDate:u.endDate,dimensionType:u.dimensionType});i(v)}catch(v){console.error("Failed to load usage history:",v)}finally{c(!1)}},p=()=>{const v=["Date","Dimension","Used Quantity","Reported Overage"],C=t.map(N=>[new Date(N.lastUpdated).toLocaleDateString(),to[N.dimensionType],N.usedQuantity.toString(),N.reportedOverage.toString()]),b=[v.join(","),...C.map(N=>N.join(","))].join(`
`),x=new Blob([b],{type:"text/csv;charset=utf-8;"}),T=document.createElement("a");T.href=URL.createObjectURL(x),T.download=`usage-history-${r}.csv`,T.click()},g=[{key:"lastUpdated",header:"Date",render:v=>new Date(v.lastUpdated).toLocaleDateString()},{key:"dimensionType",header:"Dimension",render:v=>to[v.dimensionType]},{key:"usedQuantity",header:"Used Quantity",render:v=>v.usedQuantity.toLocaleString()},{key:"reportedOverage",header:"Reported Overage",render:v=>v.reportedOverage.toLocaleString()},{key:"billingPeriodStart",header:"Billing Period",render:v=>new Date(v.billingPeriodStart).toLocaleDateString()}];return l.jsxs("div",{className:"ct-usage-history",children:[l.jsxs("div",{className:"ct-usage-history__filters",children:[l.jsxs("div",{className:"ct-input-group",children:[l.jsx("label",{className:"ct-label--primary",children:"Start Date"}),l.jsx("input",{type:"date",className:"ct-input--lined",value:u.startDate||"",onChange:v=>h({...u,startDate:v.target.value||void 0})})]}),l.jsxs("div",{className:"ct-input-group",children:[l.jsx("label",{className:"ct-label--primary",children:"End Date"}),l.jsx("input",{type:"date",className:"ct-input--lined",value:u.endDate||"",onChange:v=>h({...u,endDate:v.target.value||void 0})})]}),l.jsxs("div",{className:"ct-input-group",children:[l.jsx("label",{className:"ct-label--primary",children:"Dimension"}),l.jsxs("select",{className:"ct-input--lined",value:u.dimensionType??"",onChange:v=>h({...u,dimensionType:v.target.value?Number(v.target.value):void 0}),children:[l.jsx("option",{value:"",children:"All Dimensions"}),Object.entries(to).map(([v,C])=>l.jsx("option",{value:v,children:C},v))]})]}),l.jsx(xe,{variant:"outline",onClick:p,children:"Export CSV"})]}),l.jsx($h,{columns:g,data:t,keyExtractor:v=>v.id,loading:s,emptyMessage:"No usage history found"})]})}function k1(){const r=Vr(),[t,i]=E.useState([]),[s,c]=E.useState(!0),[u,h]=E.useState(null),[m,p]=E.useState(null),[g,v]=E.useState(!1),[C,b]=E.useState({customerName:"",customerEmail:"",companyName:"",planId:""}),[x,T]=E.useState(!1),[N,j]=E.useState(null),[F,H]=E.useState(!1);E.useEffect(()=>{M()},[]);const M=async()=>{try{c(!0);const q=await O1.getAll();i(q)}catch(q){h("Failed to load plans"),console.error(q)}finally{c(!1)}},X=q=>{const ye=t.find(Ne=>Ne.id===q);ye&&(p(ye),b({...C,planId:q}),v(!0))},Y=async q=>{if(q.preventDefault(),!F){j("An error occurred. Please try again.");return}try{T(!0),j(null);const ye=await wa.create(C);r(`/subscription-success/${ye.id}`)}catch(ye){j("Failed to create subscription"),console.error(ye)}finally{T(!1)}},le=()=>{v(!1),p(null),b({customerName:"",customerEmail:"",companyName:"",planId:""}),j(null),H(!1)};return s?l.jsx(ot,{children:l.jsxs("div",{className:"ct-pricing ct-pricing--loading",children:[l.jsx("div",{className:"ct-spinner ct-spinner--large"}),l.jsx("p",{children:"Loading..."})]})}):u?l.jsx(ot,{children:l.jsxs("div",{className:"ct-pricing ct-pricing--error",children:[l.jsx(El,{type:"error",message:u,autoClose:!1}),l.jsx(xe,{onClick:M,children:"Submit"})]})}):l.jsx(ot,{children:l.jsxs("div",{className:"ct-pricing",children:[l.jsxs("header",{className:"ct-pricing__header",children:[l.jsx("h1",{className:"ct-pricing__title",children:"Choose Your Plan"}),l.jsx("p",{className:"ct-pricing__subtitle",children:"Select the perfect plan for your credential management needs"})]}),l.jsx("div",{className:"ct-pricing__plans",children:t.map(q=>l.jsx(WO,{plan:q,onSelect:X},q.id))}),l.jsx(Al,{isOpen:g,onClose:le,title:`Subscribe to ${m?.name}`,size:"medium",children:l.jsxs("form",{onSubmit:Y,className:"ct-signup-form",children:[N&&l.jsx(El,{type:"error",message:N,autoClose:!1}),l.jsxs("div",{className:"ct-signup-form__plan-summary",children:[l.jsx("h3",{children:m?.name}),l.jsxs("p",{className:"ct-signup-form__price",children:["$",m?.monthlyPrice,"/month"]})]}),l.jsxs("div",{className:"ct-input-group",children:[l.jsx("label",{className:"ct-label--primary",children:"Company Name *"}),l.jsx("input",{type:"text",className:"ct-input--primary",value:C.companyName,onChange:q=>b({...C,companyName:q.target.value}),required:!0,placeholder:"Enter your company name"})]}),l.jsxs("div",{className:"ct-input-group",children:[l.jsx("label",{className:"ct-label--primary",children:"Full Name *"}),l.jsx("input",{type:"text",className:"ct-input--primary",value:C.customerName,onChange:q=>b({...C,customerName:q.target.value}),required:!0,placeholder:"Enter your full name"})]}),l.jsxs("div",{className:"ct-input-group",children:[l.jsx("label",{className:"ct-label--primary",children:"Email Address *"}),l.jsx("input",{type:"email",className:"ct-input--primary",value:C.customerEmail,onChange:q=>b({...C,customerEmail:q.target.value}),required:!0,placeholder:"Enter your email address"})]}),l.jsx("div",{className:"ct-input-group ct-input-group--checkbox",children:l.jsxs("label",{className:"ct-checkbox",children:[l.jsx("input",{type:"checkbox",checked:F,onChange:q=>H(q.target.checked)}),l.jsx("span",{className:"ct-checkbox__label",children:"Yes"})]})}),l.jsxs("div",{className:"ct-signup-form__actions",children:[l.jsx(xe,{variant:"outline",type:"button",onClick:le,children:"Cancel"}),l.jsx(xe,{variant:"primary",type:"submit",loading:x,children:"Submit"})]})]})})]})})}function M1(){const{id:r}=um(),t=Vr(),[i,s]=E.useState(null),[c,u]=E.useState(!0),[h,m]=E.useState(null);E.useEffect(()=>{r&&p()},[r]);const p=async()=>{try{u(!0);const v=await wa.getById(r);s(v)}catch(v){m("Failed to load subscription"),console.error(v)}finally{u(!1)}},g=v=>new Date(v).toLocaleDateString("en-US");return c?l.jsx(ot,{children:l.jsxs("div",{className:"ct-success ct-success--loading",children:[l.jsx("div",{className:"ct-spinner ct-spinner--large"}),l.jsx("p",{children:"Loading..."})]})}):h||!i?l.jsx(ot,{children:l.jsxs("div",{className:"ct-success ct-success--error",children:[l.jsx("h1",{children:"Error"}),l.jsx("p",{children:h||"Failed to load subscription"}),l.jsx(xe,{onClick:()=>t("/pricing"),children:"Pricing"})]})}):l.jsx(ot,{children:l.jsxs("div",{className:"ct-success",children:[l.jsx("div",{className:"ct-success__icon",children:""}),l.jsx("h1",{className:"ct-success__title",children:"Subscription Successful!"}),l.jsx("p",{className:"ct-success__subtitle",children:"Welcome to ComsignTrust! Your subscription has been activated."}),l.jsx($e,{className:"ct-success__details",children:l.jsxs(Ze,{children:[l.jsx("h2",{children:"Details"}),l.jsxs("div",{className:"ct-success__info-grid",children:[l.jsxs("div",{className:"ct-success__info-item",children:[l.jsx("span",{className:"ct-success__info-label",children:"Subscription ID"}),l.jsx("span",{className:"ct-success__info-value ct-success__info-value--mono",children:i.id})]}),l.jsxs("div",{className:"ct-success__info-item",children:[l.jsx("span",{className:"ct-success__info-label",children:"Company Name"}),l.jsx("span",{className:"ct-success__info-value",children:i.companyName})]}),l.jsxs("div",{className:"ct-success__info-item",children:[l.jsx("span",{className:"ct-success__info-label",children:"Full Name"}),l.jsx("span",{className:"ct-success__info-value",children:i.customerName})]}),l.jsxs("div",{className:"ct-success__info-item",children:[l.jsx("span",{className:"ct-success__info-label",children:"Email Address"}),l.jsx("span",{className:"ct-success__info-value",children:i.customerEmail})]}),l.jsxs("div",{className:"ct-success__info-item",children:[l.jsx("span",{className:"ct-success__info-label",children:"Plan"}),l.jsx("span",{className:"ct-success__info-value ct-success__info-value--highlight",children:i.plan?.name})]}),l.jsxs("div",{className:"ct-success__info-item",children:[l.jsx("span",{className:"ct-success__info-label",children:"Price"}),l.jsxs("span",{className:"ct-success__info-value",children:["$",i.plan?.monthlyPrice,"/month"]})]}),l.jsxs("div",{className:"ct-success__info-item",children:[l.jsx("span",{className:"ct-success__info-label",children:"Date"}),l.jsx("span",{className:"ct-success__info-value",children:g(i.startDate)})]}),l.jsxs("div",{className:"ct-success__info-item",children:[l.jsx("span",{className:"ct-success__info-label",children:"Billing Period"}),l.jsxs("span",{className:"ct-success__info-value",children:[g(i.billingPeriodStart)," - ",g(i.billingPeriodEnd)]})]})]})]})}),l.jsxs("div",{className:"ct-success__actions",children:[l.jsx(xe,{variant:"primary",size:"large",onClick:()=>t(`/dashboard/${i.id}`),children:"Go to Dashboard"}),l.jsx(xe,{variant:"outline",size:"large",onClick:()=>t("/pricing"),children:"Pricing"})]}),l.jsx("p",{className:"ct-success__note",children:" Subscription ID"})]})})}function v_(r){const[t,i]=E.useState(null),[s,c]=E.useState(null),[u,h]=E.useState(!0),[m,p]=E.useState(null),g=E.useCallback(async()=>{if(!r){h(!1);return}try{h(!0),p(null);const[b,x]=await Promise.all([wa.getById(r),wa.getUsage(r)]);i(b),c(x)}catch(b){p(b instanceof Error?b.message:"Failed to load subscription data")}finally{h(!1)}},[r]);E.useEffect(()=>{g()},[g]);const v=E.useCallback(async(b,x)=>{if(!r)return;await y_.record({subscriptionId:r,dimensionType:b,quantity:x});const T=await wa.getUsage(r);c(T)},[r]),C=E.useCallback(async()=>{if(!r)return;const b=await wa.startNewBillingPeriod(r);i(b);const x=await wa.getUsage(r);c(x)},[r]);return{subscription:t,usage:s,loading:u,error:m,refresh:g,recordUsage:v,startNewBillingPeriod:C}}function D1(){const{id:r}=um(),{subscription:t,usage:i,loading:s,error:c,recordUsage:u,startNewBillingPeriod:h}=v_(r),[m,p]=E.useState(Vb.Pki),[g,v]=E.useState(10),[C,b]=E.useState(!1),[x,T]=E.useState(null),[N,j]=E.useState(!1),F=q=>to[q],H=async()=>{try{b(!0),T(null),await u(m,g),T({type:"success",message:`Success: ${g} ${F(m)}`})}catch(q){T({type:"error",message:"Failed to record usage"}),console.error(q)}finally{b(!1)}},M=async()=>{if(window.confirm("Reset Billing Period?"))try{j(!0),T(null),await h(),T({type:"success",message:"Success"})}catch(q){T({type:"error",message:"An error occurred. Please try again."}),console.error(q)}finally{j(!1)}};if(s)return l.jsx(ot,{showSidebar:!0,subscriptionId:r,children:l.jsxs("div",{className:"ct-dashboard ct-dashboard--loading",children:[l.jsx("div",{className:"ct-spinner ct-spinner--large"}),l.jsx("p",{children:"Loading..."})]})});if(c||!t||!i)return l.jsx(ot,{children:l.jsxs("div",{className:"ct-dashboard ct-dashboard--error",children:[l.jsx("h1",{children:"Dashboard"}),l.jsx("p",{children:c||"Failed to load subscription"}),l.jsx("p",{className:"ct-dashboard__hint",children:l.jsx(Xt,{to:"/pricing",children:"Pricing"})})]})});const X={[Dn.Active]:"Active",[Dn.Suspended]:"Suspended",[Dn.Cancelled]:"Cancelled"},Y={[Dn.Active]:"ct-status--active",[Dn.Suspended]:"ct-status--suspended",[Dn.Cancelled]:"ct-status--cancelled"},le=q=>new Date(q).toLocaleDateString("en-US");return l.jsx(ot,{showSidebar:!0,subscriptionId:r,children:l.jsxs("div",{className:"ct-dashboard",children:[x&&l.jsx(El,{type:x.type,message:x.message,onClose:()=>T(null)}),l.jsxs("header",{className:"ct-dashboard__header",children:[l.jsxs("div",{className:"ct-dashboard__header-info",children:[l.jsx("h1",{className:"ct-dashboard__title",children:t.companyName}),l.jsxs("div",{className:"ct-dashboard__meta",children:[l.jsx("span",{className:`ct-status ${Y[t.status]}`,children:X[t.status]}),l.jsxs("span",{className:"ct-dashboard__plan",children:[t.plan?.name," - $",t.plan?.monthlyPrice,"/month"]})]})]}),l.jsx("div",{className:"ct-dashboard__header-actions",children:l.jsx(Xt,{to:`/dashboard/${r}/history`,children:l.jsx(xe,{variant:"outline",children:"Usage History"})})})]}),l.jsx($e,{className:"ct-dashboard__billing-period",children:l.jsx(Ze,{children:l.jsxs("div",{className:"ct-billing-period",children:[l.jsxs("div",{className:"ct-billing-period__info",children:[l.jsx("h3",{children:"Billing Period"}),l.jsxs("p",{children:[le(i.billingPeriodStart)," - ",le(i.billingPeriodEnd)]})]}),l.jsxs("div",{className:"ct-billing-period__summary",children:[l.jsxs("div",{className:"ct-billing-period__item",children:[l.jsx("span",{className:"ct-billing-period__label",children:"Base Price"}),l.jsxs("span",{className:"ct-billing-period__value",children:["$",t.plan?.monthlyPrice.toFixed(2)]})]}),l.jsxs("div",{className:"ct-billing-period__item",children:[l.jsx("span",{className:"ct-billing-period__label",children:"Overage Charges"}),l.jsxs("span",{className:"ct-billing-period__value ct-billing-period__value--overage",children:["$",i.totalOverageCharges.toFixed(2)]})]}),l.jsxs("div",{className:"ct-billing-period__item ct-billing-period__item--total",children:[l.jsx("span",{className:"ct-billing-period__label",children:"Estimated Total"}),l.jsxs("span",{className:"ct-billing-period__value",children:["$",((t.plan?.monthlyPrice||0)+i.totalOverageCharges).toFixed(2)]})]})]})]})})}),l.jsxs($e,{className:"ct-dashboard__usage",children:[l.jsx(Ht,{children:l.jsx("h2",{children:"Usage Summary"})}),l.jsx(Ze,{children:l.jsx("div",{className:"ct-usage-grid",children:i.dimensions.map(q=>l.jsx(eI,{dimension:q},q.dimensionId))})})]}),l.jsxs($e,{className:"ct-dashboard__demo-controls",children:[l.jsxs(Ht,{children:[l.jsx("h2",{children:" Demo Controls"}),l.jsx("span",{className:"ct-demo-badge",children:"Demo Mode"})]}),l.jsxs(Ze,{children:[l.jsx("p",{className:"ct-demo-controls__description",children:"This application runs in demo mode, simulating Azure Marketplace billing without requiring actual Azure credentials. Perfect for testing and demonstration purposes."}),l.jsxs("div",{className:"ct-demo-controls__form",children:[l.jsxs("div",{className:"ct-input-group",children:[l.jsx("label",{className:"ct-label--primary",children:"Credential Type"}),l.jsx("select",{className:"ct-input--primary",value:m,onChange:q=>p(Number(q.target.value)),children:Object.entries(to).map(([q,ye])=>l.jsx("option",{value:q,children:F(Number(q))},q))})]}),l.jsxs("div",{className:"ct-input-group",children:[l.jsx("label",{className:"ct-label--primary",children:"Quantity"}),l.jsx("input",{type:"number",className:"ct-input--primary",value:g,onChange:q=>v(Math.max(1,parseInt(q.target.value)||1)),min:"1",max:"1000"})]}),l.jsx(xe,{variant:"primary",onClick:H,loading:C,children:"Simulate Usage"})]}),l.jsx("div",{className:"ct-demo-controls__divider"}),l.jsxs("div",{className:"ct-demo-controls__period",children:[l.jsx("h3",{children:"Billing Period"}),l.jsx("p",{children:"This application runs in demo mode, simulating Azure Marketplace billing without requiring actual Azure credentials. Perfect for testing and demonstration purposes."}),l.jsx(xe,{variant:"outline",onClick:M,loading:N,children:"Reset Billing Period"})]})]})]})]})})}function U1(){const{id:r}=um(),{subscription:t,loading:i,error:s}=v_(r);return i?l.jsx(ot,{showSidebar:!0,subscriptionId:r,children:l.jsxs("div",{className:"ct-usage-page ct-usage-page--loading",children:[l.jsx("div",{className:"ct-spinner ct-spinner--large"}),l.jsx("p",{children:"Loading..."})]})}):s||!t?l.jsx(ot,{children:l.jsxs("div",{className:"ct-usage-page ct-usage-page--error",children:[l.jsx("h1",{children:"Usage History"}),l.jsx("p",{children:s||"Failed to load subscription"}),l.jsx(Xt,{to:"/pricing",children:l.jsx(xe,{children:"Pricing"})})]})}):l.jsx(ot,{showSidebar:!0,subscriptionId:r,children:l.jsxs("div",{className:"ct-usage-page",children:[l.jsxs("header",{className:"ct-usage-page__header",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"ct-usage-page__title",children:"Usage History"}),l.jsxs("p",{className:"ct-usage-page__subtitle",children:[t.companyName," - ",t.plan?.name]})]}),l.jsx(Xt,{to:`/dashboard/${r}`,children:l.jsx(xe,{variant:"outline",children:"Back"})})]}),l.jsxs($e,{children:[l.jsx(Ht,{children:l.jsx("h2",{children:"Usage History"})}),l.jsx(Ze,{children:l.jsx(I1,{subscriptionId:r})})]})]})})}function L1(){const r=Vr(),[t,i]=E.useState(!1),[s,c]=E.useState(""),[u,h]=E.useState(null),[m,p]=E.useState(!1),[g,v]=E.useState(null),[C,b]=E.useState(null),[x,T]=E.useState(null),[N,j]=E.useState(!1),[F,H]=E.useState("overview"),[M,X]=E.useState(null);E.useEffect(()=>{t&&le()},[t]);const Y=async ee=>{ee.preventDefault(),p(!0),h(null),await Qc.verifyPassword(s)?i(!0):h("Invalid password"),p(!1)},le=async()=>{try{j(!0);const[ee,Qe,We]=await Promise.all([Qc.getDashboardStats(s),Qc.getSubscriptions(s),Qc.getUsageEvents(s)]);v(ee),b(Qe),T(We)}catch(ee){console.error("Failed to load admin data:",ee)}finally{j(!1)}},q={[Dn.Active]:"Active",[Dn.Suspended]:"Suspended",[Dn.Cancelled]:"Cancelled"},ye=ee=>new Date(ee).toLocaleDateString("en-US"),Ne=ee=>new Date(ee).toLocaleString("en-US"),at=[{key:"companyName",header:"Company"},{key:"plan",header:"Plan",render:ee=>ee.plan?.name||ee.planId},{key:"status",header:"Status",render:ee=>l.jsx("span",{className:`ct-status-badge ct-status-badge--${Dn[ee.status].toLowerCase()}`,children:q[ee.status]})},{key:"startDate",header:"Start Date",render:ee=>ye(ee.startDate)},{key:"customerEmail",header:"Customer",render:ee=>ee.customerEmail}],lt=[{key:"createdAt",header:"Date",render:ee=>Ne(ee.createdAt)},{key:"resourceId",header:"Subscription",render:ee=>ee.resourceId.substring(0,8)+"..."},{key:"dimension",header:"Dimension"},{key:"quantity",header:"Quantity"},{key:"amount",header:"Amount",render:ee=>`$${ee.amount.toFixed(2)}`},{key:"status",header:"Status",render:ee=>l.jsx("span",{className:`ct-status-badge ct-status-badge--${ee.status.toLowerCase()}`,children:ee.status})}];return t?N&&!g?l.jsx(ot,{children:l.jsxs("div",{className:"ct-admin ct-admin--loading",children:[l.jsx("div",{className:"ct-spinner ct-spinner--large"}),l.jsx("p",{children:"Loading..."})]})}):l.jsx(ot,{children:l.jsxs("div",{className:"ct-admin",children:[l.jsxs("header",{className:"ct-admin__header",children:[l.jsx("h1",{className:"ct-admin__title",children:"Admin Dashboard"}),l.jsx(xe,{variant:"outline",onClick:le,disabled:N,children:N?"Loading...":"Submit"})]}),l.jsxs("div",{className:"ct-admin__stats",children:[l.jsx($e,{className:"ct-stat-card",children:l.jsxs(Ze,{children:[l.jsx("div",{className:"ct-stat-card__icon",children:""}),l.jsx("div",{className:"ct-stat-card__value",children:g?.totalActiveSubscriptions||0}),l.jsx("div",{className:"ct-stat-card__label",children:"Active Subscriptions"})]})}),l.jsx($e,{className:"ct-stat-card",children:l.jsxs(Ze,{children:[l.jsx("div",{className:"ct-stat-card__icon",children:""}),l.jsxs("div",{className:"ct-stat-card__value",children:["$",g?.monthlyRecurringRevenue.toFixed(2)||"0.00"]}),l.jsx("div",{className:"ct-stat-card__label",children:"Total Revenue"})]})}),l.jsx($e,{className:"ct-stat-card",children:l.jsxs(Ze,{children:[l.jsx("div",{className:"ct-stat-card__icon",children:""}),l.jsxs("div",{className:"ct-stat-card__value",children:["$",g?.totalMeteredRevenue.toFixed(2)||"0.00"]}),l.jsx("div",{className:"ct-stat-card__label",children:"Total Overage"})]})}),l.jsx($e,{className:"ct-stat-card",children:l.jsxs(Ze,{children:[l.jsx("div",{className:"ct-stat-card__icon",children:""}),l.jsx("div",{className:"ct-stat-card__value",children:g?.usageEventsToday||0}),l.jsx("div",{className:"ct-stat-card__label",children:"Billing Events"})]})})]}),l.jsxs("div",{className:"ct-admin__tabs",children:[l.jsx("button",{className:`ct-admin__tab ${F==="overview"?"ct-admin__tab--active":""}`,onClick:()=>H("overview"),children:"Overview"}),l.jsx("button",{className:`ct-admin__tab ${F==="subscriptions"?"ct-admin__tab--active":""}`,onClick:()=>H("subscriptions"),children:"Subscriptions"}),l.jsx("button",{className:`ct-admin__tab ${F==="events"?"ct-admin__tab--active":""}`,onClick:()=>H("events"),children:"Billing Events"})]}),F==="overview"&&l.jsx("div",{className:"ct-admin__overview",children:l.jsxs($e,{children:[l.jsx(Ht,{children:l.jsx("h2",{children:"Subscriptions"})}),l.jsx(Ze,{children:l.jsxs("div",{className:"ct-plan-distribution",children:[g?.subscriptionsByPlan&&Object.entries(g.subscriptionsByPlan).map(([ee,Qe])=>l.jsxs("div",{className:"ct-plan-distribution__item",children:[l.jsx("span",{className:"ct-plan-distribution__plan",children:ee}),l.jsx("div",{className:"ct-plan-distribution__bar",children:l.jsx("div",{className:"ct-plan-distribution__fill",style:{width:`${Qe/(g.totalActiveSubscriptions||1)*100}%`}})}),l.jsx("span",{className:"ct-plan-distribution__count",children:Qe})]},ee)),(!g?.subscriptionsByPlan||Object.keys(g.subscriptionsByPlan).length===0)&&l.jsx("p",{className:"ct-admin__empty",children:"No usage history available"})]})})]})}),F==="subscriptions"&&l.jsxs($e,{children:[l.jsx(Ht,{children:l.jsx("h2",{children:"Subscriptions"})}),l.jsx(Ze,{children:l.jsx($h,{columns:at,data:C?.data||[],keyExtractor:ee=>ee.id,onRowClick:ee=>r(`/dashboard/${ee.id}`),emptyMessage:"No usage history available"})})]}),F==="events"&&l.jsxs($e,{children:[l.jsxs(Ht,{children:[l.jsx("h2",{children:"Billing Events"}),l.jsx("p",{className:"ct-admin__events-description",children:"This is the exact JSON payload that would be sent to the Azure Marketplace Metered Billing API."})]}),l.jsx(Ze,{children:l.jsx($h,{columns:lt,data:x?.data||[],keyExtractor:ee=>ee.id,onRowClick:ee=>X(ee),emptyMessage:"No usage history available"})})]}),l.jsx(Al,{isOpen:!!M,onClose:()=>X(null),title:"Azure Metered Billing API Payload",size:"medium",children:M&&l.jsxs("div",{className:"ct-event-detail",children:[l.jsx("h3",{children:"Azure Metered Billing API Payload"}),l.jsx("pre",{className:"ct-event-detail__json",children:JSON.stringify({resourceId:M.resourceId,planId:M.planId,dimension:M.dimension,quantity:M.quantity,effectiveStartTime:M.effectiveStartTime},null,2)}),l.jsxs("div",{className:"ct-event-detail__info",children:[l.jsxs("div",{className:"ct-event-detail__row",children:[l.jsx("span",{children:"Status:"}),l.jsx("span",{className:`ct-status-badge ct-status-badge--${M.status.toLowerCase()}`,children:M.status})]}),l.jsxs("div",{className:"ct-event-detail__row",children:[l.jsx("span",{children:"Amount:"}),l.jsxs("span",{children:["$",M.amount.toFixed(2)]})]}),l.jsxs("div",{className:"ct-event-detail__row",children:[l.jsx("span",{children:"Date:"}),l.jsx("span",{children:Ne(M.createdAt)})]})]})]})})]})}):l.jsx(ot,{children:l.jsx("div",{className:"ct-admin-login",children:l.jsxs($e,{className:"ct-admin-login__card",children:[l.jsx(Ht,{children:l.jsx("h1",{children:"Admin Dashboard"})}),l.jsx(Ze,{children:l.jsxs("form",{onSubmit:Y,className:"ct-admin-login__form",children:[u&&l.jsx(El,{type:"error",message:u,autoClose:!1}),l.jsxs("div",{className:"ct-input-group",children:[l.jsx("label",{className:"ct-label--primary",children:"Enter Admin Password"}),l.jsx("input",{type:"password",className:"ct-input--primary",value:s,onChange:ee=>c(ee.target.value),placeholder:"Password",required:!0})]}),l.jsx(xe,{variant:"primary",type:"submit",loading:m,children:"Login"})]})})]})})})}function P1(){return l.jsx(ot,{children:l.jsxs("div",{className:"ct-privacy-policy",children:[l.jsxs("div",{className:"ct-privacy-header",children:[l.jsx("h1",{children:"Privacy Policy"}),l.jsx("p",{className:"ct-privacy-subtitle",children:"ComsignTrust CCMS Commercial Platform"})]}),l.jsxs("div",{className:"ct-privacy-content",children:[l.jsxs("section",{className:"ct-privacy-section",children:[l.jsx("h2",{children:"In this Privacy Policy, we describe how we collect, store, and use your data"}),l.jsx("p",{children:"We use your personal data to provide you with the best service for you. We take our responsibility seriously to handle your data and we are committed to protecting your privacy. There are steps you can take in order to control what we do with your data and we will explain the following steps in this privacy policy."}),l.jsx("p",{children:"When we talk about data and personal data in this privacy policy, we mean personal data that identifies you or can be used to identify you, such as your name and contact information. This may also include information on how you use our websites and applications."})]}),l.jsxs("section",{className:"ct-privacy-section",children:[l.jsx("h2",{children:"Responsibility for the information"}),l.jsx("p",{children:"ComsignTrust Ltd. is responsible for your information. Our address is Kiryat Atidim Building 4, Tel Aviv, Israel, Zip Code: 61580. We are the controller of the personal information we collect from you  which means that we control your personal data collection methods and the goals for which they are collected and processed."})]}),l.jsxs("section",{className:"ct-privacy-section",children:[l.jsx("h2",{children:"Personal information we collect"}),l.jsx("p",{children:"Depending on your use of the CCMS Commercial Platform, here is the information we collect:"}),l.jsx("div",{className:"ct-privacy-table-wrapper",children:l.jsxs("table",{className:"ct-privacy-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"When we collect"}),l.jsx("th",{children:"What we collect"})]})}),l.jsxs("tbody",{children:[l.jsxs("tr",{children:[l.jsx("td",{children:"When you subscribe through Azure Marketplace"}),l.jsx("td",{children:"Contact details (name, email address, company name), Azure subscription information"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:"When you use our services"}),l.jsx("td",{children:"Usage data, service interaction logs, feature utilization metrics"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:"When you contact us for support"}),l.jsx("td",{children:"Communication records (emails, support tickets, chat messages)"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:"When you use our platform"}),l.jsx("td",{children:"Information about your activity, preferences, and service configuration"})]})]})]})})]}),l.jsxs("section",{className:"ct-privacy-section",children:[l.jsx("h2",{children:"Sensitive personal information"}),l.jsx("p",{children:"Certain types of personal information such as medical, biometric, racial, religious, etc. are sensitive information that requires separate attention and protection because of its importance. We do not require such information for the CCMS Commercial Platform services."})]}),l.jsxs("section",{className:"ct-privacy-section",children:[l.jsx("h2",{children:"How we use personal information"}),l.jsx("p",{children:"We may use personal information only when we have a reasonable reason to do so. According to the GDPR, we may only use the information in one or more of the following cases:"}),l.jsxs("ol",{children:[l.jsx("li",{children:"The information is necessary to fulfill a contract between us"}),l.jsx("li",{children:"The information is necessary for compliance with the law"}),l.jsx("li",{children:"When you agree to it (give us your consent)"}),l.jsx("li",{children:"When it is part of our legitimate interest as an organization"})]}),l.jsx("p",{children:"Legitimate interests are our business or marketing reasons for using your data, but we will not place our legitimate interests above your best interests."}),l.jsx("div",{className:"ct-privacy-table-wrapper",children:l.jsxs("table",{className:"ct-privacy-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"What we use your data for"}),l.jsx("th",{children:"Lawful basis"}),l.jsx("th",{children:"Our legitimate interest"})]})}),l.jsxs("tbody",{children:[l.jsxs("tr",{children:[l.jsx("td",{children:"Provide CCMS services and manage your subscription"}),l.jsx("td",{children:"Fulfilling a contract between us"}),l.jsx("td",{children:"Be effective about how we comply with our contracts and provide our services"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:"Communicate with you about your subscription and usage"}),l.jsx("td",{children:"Fulfilling a contract, Our legitimate interest"}),l.jsx("td",{children:"Keeping our records updated and providing relevant service information"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:"Process billing and usage-based charges through Azure"}),l.jsx("td",{children:"Fulfilling a contract, Legal duty"}),l.jsx("td",{children:"Manage our business efficiently including accounting and billing"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:"Improve our services and develop new features"}),l.jsx("td",{children:"Our legitimate interest, Your consent"}),l.jsx("td",{children:"Development of services and products"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:"Respond to support requests and complaints"}),l.jsx("td",{children:"Fulfilling a contract, Our legitimate interest"}),l.jsx("td",{children:"Identifying customer needs and improving service quality"})]})]})]})})]}),l.jsxs("section",{className:"ct-privacy-section",children:[l.jsx("h2",{children:"Marketing communications"}),l.jsx("p",{children:"We may send you email marketing communications if you indicate that you wish to receive such emails. Our marketing communications include information about our new and existing services, special offers we believe you may like, and other products that we believe may be useful to you."}),l.jsx("p",{children:"If you've previously opted in to receive emails from us, you can opt out of receiving marketing emails by clicking the link to unsubscribe from all of our marketing emails."}),l.jsx("p",{children:"Please note that if you let us know that you do not wish to receive marketing emails, you will still receive service emails related to your subscription, usage alerts, and important service updates."})]}),l.jsxs("section",{className:"ct-privacy-section",children:[l.jsx("h2",{children:"Data retention"}),l.jsx("p",{children:"We save your data only as long as we need it. The amount of time we need your data depends on our use of that data, whether it is to provide you with services, for our legitimate interests (described above), or to comply with the law."}),l.jsx("p",{children:"We will actively review the information we hold and when there is no longer a need for a customer, legal need or business need to hold the information, we will delete it securely or in some cases make it anonymous."})]}),l.jsxs("section",{className:"ct-privacy-section",children:[l.jsx("h2",{children:"How we protect your information"}),l.jsx("p",{children:"We protect your personal data from unauthorized access, illegal use, loss, manipulation, or destruction. We use technical means such as encryption and password protection to protect the data and the systems in which they are held."}),l.jsx("p",{children:"We also use operational data protection measures, for example by limiting the number of people who have access to the databases in which the information is held."}),l.jsx("p",{children:"We maintain these security measures in review and address industry security standards to keep up to date on best practices."})]}),l.jsxs("section",{className:"ct-privacy-section",children:[l.jsx("h2",{children:"Sharing your data"}),l.jsx("p",{children:"We share some of your personal data with or receive personal data from the following categories of third parties:"}),l.jsxs("ol",{children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Microsoft Azure:"})," Your subscription and usage information is shared with Microsoft Azure for billing and marketplace integration purposes."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Payment processors:"})," To process payments, prevent, and identify fraud, we process payment information through Microsoft Azure Marketplace billing."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Service providers:"})," We may share your data with companies that provide us with products and/or services that are relevant to delivering our services to you. We will ensure that our suppliers respect your personal data and comply with data protection laws."]})]})]}),l.jsxs("section",{className:"ct-privacy-section",children:[l.jsx("h2",{children:"Your rights"}),l.jsxs("ol",{children:[l.jsx("li",{children:"You are entitled to see copies of all of your personal data that we hold, to request correction or deletion of such data. You can also restrict or resist processing your data."}),l.jsx("li",{children:"If you've given us your consent to use your data, such as to be able to send you marketing emails, you can opt out at any time."}),l.jsx("li",{children:"You may object to our use of your data in the event that we rely on our legitimate interests to do so."}),l.jsxs("li",{children:["To raise any objection, remove consent or exercise your rights, you may email us at ",l.jsx("a",{href:"mailto:support@comda.co.il",children:"support@comda.co.il"}),"."]}),l.jsxs("li",{children:["You may also contact the Company's Data Protection Officer (DPO) directly at ",l.jsx("a",{href:"mailto:yaire@comda.co.il",children:"yaire@comda.co.il"}),"."]})]}),l.jsx("p",{children:"When you contact us, we will get back to you as soon as possible and when possible within less than a month. If your request is more complicated, we may respond to you with a slight delay, but not later than two months since the request."})]}),l.jsxs("section",{className:"ct-privacy-section",children:[l.jsx("h2",{children:"Complaints"}),l.jsxs("p",{children:["If you have complaints regarding the processing of your personal data by ComsignTrust, please email us at ",l.jsx("a",{href:"mailto:support@comda.co.il",children:"support@comda.co.il"})," or by mail to the company's offices at Kiryat Atidim 4, Tel Aviv, Israel 61580."]}),l.jsxs("p",{children:["In addition, you can contact the Company's Data Protection Officer (DPO) directly at ",l.jsx("a",{href:"mailto:yaire@comda.co.il",children:"yaire@comda.co.il"}),"."]}),l.jsx("p",{children:"Please note that you have the right to file a complaint with the regulatory authority responsible for protecting personal data in the country in which you live or work, in case you believe that data protection laws are in violation."})]}),l.jsxs("section",{className:"ct-privacy-section",children:[l.jsx("h2",{children:"Contact us"}),l.jsxs("p",{children:["For any matter relating to the protection of privacy and the use of your personal data, please send an email to ",l.jsx("a",{href:"mailto:support@comda.co.il",children:"support@comda.co.il"})," or by mail to the company's offices at:"]}),l.jsxs("address",{className:"ct-privacy-address",children:[l.jsx("strong",{children:"ComsignTrust Ltd."}),l.jsx("br",{}),"Atidim Tech Park, Building #4",l.jsx("br",{}),"P.O.Box 58007",l.jsx("br",{}),"Tel-Aviv 61580, Israel",l.jsx("br",{}),l.jsx("br",{}),l.jsx("strong",{children:"Email:"})," ",l.jsx("a",{href:"mailto:info@comsigntrust.com",children:"info@comsigntrust.com"}),l.jsx("br",{}),l.jsx("strong",{children:"Phone:"})," +972-3-6485255",l.jsx("br",{}),l.jsx("strong",{children:"Fax:"})," +972-3-6474206"]}),l.jsxs("p",{children:["You can also contact the Company's Data Protection Officer (DPO) directly at ",l.jsx("a",{href:"mailto:yaire@comda.co.il",children:"yaire@comda.co.il"}),"."]})]}),l.jsxs("section",{className:"ct-privacy-section ct-privacy-footer",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Last updated:"})," January 2026"]}),l.jsx("p",{className:"ct-privacy-copyright",children:"ComsignTrust  The Most Secured Digital Signature Solution. ComsignTrust, SIGNER-1, CCMS, and other service names are the trademarks and copyright of ComsignTrust Ltd."})]})]})]})})}function z1(){return l.jsx(ot,{children:l.jsxs("div",{className:"ct-support-page",children:[l.jsxs("div",{className:"ct-support-header",children:[l.jsx("h1",{children:"Support"}),l.jsx("p",{className:"ct-support-subtitle",children:"ComsignTrust CCMS Commercial Platform"})]}),l.jsxs("div",{className:"ct-support-content",children:[l.jsxs($e,{children:[l.jsx(Ht,{children:l.jsx("h2",{children:"Contact Support"})}),l.jsx(Ze,{children:l.jsxs("div",{className:"ct-support-contact-grid",children:[l.jsxs("div",{className:"ct-support-contact-item",children:[l.jsx("div",{className:"ct-support-contact-icon",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),l.jsx("polyline",{points:"22,6 12,13 2,6"})]})}),l.jsxs("div",{className:"ct-support-contact-details",children:[l.jsx("h3",{children:"Email"}),l.jsx("a",{href:"mailto:support@comsigntrust.com",children:"support@comsigntrust.com"})]})]}),l.jsxs("div",{className:"ct-support-contact-item",children:[l.jsx("div",{className:"ct-support-contact-icon",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:l.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})})}),l.jsxs("div",{className:"ct-support-contact-details",children:[l.jsx("h3",{children:"Phone"}),l.jsx("a",{href:"tel:+972-3-6485255",children:"+972-3-6485255"})]})]}),l.jsxs("div",{className:"ct-support-contact-item",children:[l.jsx("div",{className:"ct-support-contact-icon",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),l.jsx("circle",{cx:"12",cy:"10",r:"3"})]})}),l.jsxs("div",{className:"ct-support-contact-details",children:[l.jsx("h3",{children:"Address"}),l.jsxs("address",{children:["Atidim Tech Park, Building #4",l.jsx("br",{}),"Tel-Aviv 61580, Israel"]})]})]}),l.jsxs("div",{className:"ct-support-contact-item",children:[l.jsx("div",{className:"ct-support-contact-icon",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("circle",{cx:"12",cy:"12",r:"10"}),l.jsx("polyline",{points:"12 6 12 12 16 14"})]})}),l.jsxs("div",{className:"ct-support-contact-details",children:[l.jsx("h3",{children:"Business Hours"}),l.jsxs("p",{children:["Sunday - Thursday",l.jsx("br",{}),"09:00 - 17:00 (IST)"]})]})]})]})})]}),l.jsxs($e,{children:[l.jsx(Ht,{children:l.jsx("h2",{children:"How Can We Help?"})}),l.jsx(Ze,{children:l.jsxs("div",{className:"ct-support-options",children:[l.jsxs("div",{className:"ct-support-option",children:[l.jsx("h3",{children:"Technical Support"}),l.jsx("p",{children:"For technical issues, API questions, or integration support with the CCMS Commercial Platform, please contact our technical team."}),l.jsx("a",{href:"mailto:support@comsigntrust.com?subject=Technical Support - CCMS Commercial Platform",className:"ct-support-link",children:"Contact Technical Support"})]}),l.jsxs("div",{className:"ct-support-option",children:[l.jsx("h3",{children:"Billing & Subscriptions"}),l.jsx("p",{children:"For questions about your Azure Marketplace subscription, billing, usage, or plan changes."}),l.jsx("a",{href:"mailto:support@comsigntrust.com?subject=Billing Inquiry - CCMS Commercial Platform",className:"ct-support-link",children:"Contact Billing Support"})]}),l.jsxs("div",{className:"ct-support-option",children:[l.jsx("h3",{children:"Sales & General Inquiries"}),l.jsx("p",{children:"For sales questions, partnership opportunities, or general information about ComsignTrust products."}),l.jsx("a",{href:"mailto:info@comsigntrust.com?subject=Sales Inquiry - CCMS Commercial Platform",className:"ct-support-link",children:"Contact Sales"})]})]})})]}),l.jsxs($e,{children:[l.jsx(Ht,{children:l.jsx("h2",{children:"Resources"})}),l.jsx(Ze,{children:l.jsxs("div",{className:"ct-support-resources",children:[l.jsxs("a",{href:"https://www.comsigntrust.com",target:"_blank",rel:"noopener noreferrer",className:"ct-support-resource",children:[l.jsx("span",{className:"ct-support-resource-title",children:"ComsignTrust Website"}),l.jsx("span",{className:"ct-support-resource-desc",children:"Learn more about our products and solutions"})]}),l.jsxs("a",{href:"/privacy-policy",className:"ct-support-resource",children:[l.jsx("span",{className:"ct-support-resource-title",children:"Privacy Policy"}),l.jsx("span",{className:"ct-support-resource-desc",children:"How we handle your data"})]})]})})]}),l.jsxs("div",{className:"ct-support-footer",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"ComsignTrust Ltd."})," - The Most Secured Digital Signature Solution"]}),l.jsxs("p",{className:"ct-support-copyright",children:[" ",new Date().getFullYear()," ComsignTrust Ltd. All Rights Reserved."]})]})]})]})})}async function H1(){const r=await fetch("/api/config");if(!r.ok)throw new Error("Failed to fetch configuration from server");return r.json()}function B1(r){return{auth:{clientId:r.entraId.clientId,authority:r.entraId.authority,redirectUri:r.entraId.redirectUri,postLogoutRedirectUri:r.entraId.postLogoutRedirectUri},cache:{cacheLocation:"sessionStorage"},system:{loggerOptions:{logLevel:0,loggerCallback:(t,i,s)=>{if(!s)switch(t){case 0:console.error("[MSAL]",i);break;case 1:console.warn("[MSAL]",i);break;case 2:console.info("[MSAL]",i);break;case 3:console.debug("[MSAL]",i);break}},piiLoggingEnabled:!1}}}}const K1={auth:{clientId:"5aa80cab-8812-4ea5-8052-2bf21e289e68",authority:"https://login.microsoftonline.com/common",redirectUri:typeof window<"u"?`${window.location.origin}/azure-landing`:"http://localhost:5173/azure-landing",postLogoutRedirectUri:"/"},cache:{cacheLocation:"sessionStorage"},system:{loggerOptions:{logLevel:0,loggerCallback:(r,t,i)=>{if(!i)switch(r){case 0:console.error("[MSAL]",t);break;case 1:console.warn("[MSAL]",t);break;case 2:console.info("[MSAL]",t);break;case 3:console.debug("[MSAL]",t);break}},piiLoggingEnabled:!1}}},F1={scopes:["User.Read","openid","profile","email"]},G1={graphMeEndpoint:"https://graph.microsoft.com/v1.0/me",graphMeOrgEndpoint:"https://graph.microsoft.com/v1.0/me?$select=displayName,givenName,surname,mail,jobTitle,companyName,mobilePhone,country,preferredLanguage"},q1={scopes:["User.Read"]};function V1(r){const t=r.idTokenClaims||{};return{objectId:t.oid||r.localAccountId,tenantId:t.tid||r.tenantId,preferredUsername:t.preferred_username||r.username,name:t.name||"",email:t.email||r.username,givenName:t.given_name,surname:t.family_name}}async function Y1(r){try{const t=await fetch(G1.graphMeOrgEndpoint,{headers:{Authorization:`Bearer ${r}`}});if(!t.ok)return console.warn("[EntraAuth] Graph API returned non-OK status:",t.status),{};const i=await t.json();return{displayName:i.displayName,givenName:i.givenName,surname:i.surname,email:i.mail||i.userPrincipalName,jobTitle:i.jobTitle,companyName:i.companyName,mobilePhone:i.mobilePhone,country:i.country,preferredLanguage:i.preferredLanguage}}catch(t){return console.warn("[EntraAuth] Failed to fetch Graph user info:",t),{}}}function Q1(){const{instance:r,accounts:t,inProgress:i}=Ab(),s=pj(),[c,u]=E.useState(null),[h,m]=E.useState(null),[p,g]=E.useState(!1),v=t[0]||null,C=E.useCallback(async()=>{try{m(null),await r.loginRedirect(F1)}catch(N){console.error("[EntraAuth] Login failed:",N),m("Failed to sign in. Please try again.")}},[r]),b=E.useCallback(async()=>{try{await r.logoutRedirect({postLogoutRedirectUri:"/"})}catch(N){console.error("[EntraAuth] Logout failed:",N)}},[r]),x=E.useCallback(async()=>{if(v){g(!0),m(null);try{const N=V1(v);let j={};try{const H=await r.acquireTokenSilent({...q1,account:v});H.accessToken&&(j=await Y1(H.accessToken))}catch(H){H instanceof wn?console.info("[EntraAuth] Token acquisition requires interaction"):console.warn("[EntraAuth] Silent token acquisition failed:",H)}const F={objectId:N.objectId||"",tenantId:N.tenantId||"",preferredUsername:N.preferredUsername||"",name:j.displayName||N.name||"",email:j.email||N.email||N.preferredUsername||"",givenName:j.givenName||N.givenName,surname:j.surname||N.surname,displayName:j.displayName||N.name,jobTitle:j.jobTitle,companyName:j.companyName,mobilePhone:j.mobilePhone,country:j.country,preferredLanguage:j.preferredLanguage};u(F)}catch(N){console.error("[EntraAuth] Failed to refresh user info:",N),m("Failed to load user information.")}finally{g(!1)}}},[v,r]);E.useEffect(()=>{s&&v&&!c&&i===Ct.None&&x()},[s,v,c,i,x]),E.useEffect(()=>{if(!s&&i===Ct.None&&t.length===0){const N=setTimeout(()=>{},100);return()=>clearTimeout(N)}},[s,i,t.length]);const T=i!==Ct.None||p;return{isAuthenticated:s,isLoading:T,userInfo:c,error:h,account:v,login:C,logout:b,refreshUserInfo:x}}function J1(){const[r]=KO(),t=r.get("token"),{isAuthenticated:i,isLoading:s,userInfo:c,error:u,login:h}=Q1(),[m,p]=E.useState("sign-in"),[g,v]=E.useState(null),[C,b]=E.useState(!1),[x,T]=E.useState(!1),[N,j]=E.useState(!1),[F,H]=E.useState(null),[M,X]=E.useState(null),[Y,le]=E.useState([]),[q,ye]=E.useState(""),[Ne,at]=E.useState(""),[lt,ee]=E.useState(""),[Qe,We]=E.useState(""),[St,L]=E.useState(""),[Q,ne]=E.useState(""),[Ae,we]=E.useState(""),[A,B]=E.useState(""),[J,W]=E.useState(""),[de,ve]=E.useState(""),[fe,tt]=E.useState({}),[Fe,_i]=E.useState(""),[$n,Ha]=E.useState(""),[Jr,Bn]=E.useState(""),[tn,Zn]=E.useState({});E.useEffect(()=>{i&&m==="sign-in"&&p("resolving")},[i,m]),E.useEffect(()=>{if(!i||m!=="resolving")return;if(!t){v("No token provided. Please access this page from Azure Marketplace.");return}(async()=>{try{b(!0);const ue=await Xs.resolveToken({token:t});H(ue);const se=await Xs.getAvailableFeatures();le(se.map(Re=>({...Re,isEnabled:!1,quantity:Re.minQuantity}))),p("customer-info")}catch(ue){console.error("Failed to resolve token:",ue);let se="Failed to resolve marketplace token.";if(ue&&typeof ue=="object"){const Re=ue;Re.response?.data?.error?se=Re.response.data.error:Re.response?.data?.message?se=Re.response.data.message:Re.message&&(se=Re.message)}v(se)}finally{b(!1)}})()},[i,m,t]),E.useEffect(()=>{if(c&&!N&&m==="customer-info"){if(c.displayName||c.name?ye(c.displayName||c.name):c.givenName&&c.surname&&ye(`${c.givenName} ${c.surname}`),c.email&&at(c.email),c.companyName&&ee(c.companyName),c.mobilePhone&&We(c.mobilePhone),c.jobTitle&&L(c.jobTitle),c.country){const ue={"United States":"US",USA:"US",Israel:"IL","United Kingdom":"GB",UK:"GB",Germany:"DE",France:"FR",Canada:"CA",Australia:"AU"}[c.country];ue?ne(ue):(ne("XX"),we(c.country))}j(!0)}},[c,N,m]);const Yl=async $=>{if($.preventDefault(),!F)return;const ue=Q||"XX";Q||ne("XX");let se=!0;const Re={};B(""),q.trim()?q.trim().length<2&&(Re.customerName="Full name must be at least 2 characters",se=!1):(Re.customerName="Full name is required",se=!1);const Dt=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;Ne.trim()?Dt.test(Ne.trim())||(Re.customerEmail="Please enter a valid email address",se=!1):(Re.customerEmail="Email address is required",se=!1),lt.trim()?lt.trim().length<2&&(Re.companyName="Company name must be at least 2 characters",se=!1):(Re.companyName="Company name is required",se=!1),Qe.trim()&&(/^[+]?[\d\s\-().]{7,20}$/.test(Qe.trim())||(Re.phoneNumber="Please enter a valid phone number (7-20 characters)",se=!1)),tt(Re),ue==="XX"&&!Ae.trim()?(W("Please specify your country"),se=!1):W("");const jt={};Fe.trim()?/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(Fe.trim())||(jt.clientId="Please enter a valid GUID format (e.g., 12345678-1234-1234-1234-123456789abc)",se=!1):(jt.clientId="Application (Client) ID is required",se=!1),$n.trim()?$n.trim().length<10&&(jt.clientSecret="Client Secret appears too short. Please verify you copied the full value.",se=!1):(jt.clientSecret="Client Secret is required",se=!1);const bt=Jr.trim()||c?.tenantId||"";if(bt?/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(bt)||(jt.tenantId="Please enter a valid GUID format (e.g., 12345678-1234-1234-1234-123456789abc)",se=!1):(jt.tenantId="Directory (Tenant) ID is required",se=!1),Zn(jt),!!se)try{b(!0),v(null);const Ka=await Xs.submitCustomerInfo({marketplaceSubscriptionId:F.marketplaceSubscriptionId,customerName:q,customerEmail:Ne,companyName:lt,phoneNumber:Qe,jobTitle:St,countryCode:ue,countryOther:ue==="XX"?Ae:void 0,comments:de,entraClientId:Fe.trim(),entraClientSecret:$n.trim(),entraTenantId:bt});X(Ka),p("feature-selection")}catch(Ka){console.error("Failed to submit customer info:",Ka),v("Failed to submit customer information. Please try again.")}finally{b(!1)}},So=$=>{le(ue=>ue.map(se=>se.featureId===$?{...se,isEnabled:!se.isEnabled}:se))},ra=($,ue)=>{le(se=>se.map(Re=>Re.featureId===$?{...Re,quantity:Math.max(Re.minQuantity,Math.min(Re.maxQuantity,ue))}:Re))},Xr=async()=>{if(!(!F||x||C))try{b(!0),v(null);const $=Y.filter(se=>se.isEnabled).map(se=>({featureId:se.featureId,featureName:se.featureName,isEnabled:!0,quantity:se.quantity,pricePerUnit:se.pricePerUnit}));$.length>0&&await Xs.submitFeatureSelection({marketplaceSubscriptionId:F.marketplaceSubscriptionId,features:$});const ue=await Xs.finalizeSubscription({marketplaceSubscriptionId:F.marketplaceSubscriptionId});X(ue),T(!0),p("thank-you")}catch($){console.error("Failed to finalize subscription:",$);let ue="Failed to finalize subscription. Please try again.";if($&&typeof $=="object"){const se=$;se.response?.data?.error?ue=se.response.data.error:se.response?.data?.message?ue=se.response.data.message:se.message&&(ue=se.message)}v(ue)}finally{b(!1)}},$r=()=>Y.filter($=>$.isEnabled).reduce(($,ue)=>$+ue.quantity*ue.pricePerUnit,0),Ql=()=>{switch(m){case"sign-in":return 1;case"resolving":return 2;case"customer-info":return 3;case"feature-selection":return 4;case"thank-you":return 5;default:return 1}},Jl=()=>{const $=[{num:1,label:"Sign In"},{num:2,label:"Verification"},{num:3,label:"Your Details"},{num:4,label:"Choose Tokens"},{num:5,label:"Complete"}],ue=Ql();return l.jsx("div",{className:"ct-wizard-steps",children:$.map((se,Re)=>l.jsxs("div",{className:`ct-wizard-step ${se.num<ue?"ct-wizard-step--completed":""} ${se.num===ue?"ct-wizard-step--active":""}`,children:[l.jsx("div",{className:"ct-wizard-step__number",children:se.num<ue?"":se.num}),l.jsx("div",{className:"ct-wizard-step__label",children:se.label}),Re<$.length-1&&l.jsx("div",{className:"ct-wizard-step__line"})]},se.num))})},Rt=()=>l.jsx($e,{children:l.jsx(Ze,{children:l.jsxs("div",{className:"ct-sign-in",children:[l.jsx("div",{className:"ct-sign-in__icon",children:""}),l.jsx("h2",{children:"Sign in to Continue"}),l.jsx("p",{className:"ct-sign-in__message",children:"To complete your Azure Marketplace subscription setup, please sign in with your Microsoft account. This verifies your identity and allows us to securely configure your subscription."}),u&&l.jsxs("div",{className:"ct-sign-in__error",children:[l.jsx("span",{children:""})," ",u]}),!t&&l.jsxs("div",{className:"ct-sign-in__warning",children:[l.jsx("span",{children:""}),l.jsx("p",{children:"No marketplace token detected. Please access this page from Azure Marketplace."})]}),l.jsx("div",{className:"ct-sign-in__actions",children:l.jsx(xe,{variant:"primary",size:"large",onClick:h,disabled:s||!t,children:s?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"ct-spinner ct-spinner--small"}),"Signing in..."]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"ct-sign-in__ms-icon",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"21",viewBox:"0 0 21 21",children:[l.jsx("rect",{x:"1",y:"1",width:"9",height:"9",fill:"#f25022"}),l.jsx("rect",{x:"11",y:"1",width:"9",height:"9",fill:"#7fba00"}),l.jsx("rect",{x:"1",y:"11",width:"9",height:"9",fill:"#00a4ef"}),l.jsx("rect",{x:"11",y:"11",width:"9",height:"9",fill:"#ffb900"})]})}),"Sign in with Microsoft"]})})}),l.jsxs("p",{className:"ct-sign-in__note",children:["By signing in, you agree to our"," ",l.jsx(Xt,{to:"/privacy-policy",target:"_blank",children:"Privacy Policy"}),"."]})]})})}),Xl=()=>l.jsx($e,{children:l.jsx(Ze,{children:l.jsxs("div",{className:"ct-resolving",children:[l.jsx("div",{className:"ct-spinner ct-spinner--large"}),l.jsx("h2",{children:"Verifying your subscription..."}),l.jsx("p",{children:"Please wait while we verify your Azure Marketplace purchase."})]})})}),bo=()=>l.jsxs($e,{children:[l.jsx(Ht,{children:l.jsx("h2",{children:"Tell us about yourself"})}),l.jsxs(Ze,{children:[c&&l.jsxs("div",{className:"ct-sso-info",children:[l.jsxs("div",{className:"ct-sso-info__header",children:[l.jsx("span",{className:"ct-sso-info__icon",children:""}),l.jsxs("span",{children:["Signed in as ",l.jsx("strong",{children:c.email||c.preferredUsername})]})]}),l.jsx("p",{className:"ct-sso-info__note",children:"Your information has been pre-filled from your Microsoft account. Please review and update if needed."})]}),F&&l.jsxs("div",{className:"ct-resolved-info",children:[l.jsxs("div",{className:"ct-resolved-info__item",children:[l.jsx("span",{className:"ct-resolved-info__label",children:"Subscription:"}),l.jsx("span",{className:"ct-resolved-info__value",children:F.subscriptionName})]}),l.jsxs("div",{className:"ct-resolved-info__item",children:[l.jsx("span",{className:"ct-resolved-info__label",children:"Plan:"}),l.jsx("span",{className:"ct-resolved-info__value",children:F.planId})]}),c?.tenantId&&l.jsxs("div",{className:"ct-resolved-info__item",children:[l.jsx("span",{className:"ct-resolved-info__label",children:"Tenant ID:"}),l.jsx("span",{className:"ct-resolved-info__value ct-resolved-info__value--mono",children:c.tenantId})]})]}),l.jsxs("form",{onSubmit:Yl,className:"ct-customer-form",children:[l.jsxs("div",{className:"ct-form-row",children:[l.jsxs("div",{className:"ct-input-group",children:[l.jsxs("label",{className:"ct-label--primary",children:["Full Name ",l.jsx("span",{className:"ct-required",children:"*"})]}),l.jsx("input",{type:"text",className:`ct-input--primary ${fe.customerName?"ct-input--error":""}`,value:q,onChange:$=>{ye($.target.value),tt(ue=>({...ue,customerName:void 0}))},placeholder:"John Smith"}),fe.customerName&&l.jsx("div",{className:"ct-input-error",children:fe.customerName})]}),l.jsxs("div",{className:"ct-input-group",children:[l.jsxs("label",{className:"ct-label--primary",children:["Email Address ",l.jsx("span",{className:"ct-required",children:"*"})]}),l.jsx("input",{type:"email",className:`ct-input--primary ${fe.customerEmail?"ct-input--error":""}`,value:Ne,onChange:$=>{at($.target.value),tt(ue=>({...ue,customerEmail:void 0}))},placeholder:"john@company.com"}),fe.customerEmail&&l.jsx("div",{className:"ct-input-error",children:fe.customerEmail})]})]}),l.jsxs("div",{className:"ct-form-row",children:[l.jsxs("div",{className:"ct-input-group",children:[l.jsxs("label",{className:"ct-label--primary",children:["Company Name ",l.jsx("span",{className:"ct-required",children:"*"})]}),l.jsx("input",{type:"text",className:`ct-input--primary ${fe.companyName?"ct-input--error":""}`,value:lt,onChange:$=>{ee($.target.value),tt(ue=>({...ue,companyName:void 0}))},placeholder:"Acme Corporation"}),fe.companyName&&l.jsx("div",{className:"ct-input-error",children:fe.companyName})]}),l.jsxs("div",{className:"ct-input-group",children:[l.jsx("label",{className:"ct-label--primary",children:"Phone Number"}),l.jsx("input",{type:"tel",className:`ct-input--primary ${fe.phoneNumber?"ct-input--error":""}`,value:Qe,onChange:$=>{We($.target.value),tt(ue=>({...ue,phoneNumber:void 0}))},placeholder:"+1 (555) 123-4567"}),fe.phoneNumber&&l.jsx("div",{className:"ct-input-error",children:fe.phoneNumber})]})]}),l.jsxs("div",{className:"ct-form-row",children:[l.jsxs("div",{className:"ct-input-group",children:[l.jsx("label",{className:"ct-label--primary",children:"Job Title"}),l.jsx("input",{type:"text",className:"ct-input--primary",value:St,onChange:$=>L($.target.value),placeholder:"IT Manager"})]}),l.jsxs("div",{className:"ct-input-group",children:[l.jsxs("label",{className:"ct-label--primary",children:["Country ",l.jsx("span",{className:"ct-required",children:"*"})]}),l.jsx($O,{countryCode:Q,countryOther:Ae,onCountryCodeChange:ne,onCountryOtherChange:we,countryError:A,countryOtherError:J,onErrorClear:()=>{B(""),W("")}})]})]}),l.jsxs("div",{className:"ct-entra-section",children:[l.jsxs("div",{className:"ct-entra-section__header",children:[l.jsx("h3",{children:"Microsoft Entra ID Configuration"}),l.jsx("p",{className:"ct-entra-section__description",children:"To integrate ComsignTrust CMS with your organization, we need your Microsoft Entra ID (formerly Azure AD) app registration details. This allows us to securely communicate with your tenant."}),l.jsx(Xt,{to:"/entra-id-guide",className:"ct-entra-section__guide-link",target:"_blank",children:" How to configure Entra ID? (Step-by-step guide)"})]}),l.jsxs("div",{className:"ct-entra-section__security-note",children:[l.jsx("span",{className:"ct-entra-section__security-icon",children:""}),l.jsxs("div",{children:[l.jsx("strong",{children:"Security Note:"})," Your credentials are transmitted securely over HTTPS and encrypted at rest. We recommend using a dedicated app registration with minimal required permissions for this integration."]})]}),l.jsxs("div",{className:"ct-form-row",children:[l.jsxs("div",{className:"ct-input-group",children:[l.jsxs("label",{className:"ct-label--primary",children:["Application (Client) ID ",l.jsx("span",{className:"ct-required",children:"*"})]}),l.jsx("input",{type:"text",className:`ct-input--primary ${tn.clientId?"ct-input--error":""}`,value:Fe,onChange:$=>{_i($.target.value),Zn(ue=>({...ue,clientId:void 0}))},placeholder:"12345678-1234-1234-1234-123456789abc"}),l.jsx("span",{className:"ct-input-hint",children:`Found on the app's Overview page as "Application (client) ID"`}),tn.clientId&&l.jsx("div",{className:"ct-input-error",children:tn.clientId})]}),l.jsxs("div",{className:"ct-input-group",children:[l.jsxs("label",{className:"ct-label--primary",children:["Directory (Tenant) ID ",l.jsx("span",{className:"ct-required",children:"*"})]}),l.jsx("input",{type:"text",className:`ct-input--primary ${tn.tenantId?"ct-input--error":""}`,value:Jr||c?.tenantId||"",onChange:$=>{Bn($.target.value),Zn(ue=>({...ue,tenantId:void 0}))},placeholder:"87654321-4321-4321-4321-cba987654321"}),l.jsx("span",{className:"ct-input-hint",children:c?.tenantId?"Pre-filled from your sign-in. Change only if using a different tenant.":`Found on the app's Overview page as "Directory (tenant) ID"`}),tn.tenantId&&l.jsx("div",{className:"ct-input-error",children:tn.tenantId})]})]}),l.jsxs("div",{className:"ct-input-group",children:[l.jsxs("label",{className:"ct-label--primary",children:["Client Secret ",l.jsx("span",{className:"ct-required",children:"*"})]}),l.jsx("input",{type:"password",className:`ct-input--primary ${tn.clientSecret?"ct-input--error":""}`,value:$n,onChange:$=>{Ha($.target.value),Zn(ue=>({...ue,clientSecret:void 0}))},placeholder:"Enter your client secret value",autoComplete:"off"}),l.jsxs("span",{className:"ct-input-hint",children:['Found in "Certificates & secrets"  "Client secrets". Use the secret ',l.jsx("strong",{children:"Value"}),", not the Secret ID."]}),tn.clientSecret&&l.jsx("div",{className:"ct-input-error",children:tn.clientSecret})]})]}),l.jsxs("div",{className:"ct-input-group",children:[l.jsx("label",{className:"ct-label--primary",children:"Additional Comments"}),l.jsx("textarea",{className:"ct-input--primary ct-textarea",value:de,onChange:$=>ve($.target.value),rows:3,placeholder:"Any special requirements or questions?"})]}),l.jsxs("div",{className:"ct-form-actions",children:[l.jsx(xe,{type:"button",variant:"outline",size:"large",onClick:()=>{ye("Gal Cohen"),at("galc@comda.co.il"),ee("Comda"),We("+972-50-123-4567"),L("Software Developer"),ne("IL"),we(""),ve("Demo submission for testing"),_i("12345678-1234-1234-1234-123456789abc"),Ha("demo-client-secret-value-12345"),Bn("87654321-4321-4321-4321-cba987654321"),B(""),W(""),Zn({}),tt({})},children:"Fill Test Data"}),l.jsx(xe,{type:"submit",variant:"primary",size:"large",disabled:C,children:C?"Saving...":"Continue to Token Selection"})]})]})]})]}),_o=()=>l.jsxs($e,{children:[l.jsx(Ht,{children:l.jsx("h2",{children:"Choose Your Tokens"})}),l.jsxs(Ze,{children:[l.jsx("p",{className:"ct-feature-intro",children:"Enable the credential types you need and specify the quantity of tokens you want to purchase. These will be added to your metered billing."}),l.jsx("div",{className:"ct-feature-list",children:Y.map($=>l.jsxs("div",{className:`ct-feature-card ${$.isEnabled?"ct-feature-card--enabled":""}`,children:[l.jsxs("div",{className:"ct-feature-card__header",children:[l.jsxs("label",{className:"ct-feature-toggle",children:[l.jsx("input",{type:"checkbox",checked:$.isEnabled,onChange:()=>So($.featureId)}),l.jsx("span",{className:"ct-feature-toggle__slider"})]}),l.jsxs("div",{className:"ct-feature-card__info",children:[l.jsx("h3",{children:$.featureName}),l.jsx("p",{children:$.description})]}),l.jsxs("div",{className:"ct-feature-card__price",children:["$",$.pricePerUnit.toFixed(2),l.jsx("span",{children:"/token"})]})]}),$.isEnabled&&l.jsxs("div",{className:"ct-feature-card__body",children:[l.jsxs("div",{className:"ct-quantity-selector",children:[l.jsx("label",{children:"Quantity:"}),l.jsxs("div",{className:"ct-quantity-input",children:[l.jsx("button",{type:"button",onClick:()=>ra($.featureId,$.quantity-100),disabled:$.quantity<=$.minQuantity,children:"-"}),l.jsx("input",{type:"number",value:$.quantity,onChange:ue=>ra($.featureId,parseInt(ue.target.value)||0),min:$.minQuantity,max:$.maxQuantity}),l.jsx("button",{type:"button",onClick:()=>ra($.featureId,$.quantity+100),disabled:$.quantity>=$.maxQuantity,children:"+"})]}),l.jsxs("span",{className:"ct-quantity-range",children:["(",$.minQuantity.toLocaleString()," - ",$.maxQuantity.toLocaleString(),")"]})]}),l.jsxs("div",{className:"ct-feature-card__subtotal",children:["Subtotal: ",l.jsxs("strong",{children:["$",($.quantity*$.pricePerUnit).toFixed(2)]})]})]})]},$.featureId))}),l.jsxs("div",{className:"ct-feature-summary",children:[l.jsxs("div",{className:"ct-feature-summary__total",children:[l.jsx("span",{children:"Estimated Monthly Total:"}),l.jsxs("strong",{children:["$",$r().toFixed(2)]})]}),l.jsx("p",{className:"ct-feature-summary__note",children:"* Actual charges will be based on usage and billed through Azure Marketplace."})]}),l.jsxs("div",{className:"ct-form-actions",children:[l.jsx(xe,{variant:"outline",size:"large",onClick:()=>p("customer-info"),disabled:C,children:"Back"}),l.jsx(xe,{variant:"primary",size:"large",onClick:Xr,disabled:C,children:C?"Processing...":"Finish Setup"})]})]})]}),Ba=()=>l.jsx($e,{children:l.jsx(Ze,{children:l.jsxs("div",{className:"ct-thank-you",children:[l.jsx("div",{className:"ct-thank-you__icon",children:""}),l.jsx("h1",{children:"Thank You for Subscribing!"}),l.jsx("p",{className:"ct-thank-you__message",children:"Your subscription request has been submitted successfully. Our team will review your information and contact you shortly to complete the setup."}),M&&l.jsxs("div",{className:"ct-thank-you__details",children:[l.jsx("h3",{children:"Subscription Details"}),l.jsxs("div",{className:"ct-thank-you__grid",children:[l.jsxs("div",{className:"ct-thank-you__item",children:[l.jsx("span",{className:"ct-thank-you__label",children:"Company"}),l.jsx("span",{className:"ct-thank-you__value",children:M.companyName})]}),l.jsxs("div",{className:"ct-thank-you__item",children:[l.jsx("span",{className:"ct-thank-you__label",children:"Contact"}),l.jsx("span",{className:"ct-thank-you__value",children:M.customerName})]}),l.jsxs("div",{className:"ct-thank-you__item",children:[l.jsx("span",{className:"ct-thank-you__label",children:"Email"}),l.jsx("span",{className:"ct-thank-you__value",children:M.customerEmail})]}),l.jsxs("div",{className:"ct-thank-you__item",children:[l.jsx("span",{className:"ct-thank-you__label",children:"Reference ID"}),l.jsx("span",{className:"ct-thank-you__value ct-thank-you__value--mono",children:M.azureSubscriptionId})]})]}),M.featureSelections.length>0&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:"Selected Features"}),l.jsx("div",{className:"ct-thank-you__features",children:M.featureSelections.map($=>l.jsxs("div",{className:"ct-thank-you__feature",children:[l.jsx("span",{children:$.featureName}),l.jsxs("span",{children:[$.quantity.toLocaleString()," tokens"]})]},$.featureId))})]})]}),l.jsxs("div",{className:"ct-thank-you__next-steps",children:[l.jsx("h3",{children:"What happens next?"}),l.jsxs("ol",{children:[l.jsx("li",{children:"Our team will review your subscription request"}),l.jsx("li",{children:"You will receive a confirmation email within 24 hours"}),l.jsx("li",{children:"We will contact you to complete the technical setup"}),l.jsx("li",{children:"Once activated, you can start using your credentials"})]})]}),l.jsx("div",{className:"ct-thank-you__contact",children:l.jsxs("p",{children:["Questions? Contact us at"," ",l.jsx("a",{href:"mailto:support@comsigntrust.com",children:"support@comsigntrust.com"})]})})]})})}),$l=()=>{switch(m){case"sign-in":return Rt();case"resolving":return Xl();case"customer-info":return bo();case"feature-selection":return _o();case"thank-you":return Ba();default:return Rt()}};return l.jsx(ot,{showSidebar:!1,children:l.jsxs("div",{className:"ct-azure-landing",children:[l.jsxs("div",{className:"ct-azure-landing__header",children:[l.jsx("img",{src:"/logo_medium.png",alt:"ComsignTrust",className:"ct-azure-landing__logo",onError:$=>{$.currentTarget.style.display="none"}}),l.jsx("h1",{children:"ComsignTrust CMS"}),l.jsx("p",{children:"Azure Marketplace Subscription Setup"})]}),m!=="thank-you"&&Jl(),g&&l.jsxs("div",{className:"ct-azure-landing__error",children:[l.jsx("span",{children:""}),l.jsx("p",{children:g}),l.jsx("button",{onClick:()=>v(null),children:""})]}),l.jsx("div",{className:"ct-azure-landing__content",children:$l()})]})})}function X1(){const[r,t]=E.useState([]),[i,s]=E.useState(!0),[c,u]=E.useState(null),[h,m]=E.useState(1),[p,g]=E.useState(1),[v,C]=E.useState(0),[b,x]=E.useState(null),[T,N]=E.useState(!1),j=async()=>{s(!0),u(null);try{const Y=await YC.getEvents(h,20);t(Y.data),g(Y.totalPages),C(Y.total)}catch(Y){u(Y instanceof Error?Y.message:"Failed to fetch webhook events")}finally{s(!1)}};E.useEffect(()=>{j()},[h]);const F=async()=>{try{await YC.clearEvents(),N(!1),m(1),j()}catch(Y){u(Y instanceof Error?Y.message:"Failed to clear events")}},H=Y=>new Date(Y).toLocaleString(),M=Y=>{navigator.clipboard.writeText(Y)},X=Y=>{try{return JSON.stringify(JSON.parse(Y),null,2)}catch{return Y}};return l.jsxs(ot,{children:[l.jsxs("div",{className:"ct-page-container",children:[l.jsxs("div",{className:"ct-admin-header",children:[l.jsx("h1",{className:"ct-admin-title",children:"Azure Webhook Events"}),l.jsx("span",{className:"ct-badge ct-badge--warning",children:"Development Only"})]}),l.jsx("p",{className:"ct-admin-description",children:"This page displays all webhook events received from Azure Marketplace. Use this to debug and verify webhook integration during development."}),l.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"1.5rem",alignItems:"center"},children:[l.jsx(xe,{onClick:j,disabled:i,children:i?"Refreshing...":"Refresh"}),l.jsx(xe,{variant:"outline",onClick:()=>N(!0),disabled:r.length===0,children:"Clear All Events"}),l.jsxs("span",{className:"ct-text-muted",children:["Total events: ",v]})]}),c&&l.jsx("div",{className:"ct-alert ct-alert--error",style:{marginBottom:"1rem"},children:c}),l.jsxs($e,{children:[l.jsx(Ht,{children:l.jsx("h3",{children:"Webhook Events"})}),l.jsx(Ze,{children:i&&r.length===0?l.jsx("div",{className:"ct-loading",children:"Loading events..."}):r.length===0?l.jsxs("div",{className:"ct-empty-state",children:[l.jsx("p",{children:"No webhook events received yet."}),l.jsx("p",{className:"ct-text-muted",style:{marginTop:"0.5rem"},children:"Events will appear here when Azure sends webhooks to your endpoint."})]}):l.jsxs(l.Fragment,{children:[l.jsxs("table",{className:"ct-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"ID"}),l.jsx("th",{children:"Action"}),l.jsx("th",{children:"Subscription ID"}),l.jsx("th",{children:"Plan ID"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Received At"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:r.map(Y=>l.jsxs("tr",{children:[l.jsx("td",{children:Y.id}),l.jsx("td",{children:l.jsx("span",{className:`ct-badge ct-badge--${Y.action?.toLowerCase()==="subscribe"?"success":Y.action?.toLowerCase()==="unsubscribe"?"error":Y.action?.toLowerCase()==="suspend"?"warning":"default"}`,children:Y.action||"-"})}),l.jsx("td",{children:l.jsx("code",{style:{fontSize:"0.75rem"},children:Y.subscriptionId?`${Y.subscriptionId.substring(0,8)}...`:"-"})}),l.jsx("td",{children:Y.planId||"-"}),l.jsx("td",{children:Y.status||"-"}),l.jsx("td",{children:H(Y.receivedAt)}),l.jsx("td",{children:l.jsx(xe,{variant:"ghost",size:"small",onClick:()=>x(Y),children:"View Details"})})]},Y.id))})]}),p>1&&l.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"0.5rem",marginTop:"1rem"},children:[l.jsx(xe,{variant:"outline",size:"small",onClick:()=>m(Y=>Math.max(1,Y-1)),disabled:h===1,children:"Previous"}),l.jsxs("span",{style:{display:"flex",alignItems:"center",padding:"0 1rem"},children:["Page ",h," of ",p]}),l.jsx(xe,{variant:"outline",size:"small",onClick:()=>m(Y=>Math.min(p,Y+1)),disabled:h===p,children:"Next"})]})]})})]}),l.jsxs($e,{children:[l.jsx(Ht,{children:l.jsx("h3",{children:"Webhook Endpoint Configuration"})}),l.jsxs(Ze,{children:[l.jsx("p",{style:{marginBottom:"1rem"},children:"Configure this endpoint in Azure Partner Center  Technical Configuration  Connection Webhook:"}),l.jsxs("div",{style:{backgroundColor:"var(--ct-bg-tertiary)",padding:"1rem",borderRadius:"4px",fontFamily:"monospace",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("code",{children:["POST ",window.location.origin,"/api/webhook/azure"]}),l.jsx(xe,{variant:"ghost",size:"small",onClick:()=>M(`${window.location.origin}/api/webhook/azure`),children:"Copy"})]})]})]})]}),b&&l.jsx(Al,{isOpen:!0,onClose:()=>x(null),title:`Webhook Event #${b.id}`,size:"large",children:l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[l.jsxs("div",{children:[l.jsx("h4",{style:{marginBottom:"0.5rem"},children:"Event Metadata"}),l.jsx("table",{className:"ct-table",children:l.jsxs("tbody",{children:[l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("strong",{children:"Action"})}),l.jsx("td",{children:b.action||"-"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("strong",{children:"Subscription ID"})}),l.jsxs("td",{children:[l.jsx("code",{children:b.subscriptionId||"-"}),b.subscriptionId&&l.jsx(xe,{variant:"ghost",size:"small",onClick:()=>M(b.subscriptionId),style:{marginLeft:"0.5rem"},children:"Copy"})]})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("strong",{children:"Publisher ID"})}),l.jsx("td",{children:b.publisherId||"-"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("strong",{children:"Offer ID"})}),l.jsx("td",{children:b.offerId||"-"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("strong",{children:"Plan ID"})}),l.jsx("td",{children:b.planId||"-"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("strong",{children:"Operation ID"})}),l.jsx("td",{children:l.jsx("code",{children:b.operationId||"-"})})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("strong",{children:"Activity ID"})}),l.jsx("td",{children:l.jsx("code",{children:b.activityId||"-"})})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("strong",{children:"Status"})}),l.jsx("td",{children:b.status||"-"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("strong",{children:"Azure Timestamp"})}),l.jsx("td",{children:b.azureTimestamp?H(b.azureTimestamp):"-"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("strong",{children:"Received At"})}),l.jsx("td",{children:H(b.receivedAt)})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("strong",{children:"Source IP"})}),l.jsx("td",{children:b.sourceIp||"-"})]})]})})]}),l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[l.jsx("h4",{children:"Raw Payload"}),l.jsx(xe,{variant:"ghost",size:"small",onClick:()=>M(b.rawPayload),children:"Copy JSON"})]}),l.jsx("pre",{style:{backgroundColor:"var(--ct-bg-tertiary)",padding:"1rem",borderRadius:"4px",overflow:"auto",maxHeight:"300px",fontSize:"0.75rem"},children:X(b.rawPayload)})]}),b.headers&&l.jsxs("div",{children:[l.jsx("h4",{style:{marginBottom:"0.5rem"},children:"Request Headers"}),l.jsx("pre",{style:{backgroundColor:"var(--ct-bg-tertiary)",padding:"1rem",borderRadius:"4px",overflow:"auto",maxHeight:"200px",fontSize:"0.75rem",whiteSpace:"pre-wrap",wordBreak:"break-all"},children:b.headers.split("; ").join(`
`)})]})]})}),l.jsxs(Al,{isOpen:T,onClose:()=>N(!1),title:"Clear All Events?",size:"small",children:[l.jsxs("p",{style:{marginBottom:"1.5rem"},children:["This will permanently delete all ",v," webhook events. This action cannot be undone."]}),l.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[l.jsx(xe,{variant:"outline",onClick:()=>N(!1),children:"Cancel"}),l.jsx(xe,{variant:"primary",onClick:F,children:"Clear All Events"})]})]})]})}function $1(){return l.jsx(ot,{children:l.jsxs("div",{className:"ct-entra-guide",children:[l.jsxs("div",{className:"ct-entra-guide__header",children:[l.jsx(Xt,{to:"/azure-landing",className:"ct-entra-guide__back-link",children:" Back to Subscription Setup"}),l.jsx("h1",{children:"CCMS Installation Tutorial on Azure"}),l.jsx("p",{className:"ct-entra-guide__subtitle",children:"Step 1 - App Registration in Microsoft Entra ID"})]}),l.jsxs("div",{className:"ct-entra-guide__content",children:[l.jsxs("section",{className:"ct-entra-guide__section",children:[l.jsx("h2",{children:"Objective"}),l.jsx("p",{children:"Create Azure App Registrations to enable secure identity and access management for the Comsign CCMS system via Microsoft Entra ID (Azure AD)."}),l.jsxs("div",{className:"ct-entra-guide__info-box",children:[l.jsx("div",{className:"ct-entra-guide__info-icon",children:""}),l.jsxs("div",{children:[l.jsx("strong",{children:"What you'll need:"}),l.jsxs("ul",{children:[l.jsx("li",{children:"Azure portal access with permissions to create App Registrations"}),l.jsx("li",{children:"Administrator or Application Administrator role in your organization"}),l.jsx("li",{children:"Your CCMS domain URL (e.g., https://your-ccms-domain)"})]})]})]})]}),l.jsxs("section",{className:"ct-entra-guide__section",children:[l.jsxs("div",{className:"ct-entra-guide__step-header",children:[l.jsx("span",{className:"ct-entra-guide__step-number",children:"1"}),l.jsx("h2",{children:"Log in to Azure Portal"})]}),l.jsxs("ol",{className:"ct-entra-guide__steps",children:[l.jsxs("li",{children:["Open"," ",l.jsx("a",{href:"https://portal.azure.com",target:"_blank",rel:"noopener noreferrer",className:"ct-entra-guide__link",children:"https://portal.azure.com"})]}),l.jsxs("li",{children:["In the left-hand menu, go to ",l.jsx("strong",{children:"Microsoft Entra ID"})]}),l.jsxs("li",{children:["Click on ",l.jsx("strong",{children:"App registrations"})]})]}),l.jsxs("div",{className:"ct-entra-guide__image-container",children:[l.jsx("img",{src:"/entra_id_tutorial/image1.png",alt:"Azure Portal - App registrations in Azure services",className:"ct-entra-guide__image"}),l.jsx("p",{className:"ct-entra-guide__image-caption",children:'Click on "App registrations" in Azure services'})]}),l.jsx("ol",{className:"ct-entra-guide__steps",start:4,children:l.jsxs("li",{children:["Click ",l.jsx("strong",{children:"+ New registration"})]})}),l.jsxs("div",{className:"ct-entra-guide__image-container",children:[l.jsx("img",{src:"/entra_id_tutorial/image2.png",alt:"App registrations page - New registration button",className:"ct-entra-guide__image"}),l.jsx("p",{className:"ct-entra-guide__image-caption",children:'Click "+ New registration" to create a new app'})]})]}),l.jsxs("section",{className:"ct-entra-guide__section",children:[l.jsxs("div",{className:"ct-entra-guide__step-header",children:[l.jsx("span",{className:"ct-entra-guide__step-number",children:"2"}),l.jsx("h2",{children:"Register the CCMS Web App"})]}),l.jsxs("ol",{className:"ct-entra-guide__steps",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Name:"})," Enter a name for your application",l.jsx("div",{className:"ct-entra-guide__code-block",children:"CCMS-App"})]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Supported account types:"})," Choose",l.jsx("div",{className:"ct-entra-guide__option-highlight",children:"Accounts in this organizational directory only (Single tenant)"})]})]}),l.jsxs("div",{className:"ct-entra-guide__image-container",children:[l.jsx("img",{src:"/entra_id_tutorial/image3.png",alt:"Register an application - Name and account types",className:"ct-entra-guide__image"}),l.jsx("p",{className:"ct-entra-guide__image-caption",children:'Enter the app name and select "Accounts in this organizational directory only"'})]}),l.jsx("ol",{className:"ct-entra-guide__steps",start:3,children:l.jsxs("li",{children:[l.jsx("strong",{children:"Redirect URI:"}),l.jsxs("ul",{children:[l.jsxs("li",{children:["Type: ",l.jsx("strong",{children:"Web"})]}),l.jsxs("li",{children:["URI: ",l.jsx("code",{children:"https://<your-ccms-domain>/login/callback"})]})]}),l.jsxs("div",{className:"ct-entra-guide__tip",children:[l.jsx("strong",{children:"Note:"})," Replace ",l.jsx("code",{children:"<your-ccms-domain>"})," with your actual CCMS URL."]})]})}),l.jsxs("div",{className:"ct-entra-guide__image-container",children:[l.jsx("img",{src:"/entra_id_tutorial/image4.png",alt:"Redirect URI configuration",className:"ct-entra-guide__image"}),l.jsx("p",{className:"ct-entra-guide__image-caption",children:"Configure the Redirect URI with your CCMS domain"})]}),l.jsx("ol",{className:"ct-entra-guide__steps",start:4,children:l.jsxs("li",{children:["Click ",l.jsx("strong",{children:"Register"})]})})]}),l.jsxs("section",{className:"ct-entra-guide__section",children:[l.jsxs("div",{className:"ct-entra-guide__step-header",children:[l.jsx("span",{className:"ct-entra-guide__step-number",children:"3"}),l.jsx("h2",{children:"Generate Client Secret"})]}),l.jsxs("ol",{className:"ct-entra-guide__steps",children:[l.jsxs("li",{children:["After registration, go to ",l.jsx("strong",{children:"Certificates & secrets"})," in the left sidebar"]}),l.jsxs("li",{children:["Click ",l.jsx("strong",{children:"+ New client secret"})]}),l.jsxs("li",{children:["Add a description (e.g., ",l.jsx("code",{children:"CCMS Web Secret"}),") and select an expiration period"]}),l.jsxs("li",{children:["Click ",l.jsx("strong",{children:"Add"})]})]}),l.jsxs("div",{className:"ct-entra-guide__image-container",children:[l.jsx("img",{src:"/entra_id_tutorial/image5.png",alt:"Certificates & secrets - New client secret",className:"ct-entra-guide__image"}),l.jsx("p",{className:"ct-entra-guide__image-caption",children:'Go to "Certificates & secrets" and click "+ New client secret"'})]}),l.jsxs("div",{className:"ct-entra-guide__warning-box",children:[l.jsx("div",{className:"ct-entra-guide__warning-icon",children:""}),l.jsxs("div",{children:[l.jsx("strong",{children:"Important:"})," Save the ",l.jsx("strong",{children:"Value"})," immediately  it will only be shown once! You'll need this value for your CCMS app settings. Make sure to copy the ",l.jsx("strong",{children:"Value"}),' column, not the "Secret ID".']})]}),l.jsx("div",{className:"ct-entra-guide__values-table",children:l.jsxs("div",{className:"ct-entra-guide__value-row ct-entra-guide__value-row--highlight",children:[l.jsxs("div",{className:"ct-entra-guide__value-label",children:[l.jsx("strong",{children:"Client Secret Value"}),l.jsx("span",{className:"ct-entra-guide__required-badge",children:"Required"})]}),l.jsx("div",{className:"ct-entra-guide__value-desc",children:"Copy and save this value securely - you won't be able to see it again after leaving this page."})]})})]}),l.jsxs("section",{className:"ct-entra-guide__section",children:[l.jsxs("div",{className:"ct-entra-guide__step-header",children:[l.jsx("span",{className:"ct-entra-guide__step-number",children:"4"}),l.jsx("h2",{children:"Configure API Permissions"})]}),l.jsxs("ol",{className:"ct-entra-guide__steps",children:[l.jsxs("li",{children:["Go to ",l.jsx("strong",{children:"API permissions"})," in the left sidebar"]}),l.jsxs("li",{children:["Click ",l.jsx("strong",{children:"Add a permission"}),"  ",l.jsx("strong",{children:"Microsoft Graph"})]}),l.jsx("li",{children:"Add the following permissions:"})]}),l.jsx("div",{className:"ct-entra-guide__permissions-table",children:l.jsxs("table",{children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Permission Name"}),l.jsx("th",{children:"Type"}),l.jsx("th",{children:"Description"})]})}),l.jsxs("tbody",{children:[l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("code",{children:"Group.Read.All"})}),l.jsx("td",{children:"Application"}),l.jsx("td",{children:"Read all groups"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("code",{children:"GroupMember.Read.All"})}),l.jsx("td",{children:"Application"}),l.jsx("td",{children:"Read all group memberships"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("code",{children:"User.Read.All"})}),l.jsx("td",{children:"Application"}),l.jsx("td",{children:"Read all users' full profiles"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("code",{children:"User.Read"})}),l.jsx("td",{children:"Delegated"}),l.jsx("td",{children:"Sign in and read user profile"})]})]})]})}),l.jsx("ol",{className:"ct-entra-guide__steps",start:4,children:l.jsxs("li",{children:["Click ",l.jsx("strong",{children:"Grant admin consent"})," to approve the permissions for your organization"]})}),l.jsxs("div",{className:"ct-entra-guide__image-container",children:[l.jsx("img",{src:"/entra_id_tutorial/image6.png",alt:"API permissions configured",className:"ct-entra-guide__image"}),l.jsx("p",{className:"ct-entra-guide__image-caption",children:"API permissions configured with admin consent granted"})]}),l.jsxs("div",{className:"ct-entra-guide__tip",children:[l.jsx("strong",{children:"Tip:"}),' After granting consent, you should see a green checkmark next to each permission indicating "Granted for [your organization]".']})]}),l.jsxs("section",{className:"ct-entra-guide__section",children:[l.jsxs("div",{className:"ct-entra-guide__step-header",children:[l.jsx("span",{className:"ct-entra-guide__step-number",children:"5"}),l.jsx("h2",{children:"Add Optional Claim for Group Information"})]}),l.jsx("p",{children:"To allow CCMS to receive group claims in the token, configure the application to include the groups claim."}),l.jsxs("ol",{className:"ct-entra-guide__steps",children:[l.jsxs("li",{children:["In your App Registration, go to ",l.jsx("strong",{children:"Token configuration"})]}),l.jsxs("li",{children:["Click ",l.jsx("strong",{children:"+ Add groups claim"})]})]}),l.jsxs("div",{className:"ct-entra-guide__image-container",children:[l.jsx("img",{src:"/entra_id_tutorial/image7.png",alt:"Token configuration - Add groups claim",className:"ct-entra-guide__image"}),l.jsx("p",{className:"ct-entra-guide__image-caption",children:'Click "+ Add groups claim" in Token configuration'})]}),l.jsxs("ol",{className:"ct-entra-guide__steps",start:3,children:[l.jsxs("li",{children:["In the popup:",l.jsxs("ul",{children:[l.jsxs("li",{children:["Choose ",l.jsx("strong",{children:"Security groups"})," (default is fine)"]}),l.jsxs("li",{children:["Under ",l.jsx("strong",{children:"Token types"}),", check all relevant:",l.jsxs("ul",{children:[l.jsx("li",{children:" ID"}),l.jsx("li",{children:" Access"}),l.jsx("li",{children:" SAML"})]})]}),l.jsx("li",{children:"Leave the optional settings as Default"})]})]}),l.jsxs("li",{children:["Click ",l.jsx("strong",{children:"Add"})]})]})]}),l.jsxs("section",{className:"ct-entra-guide__section",children:[l.jsxs("div",{className:"ct-entra-guide__step-header",children:[l.jsx("span",{className:"ct-entra-guide__step-number",children:"6"}),l.jsx("h2",{children:"Expose an API (Create Scope for Login)"})]}),l.jsx("p",{children:"To allow other apps (like the CCMS client or backend) to request tokens to access your CCMS application, you need to expose an API and define scopes."}),l.jsxs("ol",{className:"ct-entra-guide__steps",children:[l.jsxs("li",{children:["In the App Registration, go to ",l.jsx("strong",{children:"Expose an API"})]}),l.jsxs("li",{children:["Set the ",l.jsx("strong",{children:"Application ID URI"})," if it's not already set (you'll see a default like ",l.jsx("code",{children:"api://<app-guid>"}),")"]}),l.jsxs("li",{children:["Click ",l.jsx("strong",{children:"+ Add a scope"})]})]}),l.jsxs("div",{className:"ct-entra-guide__image-container",children:[l.jsx("img",{src:"/entra_id_tutorial/image8.png",alt:"Expose an API - Add a scope",className:"ct-entra-guide__image"}),l.jsx("p",{className:"ct-entra-guide__image-caption",children:'Click "+ Add a scope" to create the login scope'})]}),l.jsxs("ol",{className:"ct-entra-guide__steps",start:4,children:[l.jsxs("li",{children:["In the ",l.jsx("strong",{children:"Add a scope"})," dialog, enter:",l.jsxs("div",{className:"ct-entra-guide__scope-config",children:[l.jsxs("div",{className:"ct-entra-guide__config-item",children:[l.jsx("span",{className:"ct-entra-guide__config-label",children:"Scope name:"}),l.jsx("code",{children:"login"})]}),l.jsxs("div",{className:"ct-entra-guide__config-item",children:[l.jsx("span",{className:"ct-entra-guide__config-label",children:"Who can consent:"}),l.jsx("span",{children:"Admins and users"})]}),l.jsxs("div",{className:"ct-entra-guide__config-item",children:[l.jsx("span",{className:"ct-entra-guide__config-label",children:"Admin consent display name:"}),l.jsx("span",{children:"Login"})]}),l.jsxs("div",{className:"ct-entra-guide__config-item",children:[l.jsx("span",{className:"ct-entra-guide__config-label",children:"Admin consent description:"}),l.jsx("span",{children:"Allow client applications to authenticate and login to CCMS."})]}),l.jsxs("div",{className:"ct-entra-guide__config-item",children:[l.jsx("span",{className:"ct-entra-guide__config-label",children:"User consent display name:"}),l.jsx("span",{children:"Login"})]}),l.jsxs("div",{className:"ct-entra-guide__config-item",children:[l.jsx("span",{className:"ct-entra-guide__config-label",children:"User consent description:"}),l.jsx("span",{children:"Login to CCMS system."})]}),l.jsxs("div",{className:"ct-entra-guide__config-item",children:[l.jsx("span",{className:"ct-entra-guide__config-label",children:"State:"}),l.jsx("span",{children:"Enabled"})]})]})]}),l.jsxs("li",{children:["Click ",l.jsx("strong",{children:"Add scope"})]})]}),l.jsx("div",{className:"ct-entra-guide__tip",children:'Once added, it will appear under "Scopes defined by this API".'})]}),l.jsxs("section",{className:"ct-entra-guide__section",children:[l.jsxs("div",{className:"ct-entra-guide__step-header",children:[l.jsx("span",{className:"ct-entra-guide__step-number",children:"7"}),l.jsx("h2",{children:"Enable Redirect URI for Native Client (Desktop/Mobile)"})]}),l.jsx("h3",{className:"ct-entra-guide__subsection-title",children:"A. Enable Native Client Redirect URI"}),l.jsx("p",{children:"This step is required to allow desktop or mobile CCMS clients to authenticate users through Microsoft Entra ID using the MSAL authentication library."}),l.jsxs("ol",{className:"ct-entra-guide__steps",children:[l.jsxs("li",{children:["In your App Registration, go to ",l.jsx("strong",{children:"Authentication"})]}),l.jsxs("li",{children:["Scroll to the section titled ",l.jsx("strong",{children:"Mobile and desktop applications"})]}),l.jsxs("li",{children:["Ensure the following URI is added and checked:",l.jsx("div",{className:"ct-entra-guide__code-block",children:"https://login.microsoftonline.com/common/oauth2/nativeclient"})]})]}),l.jsxs("div",{className:"ct-entra-guide__image-container",children:[l.jsx("img",{src:"/entra_id_tutorial/image9.png",alt:"Authentication - Mobile and desktop applications",className:"ct-entra-guide__image"}),l.jsx("p",{className:"ct-entra-guide__image-caption",children:"Enable the native client redirect URI for MSAL"})]}),l.jsxs("div",{className:"ct-entra-guide__info-box",children:[l.jsx("div",{className:"ct-entra-guide__info-icon",children:""}),l.jsx("div",{children:"This URI must be checked to allow token responses to desktop clients using MSAL."})]}),l.jsx("h3",{className:"ct-entra-guide__subsection-title",children:"B. Set Front-Channel Logout URL"}),l.jsx("p",{children:"To support single sign-out (SSO logout), configure a Front-channel logout URL:"}),l.jsxs("ol",{className:"ct-entra-guide__steps",children:[l.jsxs("li",{children:["Still in the ",l.jsx("strong",{children:"Authentication"})," section, scroll to ",l.jsx("strong",{children:"Front-channel logout URL"})]}),l.jsxs("li",{children:["Enter the logout endpoint used by your CCMS app:",l.jsx("div",{className:"ct-entra-guide__code-block",children:"https://<your-ccms-domain>/logout"})]})]}),l.jsxs("div",{className:"ct-entra-guide__image-container",children:[l.jsx("img",{src:"/entra_id_tutorial/image10.png",alt:"Authentication - Front-channel logout URL",className:"ct-entra-guide__image"}),l.jsx("p",{className:"ct-entra-guide__image-caption",children:"Configure the Front-channel logout URL"})]}),l.jsxs("div",{className:"ct-entra-guide__info-box",children:[l.jsx("div",{className:"ct-entra-guide__info-icon",children:""}),l.jsxs("div",{children:[l.jsx("strong",{children:"Requirements for this URL:"}),l.jsxs("ul",{children:[l.jsx("li",{children:"Must match your CCMS application base address"}),l.jsx("li",{children:"Must accept GET requests to terminate sessions"})]}),"This ensures that when a user signs out of Azure AD, the CCMS app will also be notified to clear the user's session locally."]})]})]}),l.jsxs("section",{className:"ct-entra-guide__section ct-entra-guide__section--summary",children:[l.jsx("h2",{children:"Summary: Values Needed for CCMS Setup"}),l.jsxs("p",{children:["After completing the steps above, you should have the following values from the ",l.jsx("strong",{children:"Overview"})," page:"]}),l.jsxs("div",{className:"ct-entra-guide__summary-table",children:[l.jsxs("div",{className:"ct-entra-guide__summary-row",children:[l.jsx("div",{className:"ct-entra-guide__summary-field",children:"Application (Client) ID"}),l.jsx("div",{className:"ct-entra-guide__summary-location",children:"App Registration  Overview"})]}),l.jsxs("div",{className:"ct-entra-guide__summary-row",children:[l.jsx("div",{className:"ct-entra-guide__summary-field",children:"Directory (Tenant) ID"}),l.jsx("div",{className:"ct-entra-guide__summary-location",children:"App Registration  Overview"})]}),l.jsxs("div",{className:"ct-entra-guide__summary-row",children:[l.jsx("div",{className:"ct-entra-guide__summary-field",children:"Client Secret Value"}),l.jsx("div",{className:"ct-entra-guide__summary-location",children:"App Registration  Certificates & secrets"})]})]}),l.jsx("div",{className:"ct-entra-guide__cta",children:l.jsx(Xt,{to:"/azure-landing",className:"ct-entra-guide__cta-button",children:" Return to Subscription Setup"})})]}),l.jsxs("section",{className:"ct-entra-guide__section",children:[l.jsx("h2",{children:"Troubleshooting"}),l.jsxs("div",{className:"ct-entra-guide__faq",children:[l.jsxs("div",{className:"ct-entra-guide__faq-item",children:[l.jsx("h3",{children:"I don't have permission to create App Registrations"}),l.jsx("p",{children:'Contact your Azure administrator or IT department. They may need to grant you the "Application Developer" role or create the app registration on your behalf.'})]}),l.jsxs("div",{className:"ct-entra-guide__faq-item",children:[l.jsx("h3",{children:"I lost my client secret value"}),l.jsx("p",{children:"Client secret values can only be viewed once when created. You'll need to create a new client secret and update your CCMS configuration with the new value."})]}),l.jsxs("div",{className:"ct-entra-guide__faq-item",children:[l.jsx("h3",{children:"My client secret expired"}),l.jsx("p",{children:"Create a new client secret following Step 3 above, then update your CCMS configuration with the new secret value."})]}),l.jsxs("div",{className:"ct-entra-guide__faq-item",children:[l.jsx("h3",{children:"Admin consent is not available"}),l.jsx("p",{children:"You may need Global Administrator or Privileged Role Administrator permissions to grant admin consent. Contact your Azure AD administrator."})]})]})]}),l.jsxs("section",{className:"ct-entra-guide__section ct-entra-guide__contact",children:[l.jsx("h2",{children:"Need Help?"}),l.jsx("p",{children:"If you encounter any issues during the configuration process, our support team is here to help."}),l.jsxs("div",{className:"ct-entra-guide__contact-info",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Email:"})," ",l.jsx("a",{href:"mailto:support@comsigntrust.com",children:"support@comsigntrust.com"})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Phone:"})," +972-3-6485255"]})]})]})]})]})})}function Z1(){return l.jsx(PO,{children:l.jsxs(fO,{children:[l.jsx(bn,{path:"/",element:l.jsx(ZO,{})}),l.jsx(bn,{path:"/pricing",element:l.jsx(k1,{})}),l.jsx(bn,{path:"/subscription-success/:id",element:l.jsx(M1,{})}),l.jsx(bn,{path:"/dashboard/:id",element:l.jsx(D1,{})}),l.jsx(bn,{path:"/dashboard/:id/history",element:l.jsx(U1,{})}),l.jsx(bn,{path:"/admin",element:l.jsx(L1,{})}),l.jsx(bn,{path:"/privacy-policy",element:l.jsx(P1,{})}),l.jsx(bn,{path:"/support",element:l.jsx(z1,{})}),l.jsx(bn,{path:"/azure-landing",element:l.jsx(J1,{})}),l.jsx(bn,{path:"/azure-webhooks",element:l.jsx(X1,{})}),l.jsx(bn,{path:"/entra-id-guide",element:l.jsx($1,{})})]})})}document.documentElement.dir="ltr";document.documentElement.lang="en";async function W1(){let r=K1;try{const i=await H1();r=B1(i),console.info("[App] Loaded configuration from server")}catch(i){console.warn("[App] Failed to load server config, using defaults:",i)}const t=new cj(r);await t.initialize();try{const i=await t.handleRedirectPromise();i&&t.setActiveAccount(i.account)}catch(i){console.error("[MSAL] Redirect error:",i)}t.addEventCallback(i=>{if(i.eventType===re.LOGIN_SUCCESS&&i.payload){const s=i.payload;s.account&&t.setActiveAccount(s.account)}}),QC.createRoot(document.getElementById("root")).render(l.jsx(E.StrictMode,{children:l.jsx(mj,{instance:t,children:l.jsx(Z1,{})})}))}W1().catch(r=>{console.error("[App] Failed to initialize:",r),QC.createRoot(document.getElementById("root")).render(l.jsxs("div",{style:{padding:"20px",textAlign:"center"},children:[l.jsx("h1",{children:"Application Error"}),l.jsx("p",{children:"Failed to initialize the application. Please refresh the page or contact support."})]}))});
